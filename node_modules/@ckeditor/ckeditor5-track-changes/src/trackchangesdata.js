/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x1cff=['add','string','extraPlugins','reduce','track-changes-data-invalid-editor-creator','data','names','toolbar','requires','trackChangesData.editorCreator','discardAllSuggestions','concat','has','find','getDataWithDiscardedSuggestions','init','getUser','push','plugins','context','document','config','CommentsRepository','div','result','addSuggestionData','editorCreator','users','RealTimeCollaborativeTrackChanges','model','pluginName','TrackChangesEditing','createDocumentFragment','appendChild','editor','createElement','execute','addUser','_adapter','getSuggestions','getRootNames','define','name','includes','get','TrackChangesData','Autosave','map','every','constructor','destroy','trackChangesData','Users','useAnonymousUser','function'];(function(_0x23e2db,_0x1cff4f){const _0x5ee8d0=function(_0x14a270){while(--_0x14a270){_0x23e2db['push'](_0x23e2db['shift']());}};_0x5ee8d0(++_0x1cff4f);}(_0x1cff,0xfa));const _0x5ee8=function(_0x23e2db,_0x1cff4f){_0x23e2db=_0x23e2db-0x0;let _0x5ee8d0=_0x1cff[_0x23e2db];return _0x5ee8d0;};import{Plugin as _0x4701aa}from'ckeditor5/src/core';import{CKEditorError as _0x4eaacb}from'ckeditor5/src/utils';import _0x73c570 from'./trackchangesediting';const f=['initialData',_0x5ee8('0x2c'),_0x5ee8('0x20')],C=['RealTimeCollaborativeEditing','RealTimeCollaborativeComments',_0x5ee8('0x35'),_0x5ee8('0x10')];export default class k extends _0x4701aa{static get[_0x5ee8('0x21')](){return[_0x73c570];}static get[_0x5ee8('0x0')](){return _0x5ee8('0xf');}[_0x5ee8('0x28')](){const _0x527db7=this[_0x5ee8('0x4')];if(_0x527db7[_0x5ee8('0x2e')][_0x5ee8('0xb')](_0x5ee8('0x22'),_0x328d0d=>_0x527db7[_0x5ee8('0x13')]['create']('',_0x328d0d)),_0x5ee8('0x18')!=typeof _0x527db7[_0x5ee8('0x2e')]['get'](_0x5ee8('0x15'))[_0x5ee8('0x33')])throw new _0x4eaacb(_0x5ee8('0x1d'));}['getDataWithAcceptedSuggestions'](_0x3618d8){return D(this[_0x5ee8('0x4')],!0x0,_0x3618d8);}[_0x5ee8('0x27')](_0x1cb8f8){return D(this[_0x5ee8('0x4')],!0x1,_0x1cb8f8);}}class T extends _0x4701aa{static get[_0x5ee8('0x0')](){return'TrackChangesDataGetter';}[_0x5ee8('0x28')](){this[_0x5ee8('0x31')]='end',this['editor']['plugins'][_0x5ee8('0xe')](_0x5ee8('0x2f'))[_0x5ee8('0x8')]={'getCommentThread':()=>new Promise(()=>{})},this[_0x5ee8('0x4')][_0x5ee8('0x2b')]['get'](_0x5ee8('0x1'))[_0x5ee8('0x8')]=null;}}async function D(_0x4f4a14,_0x5239f0,_0x2e3776){const _0xf04ae0=function(_0x4794a7){const _0x59f4f2={};for(const _0x1f72a4 of _0x4794a7[_0x5ee8('0x2e')][_0x5ee8('0x1f')]())f[_0x5ee8('0xd')](_0x1f72a4)||(_0x59f4f2[_0x1f72a4]=_0x4794a7[_0x5ee8('0x2e')][_0x5ee8('0xe')](_0x1f72a4));const _0x1fd475=_0x4794a7[_0x5ee8('0x13')]['builtinPlugins']||[],_0x2d07ca=_0x59f4f2[_0x5ee8('0x1b')]||[];delete _0x59f4f2['extraPlugins'];const _0xcd1d73=_0x1fd475['concat'](_0x59f4f2[_0x5ee8('0x2b')])[_0x5ee8('0x24')](_0x2d07ca)[_0x5ee8('0x11')](_0x11a55b=>_0x5ee8('0x1a')==typeof _0x11a55b?_0x1fd475[_0x5ee8('0x26')](_0x13dd48=>_0x13dd48[_0x5ee8('0x0')]==_0x11a55b):_0x11a55b),_0x31426d=Array['from'](new Set(_0xcd1d73));return _0x59f4f2[_0x5ee8('0x2b')]=_0x31426d['filter'](_0x1666db=>w(_0x1666db,new Set())),_0x59f4f2['plugins'][_0x5ee8('0x2a')](T),_0x59f4f2['plugins'][_0x5ee8('0x2a')](_0x73c570),_0x59f4f2;}(_0x4f4a14),_0xc965a4=document[_0x5ee8('0x2')](),_0x57d1b1=_0x4f4a14[_0x5ee8('0x2e')][_0x5ee8('0xe')](_0x5ee8('0x15'))['editorCreator'],_0x19b57d=await _0x57d1b1(_0xf04ae0,()=>function(_0x2457bf){const _0x171f83=document[_0x5ee8('0x5')](_0x5ee8('0x30'));return _0x2457bf[_0x5ee8('0x3')](_0x171f83),_0x171f83;}(_0xc965a4));!function(_0x22d678,_0x547f35){const _0x11e32e=_0x22d678[_0x5ee8('0x36')][_0x5ee8('0x2d')][_0x5ee8('0xa')]()[_0x5ee8('0x1c')]((_0x4f58ee,_0x589f6a)=>(_0x4f58ee[_0x589f6a]=_0x22d678[_0x5ee8('0x1e')][_0x5ee8('0xe')]({'rootName':_0x589f6a}),_0x4f58ee),{}),_0x371c3e=_0x22d678[_0x5ee8('0x2b')][_0x5ee8('0xe')]('Users')[_0x5ee8('0x34')][_0x5ee8('0x11')](_0x4264ce=>({'id':_0x4264ce['id']})),_0x2818f3=_0x22d678['plugins'][_0x5ee8('0xe')](_0x5ee8('0x1'))[_0x5ee8('0x9')]({'skipNotAttached':!0x0,'toJSON':!0x0}),_0x53e271=_0x547f35['plugins'][_0x5ee8('0xe')](_0x5ee8('0x16')),_0x6e72b8=_0x547f35[_0x5ee8('0x2b')][_0x5ee8('0xe')]('TrackChangesEditing');for(const _0x5594e7 of _0x371c3e)_0x53e271[_0x5ee8('0x29')](_0x5594e7['id'])||_0x53e271[_0x5ee8('0x7')](_0x5594e7);_0x53e271['me']||_0x53e271[_0x5ee8('0x17')]();for(const _0x205214 of _0x2818f3)_0x6e72b8[_0x5ee8('0x32')](_0x205214);_0x547f35[_0x5ee8('0x1e')]['set'](_0x11e32e);}(_0x4f4a14,_0x19b57d),_0x19b57d[_0x5ee8('0x6')](_0x5239f0?'acceptAllSuggestions':_0x5ee8('0x23'));const _0x585c49=_0x19b57d[_0x5ee8('0x1e')][_0x5ee8('0xe')](_0x2e3776);return await _0x19b57d[_0x5ee8('0x14')](),_0x585c49;}function w(_0x2f94da,_0x2b08b3){if(_0x2b08b3[_0x5ee8('0x25')](_0x2f94da))return!0x0;_0x2b08b3[_0x5ee8('0x19')](_0x2f94da);const _0x4be340='function'==typeof _0x2f94da?_0x2f94da[_0x5ee8('0x0')]||_0x2f94da[_0x5ee8('0xc')]:_0x2f94da;return(!_0x4be340||!C['includes'](_0x4be340))&&(!_0x2f94da[_0x5ee8('0x21')]||_0x2f94da[_0x5ee8('0x21')][_0x5ee8('0x12')](_0x3d52a3=>w(_0x3d52a3,_0x2b08b3)));}