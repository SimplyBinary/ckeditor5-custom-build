/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{Plugin as _0x1983b7}from'ckeditor5/src/core';export default class ht extends _0x1983b7{['afterInit'](){const _0x4a35dc=this['editor'],t=_0x4a35dc['t'];if(!_0x4a35dc['plugins']['has']('Title'))return;const _0x51dede=_0x4a35dc['plugins']['get']('TrackChangesEditing');_0x51dede['_descriptionFactory']['registerElementLabel']('title-content',()=>t({'id':'ELEMENT_TITLE','string':'title'})),_0x4a35dc['model']['document']['registerPostFixer'](_0x272f00=>{let _0x1c4261=!0x1;const _0x3dd2bd=Array['from'](_0x4a35dc['model']['document']['differ']['getChangedMarkers']());for(const {name:_0x1ee794,data:_0x35bb77}of _0x3dd2bd){const {group:_0x221470}=_0x51dede['_splitMarkerName'](_0x1ee794);if('suggestion'!==_0x221470||!_0x35bb77['newRange'])continue;const _0x15fc6c=_0x35bb77['newRange'],_0x16b701=_0x15fc6c['end']['nodeBefore'];if(!_0x16b701||!_0x16b701['is']('element','title-content'))continue;if(!_0x15fc6c['start']['isTouching'](_0x15fc6c['end']))continue;const _0x1f78c0=_0x4a35dc['model']['schema']['getNearestSelectionRange'](_0x15fc6c['end'],'forward');if(_0x1f78c0&&_0x1f78c0['isCollapsed']){const _0x398280=_0x272f00['createRange'](_0x15fc6c['start'],_0x1f78c0['start']);_0x398280['isEqual'](_0x15fc6c)||(_0x272f00['updateMarker'](_0x1ee794,{'range':_0x398280}),_0x1c4261=!0x0);}_0x1c4261||(_0x272f00['removeMarker'](_0x1ee794),_0x1c4261=!0x0);}return _0x1c4261;});}}