/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{Plugin as _0x28e18f}from'ckeditor5/src/core';import{ShiftEnter as _0x19e18f}from'ckeditor5/src/enter';export default class nt extends _0x28e18f{static get['requires'](){return[_0x19e18f];}['init'](){const _0x3052c9=this['editor'],_0x578d3e=_0x3052c9['plugins']['get']('TrackChangesEditing'),t=_0x3052c9['t'];_0x578d3e['enableCommand']('shiftEnter'),_0x3052c9['editing']['downcastDispatcher']['on']('addMarker:suggestion:insertion',re(_0x3052c9),{'priority':'high'}),_0x3052c9['editing']['downcastDispatcher']['on']('addMarker:suggestion:deletion',re(_0x3052c9),{'priority':'high'}),_0x3052c9['data']['downcastDispatcher']['on']('addMarker:suggestion',(_0x27f59a,_0x5ae3d7,_0x8b1bde)=>{_0x8b1bde['options']['showSuggestionHighlights']&&re(_0x3052c9,{'showActiveMarker':!0x1})(_0x27f59a,_0x5ae3d7,_0x8b1bde);}),_0x578d3e['_descriptionFactory']['registerElementLabel']('softBreak',_0x2d8c97=>t({'id':'ELEMENT_LINE_BREAK','string':'line\x20break','plural':'%0\x20line\x20breaks'},_0x2d8c97));}}function re(_0x14888b,{showActiveMarker:_0x492412=!0x0}={}){return(_0x25aec5,_0x4196f9,_0x24d4d7)=>{const _0x563b28=_0x14888b['plugins']['get']('TrackChangesEditing');if(!_0x24d4d7['consumable']['test'](_0x4196f9['markerRange'],_0x25aec5['name']))return;const _0x51bbe3=_0x14888b['model'];for(const _0x2c073f of _0x4196f9['markerRange']['getItems']()){if(!_0x2c073f['is']('element','softBreak'))continue;const _0x1c8f4b='deletion'==_0x4196f9['markerName']['split'](':')[0x1]?'merge':'split',_0x3438a5=_0x24d4d7['writer']['createUIElement']('span',{'class':'ck-suggestion-marker-'+_0x1c8f4b}),_0x3e1567=_0x24d4d7['mapper']['toViewPosition'](_0x51bbe3['createPositionBefore'](_0x2c073f));_0x492412&&_0x563b28['activeMarkers']['includes'](_0x4196f9['markerName'])&&_0x24d4d7['writer']['addClass']('ck-suggestion-marker--active',_0x3438a5),_0x24d4d7['writer']['insert'](_0x3e1567,_0x3438a5),_0x24d4d7['mapper']['bindElementToMarker'](_0x3438a5,_0x4196f9['markerName']);}};}