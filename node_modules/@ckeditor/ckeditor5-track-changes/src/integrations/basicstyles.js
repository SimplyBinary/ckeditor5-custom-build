/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{Plugin as _0x30f407}from'ckeditor5/src/core';import{getRangesWithAttribute as Rt}from'./utils';const Ot=['BoldEditing','ItalicEditing','UnderlineEditing','CodeEditing','StrikethroughEditing','SubscriptEditing','SuperscriptEditing'];export default class E extends _0x30f407{['afterInit'](){const _0x1169cd=this['editor'],_0x102c3e=_0x1169cd['model'],_0x10650a=_0x1169cd['plugins']['get']('TrackChangesEditing'),{t:t}=_0x1169cd['locale'];for(const _0x10d3de of Ot){if(!_0x1169cd['plugins']['has'](_0x10d3de))continue;const _0x52d362=_0x10d3de['slice'](0x0,-0x7)['toLowerCase'](),_0x352ea9=_0x1169cd['commands']['get'](_0x52d362);_0x10650a['enableCommand'](_0x52d362,(_0xb56f15,_0x40976c={})=>{const _0x9865b6=_0x102c3e['document']['selection'];if(_0x9865b6['isCollapsed'])return void _0xb56f15(_0x40976c);const _0x3733d0=void 0x0!==_0x40976c['forceValue']?_0x40976c['forceValue']:!_0x352ea9['value'];_0x102c3e['change'](()=>{const _0x2282dc=Array['from'](_0x9865b6['getRanges']());for(const _0x3b1ca0 of _0x2282dc){const _0x2bd47e=_0x3733d0?[_0x3b1ca0]:Rt(_0x52d362,_0x3b1ca0,_0x102c3e);for(const _0x488284 of _0x2bd47e)_0x10650a['markInlineFormat'](_0x488284,{'commandName':_0x52d362,'commandParams':[{'forceValue':_0x3733d0}]});}});});}function _0x2bca21(_0x320e79,_0x16eb0f){_0x10650a['_descriptionFactory']['registerDescriptionCallback'](_0x1b79f4=>{const {data:_0x288ce4}=_0x1b79f4;if(_0x288ce4&&_0x288ce4['commandName']===_0x320e79)return _0x288ce4['commandParams'][0x0]['forceValue']?{'type':'format','content':t('*Format:*\x20%0',_0x16eb0f)}:{'type':'format','content':t('*Remove\x20format:*\x20%0',_0x16eb0f)};});}_0x2bca21('bold',t({'string':'bold','id':'FORMAT_BOLD'})),_0x2bca21('italic',t({'string':'italic','id':'FORMAT_ITALIC'})),_0x2bca21('underline',t({'string':'underline','id':'FORMAT_UNDERLINE'})),_0x2bca21('code',t({'string':'code','id':'FORMAT_CODE'})),_0x2bca21('strikethrough',t({'string':'strikethrough','id':'FORMAT_STRIKETHROUGH'})),_0x2bca21('subscript',t({'string':'subscript','id':'FORMAT_SUBSCRIPT'})),_0x2bca21('superscript',t({'string':'superscript','id':'FORMAT_SUPERSCRIPT'}));}}