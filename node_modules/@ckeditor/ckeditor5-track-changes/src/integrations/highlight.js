/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x4cb3=['registerDescriptionCallback','getRanges','formatInline','commandName','backward','getFirstPosition','highlight.options','value','HighlightEditing','get','push','item','format','color','*Set\x20highlight:*\x20%0','getLastMatchingPosition','plugins','change','find','hasAttribute','config','model','getAttribute','document','highlight','commandParams','editor','title'];(function(_0x525586,_0x4cb363){const _0x199050=function(_0x273c15){while(--_0x273c15){_0x525586['push'](_0x525586['shift']());}};_0x199050(++_0x4cb363);}(_0x4cb3,0x1be));const _0x1990=function(_0x525586,_0x4cb363){_0x525586=_0x525586-0x0;let _0x199050=_0x4cb3[_0x525586];return _0x199050;};import{Plugin as _0x16b635}from'ckeditor5/src/core';import{getTranslation as _0x3e9772}from'../utils/common-translations';import{getRangesWithAttribute as _0x1d3587}from'./utils';export default class W extends _0x16b635{['afterInit'](){const _0x290285=this[_0x1990('0x0')];if(!_0x290285[_0x1990('0x12')]['has'](_0x1990('0xa')))return;const _0x3b1fba=_0x290285[_0x1990('0x12')]['get']('TrackChangesEditing');_0x3b1fba['enableCommand'](_0x1990('0x1a'),(_0x3d3477,_0xa400f7={})=>{const _0x68241b=_0x290285['model'][_0x1990('0x19')]['selection'],_0x149ba4=_0x68241b['getAttribute']('highlight');let _0x114987=_0xa400f7[_0x1990('0x9')],_0xe4b497=[];if(_0x68241b['isCollapsed']){const _0x32c840=_0x68241b[_0x1990('0x7')]();if(!_0x68241b[_0x1990('0x15')](_0x1990('0x1a')))return void _0x3d3477(_0xa400f7);{const _0x31a650=_0x51af0a=>_0x51af0a[_0x1990('0xd')][_0x1990('0x18')](_0x1990('0x1a'))===_0x149ba4,_0x2f4ace=_0x32c840[_0x1990('0x11')](_0x31a650,{'direction':_0x1990('0x6')}),_0x485f67=_0x32c840[_0x1990('0x11')](_0x31a650);_0xe4b497=[_0x290285[_0x1990('0x17')]['createRange'](_0x2f4ace,_0x485f67)],_0x114987==_0x149ba4&&(_0x114987=null);}}else for(const _0xf5040e of _0x68241b[_0x1990('0x3')]())_0x114987?_0xe4b497[_0x1990('0xc')](_0xf5040e):_0xe4b497[_0x1990('0xc')](..._0x1d3587(_0x1990('0x1a'),_0xf5040e,_0x290285[_0x1990('0x17')]));_0x290285['model'][_0x1990('0x13')](()=>{for(const _0x4f91c7 of _0xe4b497)_0x3b1fba['markInlineFormat'](_0x4f91c7,{'commandName':'highlight','commandParams':[{'value':_0x114987}]});});});const _0x584dfd=_0x290285['locale'];_0x3b1fba['_descriptionFactory'][_0x1990('0x2')](_0x29422e=>{const {type:_0x95f774,data:_0x15a8ab}=_0x29422e;if(_0x1990('0x4')==_0x95f774&&_0x15a8ab&&_0x1990('0x1a')==_0x15a8ab[_0x1990('0x5')]){const _0x31b04d=_0x15a8ab[_0x1990('0x1b')][0x0]['value'];if(_0x31b04d){const _0x8ed2f3=_0x290285[_0x1990('0x16')][_0x1990('0xb')](_0x1990('0x8'))[_0x1990('0x14')](_0x5c2448=>_0x5c2448['model']==_0x31b04d),_0x10743c=_0x584dfd['_t'](_0x8ed2f3[_0x1990('0x1')])['toLowerCase']();return{'type':_0x1990('0xe'),'content':_0x3e9772(_0x584dfd,_0x1990('0x10'),_0x10743c),'color':{'value':_0x8ed2f3[_0x1990('0xf')],'title':_0x8ed2f3[_0x1990('0x1')]}};}return{'type':_0x1990('0xe'),'content':_0x3e9772(_0x584dfd,'*Remove\x20highlight*',_0x3e9772(_0x584dfd,'FORMAT_HIGHLIGHT'))};}});}}