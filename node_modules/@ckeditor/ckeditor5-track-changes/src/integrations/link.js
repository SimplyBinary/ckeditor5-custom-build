/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x27a0=['hasAttribute','selection','isCollapsed','unlink','*Remove\x20link*','registerDescriptionCallback','change','document','LinkEditing','model','commandParams','format','commandName','*Set\x20link:*\x20%0','getFirstRange','getFirstPosition','TrackChangesEditing','getAttribute','enableCommand','linkHref','link','editor','markInlineFormat'];(function(_0x65646c,_0x27a0c3){const _0x35c6a3=function(_0x1ce8fe){while(--_0x1ce8fe){_0x65646c['push'](_0x65646c['shift']());}};_0x35c6a3(++_0x27a0c3);}(_0x27a0,0x7e));const _0x35c6=function(_0x65646c,_0x27a0c3){_0x65646c=_0x65646c-0x0;let _0x35c6a3=_0x27a0[_0x65646c];return _0x35c6a3;};import{Plugin as _0xb8f7c4}from'ckeditor5/src/core';import{findAttributeRange as _0x29ce8b}from'ckeditor5/src/typing';import{getRangesWithAttribute as _0x54f21c}from'./utils';import{getTranslation as _0x4f5558}from'../utils/common-translations';export default class V extends _0xb8f7c4{['afterInit'](){const _0x1e7675=this[_0x35c6('0xa')];if(!_0x1e7675['plugins']['has'](_0x35c6('0x14')))return;const _0x539d92=_0x1e7675['plugins']['get'](_0x35c6('0x5'));_0x539d92['enableCommand']('link',(_0x6fa172,_0x86de1e)=>{const _0x31566e=_0x1e7675['model'][_0x35c6('0x13')][_0x35c6('0xd')];let _0x203f46=[];if(_0x31566e['isCollapsed']){if(!_0x31566e[_0x35c6('0xc')](_0x35c6('0x8')))return void _0x6fa172(_0x86de1e);{const _0x188f28=_0x29ce8b(_0x31566e[_0x35c6('0x4')](),_0x35c6('0x8'),_0x31566e[_0x35c6('0x6')](_0x35c6('0x8')),_0x1e7675[_0x35c6('0x15')]);_0x203f46=[_0x188f28];}}else _0x203f46=Array['from'](_0x31566e['getRanges']());_0x1e7675['model']['change'](()=>{for(const _0x4d0115 of _0x203f46)_0x539d92['markInlineFormat'](_0x4d0115,{'commandName':_0x35c6('0x9'),'commandParams':[_0x86de1e]});});}),_0x539d92[_0x35c6('0x7')](_0x35c6('0xf'),()=>{const _0x4739fd=this[_0x35c6('0xa')]['model'],_0x1b3344=_0x4739fd['document'][_0x35c6('0xd')];_0x4739fd[_0x35c6('0x12')](()=>{let _0x59c7cb=[];if(_0x1b3344[_0x35c6('0xe')])_0x59c7cb=[_0x29ce8b(_0x1b3344[_0x35c6('0x4')](),_0x35c6('0x8'),_0x1b3344['getAttribute'](_0x35c6('0x8')),_0x1e7675[_0x35c6('0x15')])];else _0x59c7cb=_0x54f21c(_0x35c6('0x8'),_0x1b3344[_0x35c6('0x3')](),_0x1e7675['model']);for(const _0x577b99 of _0x59c7cb)_0x539d92[_0x35c6('0xb')](_0x577b99,{'commandName':_0x35c6('0xf'),'commandParams':[]});});}),_0x539d92['_descriptionFactory'][_0x35c6('0x11')](_0xaec68c=>{const {data:_0xf48e38}=_0xaec68c,_0x36942f=_0x1e7675['locale'];if(_0xf48e38){if(_0x35c6('0x9')==_0xf48e38[_0x35c6('0x1')]){const _0x495a20=_0xf48e38[_0x35c6('0x16')][0x0];return{'type':_0x35c6('0x0'),'content':_0x4f5558(_0x36942f,_0x35c6('0x2'),'\x22'+_0x495a20+'\x22')};}return'unlink'==_0xf48e38[_0x35c6('0x1')]?{'type':_0x35c6('0x0'),'content':_0x4f5558(_0x36942f,_0x35c6('0x10'))}:void 0x0;}});}}