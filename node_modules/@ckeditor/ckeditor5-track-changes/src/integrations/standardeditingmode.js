/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{Plugin as _0x5810b7}from'ckeditor5/src/core';import{getRangesWithAttribute as Rt}from'./utils';export default class et extends _0x5810b7{['afterInit'](){const _0x2cffa5=this['editor'],_0x3bec2b=_0x2cffa5['model'];if(!_0x2cffa5['plugins']['has']('StandardEditingModeEditing'))return;const _0x124cda=_0x2cffa5['plugins']['get']('TrackChangesEditing'),_0x3756ef='restrictedEditingException',_0x11356c=_0x2cffa5['commands']['get'](_0x3756ef);_0x124cda['enableCommand'](_0x3756ef,(_0x2a0086,_0x11bf3b={})=>{const _0x24f06d=_0x3bec2b['document']['selection'];if(_0x24f06d['isCollapsed'])return void _0x2a0086(_0x11bf3b);const _0x1d52df=void 0x0!==_0x11bf3b['forceValue']?_0x11bf3b['forceValue']:!_0x11356c['value'];_0x3bec2b['change'](()=>{const _0x10ec9a=Array['from'](_0x24f06d['getRanges']());for(const _0x4c1395 of _0x10ec9a){const _0x29f2d7=_0x1d52df?[_0x4c1395]:Rt(_0x3756ef,_0x4c1395,_0x3bec2b);for(const _0x48e10a of _0x29f2d7)_0x124cda['markInlineFormat'](_0x48e10a,{'commandName':_0x3756ef,'commandParams':[{'forceValue':_0x1d52df}]});}});});const t=_0x2cffa5['t'];_0x124cda['_descriptionFactory']['registerDescriptionCallback'](_0x106e35=>{const {data:_0x527e78}=_0x106e35;if(_0x527e78&&_0x527e78['commandName']==_0x3756ef)return _0x527e78['commandParams'][0x0]['forceValue']?{'type':'format','content':t({'string':'*Enable\x20in\x20restricted\x20editing\x20mode*','id':'FORMAT_RESTRICTED_ENABLED'})}:{'type':'format','content':t({'string':'*Disable\x20in\x20restricted\x20editing\x20mode*','id':'FORMAT_RESTRICTED_DISABLED'})};});}}