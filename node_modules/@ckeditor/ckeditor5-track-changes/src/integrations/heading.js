/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{Plugin as _0xb47d62}from'ckeditor5/src/core';import{getElementsAffectedByListItemRename as _0x32ec1d}from'./utils';export default class q extends _0xb47d62{['afterInit'](){const _0x36004d=this['editor'],{t:t}=_0x36004d['locale'],_0x4279be=_0x36004d['config']['get']('heading.options');if(!_0x36004d['plugins']['has']('HeadingEditing'))return;const _0x117ed7=_0x36004d['plugins']['get']('TrackChangesEditing');_0x117ed7['enableCommand']('heading',(_0x2ad656,_0x5a3605)=>{const _0xe95430=_0x5a3605['value'],_0x4445ab=Array['from'](this['editor']['model']['document']['selection']['getSelectedBlocks']())['filter'](_0x1cece6=>function(_0x3d23e,_0xfd7b23,_0x5d223c){return _0x5d223c['checkChild'](_0x3d23e['parent'],_0xfd7b23)&&!_0x5d223c['isObject'](_0x3d23e)&&_0x3d23e['name']!=_0xfd7b23;}(_0x1cece6,_0xe95430,this['editor']['model']['schema']));_0x36004d['model']['change'](()=>{for(const _0x1608d0 of _0x4445ab)_0x117ed7['markBlockFormat'](_0x1608d0,{'commandName':'heading','commandParams':[_0x5a3605],'formatGroupId':'blockName'},_0x32ec1d(_0x1608d0));});});for(const _0x21663b of _0x4279be)'paragraph'!=_0x21663b['model']&&_0x117ed7['_descriptionFactory']['registerElementLabel'](_0x21663b['model'],_0x4210f4=>{const _0x49bdba=tn(_0x21663b['model']);return null!==_0x49bdba?_0x3746ad(_0x4210f4,_0x49bdba):_0xcd77d7(_0x4210f4,_0x21663b['title']);});function _0x3746ad(_0x5b23cf,_0x11af11){return t({'string':'heading\x20(level\x20%1)','plural':'%0\x20headings\x20(level\x20%1)','id':'ELEMENT_HEADING'},[_0x5b23cf,_0x11af11]);}function _0xcd77d7(_0x38e7b4,_0x521355){return t({'string':'heading\x20(%1)','plural':'%0\x20headings\x20(%1)','id':'ELEMENT_HEADING_CUSTOM'},[_0x38e7b4,_0x521355]);}_0x117ed7['_descriptionFactory']['registerDescriptionCallback'](_0x5bd689=>{const {type:_0x201986,data:_0x48d3ca}=_0x5bd689;if('formatBlock'==_0x201986&&_0x48d3ca&&'heading'==_0x48d3ca['commandName']){const _0x580367=_0x48d3ca['commandParams'][0x0]['value'],_0x437f4d=tn(_0x580367);if(null!==_0x437f4d)return{'type':'format','content':t('*Change\x20to:*\x20%0',_0x3746ad(0x1,_0x437f4d))};const _0x3ee6f1=_0x4279be['find'](_0xb19343=>_0xb19343['model']===_0x580367)['title'];return{'type':'format','content':t('*Change\x20to:*\x20%0',_0xcd77d7(0x1,_0x3ee6f1))};}});}}function tn(_0xb976f8){const _0x46ca4e=_0xb976f8['match'](/^heading(\d+)$/);return _0x46ca4e?_0x46ca4e[0x1]:null;}