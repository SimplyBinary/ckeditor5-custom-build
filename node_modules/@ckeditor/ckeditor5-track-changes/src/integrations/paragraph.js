/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x4bbe=['span','insertParagraph','isBlock','checkChild','addClass','ck-suggestion-marker-split','Paragraph','createUIElement','*Insert:*\x20%0','markerName','highest','markBlockFormat','consume','markerRange','bindElementToMarker','addMarker:suggestion:insertion','afterInit','model','registerDescriptionCallback','document','registerElementLabel','TrackChangesEditing','toViewPosition','selection','isObject','data','change','commandName','isTouching','editing','parent','$text','start','format','insert','type','downcastDispatcher','insertion','ck-suggestion-marker--active','schema','mapper','isLimit','consumable','getSelectedBlocks','_descriptionFactory','locale','activeMarkers','writer','get','enableCommand','paragraph','options','has','plugins','end','nodeAfter'];(function(_0x1e769e,_0x4bbea5){const _0x42ddd3=function(_0x7a4299){while(--_0x7a4299){_0x1e769e['push'](_0x1e769e['shift']());}};_0x42ddd3(++_0x4bbea5);}(_0x4bbe,0xe4));const _0x42dd=function(_0x1e769e,_0x4bbea5){_0x1e769e=_0x1e769e-0x0;let _0x42ddd3=_0x4bbe[_0x1e769e];return _0x42ddd3;};import{Plugin as _0x34ca08}from'ckeditor5/src/core';import{getElementsAffectedByListItemRename as _0x54facb}from'./utils';import{getTranslation as _0x18d174}from'../utils/common-translations';export default class it extends _0x34ca08{[_0x42dd('0xc')](){const _0x207795=this['editor'];if(!_0x207795[_0x42dd('0x31')][_0x42dd('0x30')](_0x42dd('0x2')))return;const _0x3a9542=_0x207795[_0x42dd('0x29')],_0x5afcba=_0x207795[_0x42dd('0x31')][_0x42dd('0x2c')](_0x42dd('0x11'));_0x5afcba[_0x42dd('0x28')][_0x42dd('0x10')](_0x42dd('0x2e'),_0x5af026=>_0x18d174(_0x3a9542,'ELEMENT_PARAGRAPH',_0x5af026)),_0x5afcba[_0x42dd('0x2d')](_0x42dd('0x2e'),(_0x460680,_0x58a97c={})=>{const _0x29e584=_0x207795['model'][_0x42dd('0xf')],_0x1c49c5=_0x58a97c[_0x42dd('0x13')]||_0x29e584[_0x42dd('0x13')],_0x1a7151=Array['from'](_0x1c49c5[_0x42dd('0x27')]())['filter'](_0x39cf2e=>function(_0x1fef88,_0x498aa6){return _0x498aa6[_0x42dd('0x37')](_0x1fef88[_0x42dd('0x1a')],_0x42dd('0x2e'))&&!_0x498aa6[_0x42dd('0x14')](_0x1fef88)&&_0x42dd('0x2e')!=_0x1fef88['name'];}(_0x39cf2e,this['editor'][_0x42dd('0xd')]['schema']));_0x207795[_0x42dd('0xd')][_0x42dd('0x16')](()=>{for(const _0x22fb99 of _0x1a7151)_0x5afcba[_0x42dd('0x7')](_0x22fb99,{'commandName':_0x42dd('0x2e'),'commandParams':[],'formatGroupId':'blockName'},_0x54facb(_0x22fb99));});}),_0x5afcba[_0x42dd('0x28')][_0x42dd('0xe')](_0xd4b7c=>{const {data:_0x438ebd}=_0xd4b7c;if(_0x438ebd&&_0x42dd('0x2e')==_0x438ebd[_0x42dd('0x17')])return{'type':_0x42dd('0x1d'),'content':_0x18d174(_0x3a9542,'*Change\x20to:*\x20%0',_0x18d174(_0x3a9542,'ELEMENT_PARAGRAPH'))};}),_0x5afcba[_0x42dd('0x2d')](_0x42dd('0x35')),_0x207795[_0x42dd('0x19')][_0x42dd('0x20')]['on'](_0x42dd('0xb'),tr(_0x207795),{'priority':_0x42dd('0x6')}),_0x207795[_0x42dd('0x15')][_0x42dd('0x20')]['on'](_0x42dd('0xb'),(_0x45c09b,_0xcfa50a,_0x101c28)=>{_0x101c28[_0x42dd('0x2f')]['showSuggestionHighlights']&&tr(_0x207795,{'showActiveMarker':!0x1})(_0x45c09b,_0xcfa50a,_0x101c28);},{'priority':_0x42dd('0x6')});const _0x202467=_0x5afcba['_descriptionFactory'];_0x202467[_0x42dd('0xe')](_0x194a35=>{if(_0x42dd('0x21')!==_0x194a35[_0x42dd('0x1f')])return;const {start:_0x32d616,end:_0x52e8a4}=_0x194a35['getFirstRange']();if(!_0x32d616[_0x42dd('0x18')](_0x52e8a4)||!_0x32d616[_0x42dd('0x33')])return;const _0x285ff7=_0x207795['model'][_0x42dd('0x23')],_0x232350=_0x32d616[_0x42dd('0x33')];return _0x285ff7[_0x42dd('0x36')](_0x232350)&&!_0x285ff7['isLimit'](_0x232350)&&_0x285ff7[_0x42dd('0x37')](_0x232350,'$text')?{'type':_0x42dd('0x21'),'content':_0x18d174(_0x3a9542,_0x42dd('0x4'),_0x202467['getItemLabel'](_0x232350['name'],0x1))}:void 0x0;});}}function tr(_0x1aefbc,{showActiveMarker:_0x55a785=!0x0}={}){return(_0x1ad5df,_0x4f0aa3,_0x5755f2)=>{const _0x4335ed=_0x1aefbc[_0x42dd('0x31')]['get'](_0x42dd('0x11')),_0x55158c=_0x4f0aa3[_0x42dd('0x9')][_0x42dd('0x1c')],_0x3b191d=_0x4f0aa3[_0x42dd('0x9')][_0x42dd('0x32')],_0x2f4b5d=_0x1aefbc[_0x42dd('0xd')][_0x42dd('0x23')];if(!_0x55158c['isTouching'](_0x3b191d)||!_0x55158c[_0x42dd('0x33')])return;const _0x225cab=_0x55158c[_0x42dd('0x33')];if(_0x2f4b5d[_0x42dd('0x36')](_0x225cab)&&!_0x2f4b5d[_0x42dd('0x25')](_0x225cab)&&_0x2f4b5d[_0x42dd('0x37')](_0x225cab,_0x42dd('0x1b'))){if(!_0x5755f2[_0x42dd('0x26')][_0x42dd('0x8')](_0x4f0aa3[_0x42dd('0x9')],_0x1ad5df['name']))return;const _0x4f0c69=_0x5755f2['writer'][_0x42dd('0x3')](_0x42dd('0x34'),{'class':_0x42dd('0x1')}),_0xc43b09=_0x5755f2[_0x42dd('0x24')][_0x42dd('0x12')](_0x3b191d);_0x55a785&&_0x4335ed[_0x42dd('0x2a')]['includes'](_0x4f0aa3[_0x42dd('0x5')])&&_0x5755f2[_0x42dd('0x2b')][_0x42dd('0x0')](_0x42dd('0x22'),_0x4f0c69),_0x5755f2[_0x42dd('0x2b')][_0x42dd('0x1e')](_0xc43b09,_0x4f0c69),_0x5755f2[_0x42dd('0x24')][_0x42dd('0xa')](_0x4f0c69,_0x4f0aa3[_0x42dd('0x5')]);}};}