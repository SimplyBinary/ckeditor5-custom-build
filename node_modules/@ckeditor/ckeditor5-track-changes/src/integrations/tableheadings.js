/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x4932=['activeMarkers','createPositionAfter','getSuggestion','getColumnIndexes','stop','TableEditing','ck-suggestion-marker-','highest','removeMarker:suggestion','format','TableUtils','findAncestor','removeClass','selection','commandName','item','commands','addMarker:suggestion','*Format:*\x20%0','end','mapper','showSuggestionHighlights','data-suggestion','nodeBefore','markerNameToElements','createTableWalker','addClass','registerDescriptionCallback','getSelectionAffectedTableCells','options','enableCommand','FORMAT_HEADER_COLUMN','getCellLocation','value','index','ck-suggestion-marker--active','markerRange','has','parent','afterInit','plugins','first','_splitMarkerName','consume','cell','setAttribute','includes','forceValue','createPositionBefore','document','isBefore','accept','TrackChangesEditing','editing','childCount','FORMAT_HEADER_ROW','registerCustomCallback','setTableRowHeader','locale','from','commandParams','formatBlock','get','markBlockFormat','markerName','writer','last','table','model','data','setTableColumnHeader','FORMAT_REGULAR_COLUMN','requires','_descriptionFactory','createRange','change','downcastDispatcher','getChild','_acceptFormatSuggestionCallbackFactory','getAttribute','name','FORMAT_REGULAR_ROW','removeAttribute'];(function(_0x4bd689,_0x493212){const _0x2ca9e4=function(_0x5842b3){while(--_0x5842b3){_0x4bd689['push'](_0x4bd689['shift']());}};_0x2ca9e4(++_0x493212);}(_0x4932,0x1a2));const _0x2ca9=function(_0x4bd689,_0x493212){_0x4bd689=_0x4bd689-0x0;let _0x2ca9e4=_0x4932[_0x4bd689];return _0x2ca9e4;};import{Plugin as _0x333f22}from'ckeditor5/src/core';import _0x4e24c7 from'./table';import{getTranslation as _0x27eb06}from'../utils/common-translations';export default class ct extends _0x333f22{static get[_0x2ca9('0x45')](){return[_0x4e24c7];}[_0x2ca9('0x24')](){const _0x4cca5d=this['editor'];if(!_0x4cca5d['plugins'][_0x2ca9('0x22')](_0x2ca9('0x2')))return;const _0x2d3ce2=_0x4cca5d[_0x2ca9('0x37')],_0x3aa996=_0x4cca5d[_0x2ca9('0x25')][_0x2ca9('0x3b')](_0x2ca9('0x31')),_0x302042=_0x4cca5d[_0x2ca9('0x25')]['get'](_0x2ca9('0x7')),_0x4be1bd=_0x4cca5d['plugins'][_0x2ca9('0x3b')](_0x4e24c7);function _0x3f56fd({showActiveMarker:_0x6a5e5f=!0x0,setDataAttribute:_0x36e3c7=!0x0}={}){return(_0x5805f8,_0x2138ad,_0xf76803)=>{const {type:_0x2cdb34,id:_0x355d19}=_0x3aa996[_0x2ca9('0x27')](_0x2138ad[_0x2ca9('0x3d')]),_0x594e17=_0x3aa996[_0x2ca9('0x52')](_0x355d19);if(!_0x594e17[_0x2ca9('0x42')]||_0x2ca9('0x43')!=_0x594e17[_0x2ca9('0x42')][_0x2ca9('0xb')])return;if(_0x2138ad[_0x2ca9('0xc')])return void _0x5805f8[_0x2ca9('0x1')]();if(!_0xf76803['consumable'][_0x2ca9('0x28')](_0x2138ad['markerRange'],_0x5805f8[_0x2ca9('0x4d')]))return;const _0x4edd4b=_0x2138ad[_0x2ca9('0x21')]['start']['nodeAfter'],_0x5d2044=_0x2138ad[_0x2ca9('0x21')][_0x2ca9('0x10')][_0x2ca9('0x14')],_0x454298=_0x4edd4b['parent'][_0x2ca9('0x23')],{column:_0x440fd3}=_0x302042['getCellLocation'](_0x4edd4b),{column:_0x37aa78}=_0x302042[_0x2ca9('0x1d')](_0x5d2044);for(let _0x102239=_0x440fd3;_0x102239<=_0x37aa78;_0x102239++){const _0x1a65fb=_0x302042['createTableWalker'](_0x454298,{'column':_0x102239,'includeAllSlots':!0x1});for(const _0x805543 of _0x1a65fb){const _0x5a8c30=_0x805543[_0x2ca9('0x29')],_0x4eaaa6=_0xf76803[_0x2ca9('0x11')]['toViewElement'](_0x5a8c30);_0xf76803[_0x2ca9('0x3e')][_0x2ca9('0x17')](_0x2ca9('0x3')+_0x2cdb34,_0x4eaaa6),_0x36e3c7&&_0xf76803[_0x2ca9('0x3e')][_0x2ca9('0x2a')](_0x2ca9('0x13'),_0x355d19,_0x4eaaa6),_0xf76803[_0x2ca9('0x11')]['bindElementToMarker'](_0x4eaaa6,_0x2138ad[_0x2ca9('0x3d')]),_0x6a5e5f&&(_0x3aa996[_0x2ca9('0x50')][_0x2ca9('0x2b')](_0x2138ad[_0x2ca9('0x3d')])?_0xf76803['writer'][_0x2ca9('0x17')](_0x2ca9('0x20'),_0x4eaaa6):_0xf76803[_0x2ca9('0x3e')][_0x2ca9('0x9')](_0x2ca9('0x20'),_0x4eaaa6));}}};}_0x3aa996[_0x2ca9('0x1b')](_0x2ca9('0x36'),(_0x7665fc,_0x586a67)=>{const _0x3ffcd9=_0x302042[_0x2ca9('0x19')](_0x4cca5d[_0x2ca9('0x41')][_0x2ca9('0x2e')][_0x2ca9('0xa')]),_0x1c10a3=_0x302042['getRowIndexes'](_0x3ffcd9),_0x4075af=_0x3ffcd9[0x0][_0x2ca9('0x8')](_0x2ca9('0x40')),_0x114798=_0x4075af[_0x2ca9('0x4c')]('headingRows')||0x0,_0x36ab69=_0x586a67&&null!==_0x586a67['forceValue']?_0x586a67['forceValue']:!_0x4cca5d[_0x2ca9('0xd')][_0x2ca9('0x3b')](_0x2ca9('0x36'))[_0x2ca9('0x1e')],_0x411b01=_0x36ab69?_0x1c10a3[_0x2ca9('0x3f')]:_0x1c10a3[_0x2ca9('0x26')],_0x23ed5c=_0x4075af[_0x2ca9('0x4a')](_0x411b01);let _0x1247ef;if(_0x36ab69){const _0x2d0f3f=_0x4075af[_0x2ca9('0x4a')](_0x114798);if(_0x23ed5c[_0x2ca9('0x1f')]<_0x2d0f3f[_0x2ca9('0x1f')])return;_0x1247ef=_0x4cca5d[_0x2ca9('0x41')][_0x2ca9('0x47')](_0x4cca5d[_0x2ca9('0x41')][_0x2ca9('0x2d')](_0x2d0f3f[_0x2ca9('0x4a')](0x0)),_0x4cca5d[_0x2ca9('0x41')][_0x2ca9('0x51')](_0x23ed5c['getChild'](_0x23ed5c['childCount']-0x1)));}else{const _0x2a3188=_0x4075af[_0x2ca9('0x4a')](_0x114798-0x1);if(!_0x2a3188)return;_0x1247ef=_0x4cca5d[_0x2ca9('0x41')][_0x2ca9('0x47')](_0x4cca5d[_0x2ca9('0x41')]['createPositionBefore'](_0x23ed5c[_0x2ca9('0x4a')](0x0)),_0x4cca5d[_0x2ca9('0x41')][_0x2ca9('0x51')](_0x2a3188[_0x2ca9('0x4a')](_0x2a3188[_0x2ca9('0x33')]-0x1)));}_0x4cca5d[_0x2ca9('0x41')][_0x2ca9('0x48')](()=>{_0x3aa996[_0x2ca9('0x3c')](_0x1247ef,{'commandName':'setTableRowHeader','commandParams':[{'forceValue':_0x36ab69}]},[],_0x2ca9('0x36'));});}),_0x3aa996['enableCommand'](_0x2ca9('0x43'),(_0x726383,_0xbd60be)=>{const _0x17151b=_0x4cca5d[_0x2ca9('0x25')][_0x2ca9('0x3b')](_0x2ca9('0x7')),_0x175fe5=_0x17151b[_0x2ca9('0x19')](_0x4cca5d['model'][_0x2ca9('0x2e')][_0x2ca9('0xa')]),_0x4d067a=_0x17151b[_0x2ca9('0x0')](_0x175fe5),_0x1a1825=_0x175fe5[0x0][_0x2ca9('0x8')](_0x2ca9('0x40')),_0x61bb7=_0x1a1825[_0x2ca9('0x4c')]('headingColumns')||0x0,_0x22706d=_0xbd60be&&null!==_0xbd60be[_0x2ca9('0x2c')]?_0xbd60be['forceValue']:!_0x4cca5d[_0x2ca9('0xd')][_0x2ca9('0x3b')](_0x2ca9('0x43'))[_0x2ca9('0x1e')];let _0x1e6e3;const _0x1892f4=_0x1a1825['getChild'](0x0),_0x1582a7=_0x22706d?_0x4d067a[_0x2ca9('0x3f')]:_0x4d067a[_0x2ca9('0x26')],_0x30ca67=_0x17151b[_0x2ca9('0x16')](_0x1a1825,{'startRow':0x0,'column':_0x1582a7,'includeAllSlots':!0x1}),_0xe296b=Array[_0x2ca9('0x38')](_0x30ca67)[0x0]['cell'];if(_0x22706d){const _0xe53818=_0x1892f4[_0x2ca9('0x4a')](_0x61bb7);if(_0xe296b[_0x2ca9('0x2f')](_0xe53818))return;_0x1e6e3=_0x4cca5d[_0x2ca9('0x41')][_0x2ca9('0x47')](_0x4cca5d[_0x2ca9('0x41')][_0x2ca9('0x2d')](_0xe53818),_0x4cca5d[_0x2ca9('0x41')][_0x2ca9('0x51')](_0xe296b));}else{const _0x15ee0f=_0x1892f4['getChild'](_0x61bb7-0x1);if(!_0x15ee0f)return;_0x1e6e3=_0x4cca5d[_0x2ca9('0x41')][_0x2ca9('0x47')](_0x4cca5d['model'][_0x2ca9('0x2d')](_0xe296b),_0x4cca5d[_0x2ca9('0x41')][_0x2ca9('0x51')](_0x15ee0f));}_0x4cca5d[_0x2ca9('0x41')][_0x2ca9('0x48')](()=>{_0x3aa996[_0x2ca9('0x3c')](_0x1e6e3,{'commandName':'setTableColumnHeader','commandParams':[{'forceValue':_0x22706d}]},[],_0x2ca9('0x43'));});}),_0x4cca5d[_0x2ca9('0x32')][_0x2ca9('0x49')]['on'](_0x2ca9('0xe'),_0x3f56fd(),{'priority':_0x2ca9('0x4')}),_0x4cca5d[_0x2ca9('0x42')]['downcastDispatcher']['on']('addMarker:suggestion',(_0x1bbe4b,_0x4c54b2,_0x53795b)=>{_0x53795b[_0x2ca9('0x1a')][_0x2ca9('0x12')]&&_0x3f56fd({'showActiveMarker':!0x1,'setDataAttribute':!0x1})(_0x1bbe4b,_0x4c54b2,_0x53795b);},{'priority':_0x2ca9('0x4')}),_0x4cca5d[_0x2ca9('0x32')][_0x2ca9('0x49')]['on'](_0x2ca9('0x5'),(_0x1419fc,_0xdeec91,_0xd81437)=>{const {type:_0x5118ab,id:_0x55e896}=_0x3aa996[_0x2ca9('0x27')](_0xdeec91[_0x2ca9('0x3d')]),_0x8c876d=_0x3aa996[_0x2ca9('0x52')](_0x55e896);if(!_0x8c876d[_0x2ca9('0x42')]||_0x2ca9('0x43')!=_0x8c876d[_0x2ca9('0x42')][_0x2ca9('0xb')])return;const _0x588f6c=_0xd81437['mapper'][_0x2ca9('0x15')](_0xdeec91['markerName']);if(_0x588f6c)for(const _0x144ab7 of _0x588f6c)_0xd81437['writer'][_0x2ca9('0x9')](_0x2ca9('0x3')+_0x5118ab,_0x144ab7),_0xd81437[_0x2ca9('0x3e')][_0x2ca9('0x9')]('ck-suggestion-marker--active',_0x144ab7),_0xd81437[_0x2ca9('0x3e')][_0x2ca9('0x4f')](_0x2ca9('0x13'),_0x144ab7),_0xd81437[_0x2ca9('0x11')]['unbindElementFromMarkerName'](_0x144ab7,_0xdeec91[_0x2ca9('0x3d')]);},{'priority':_0x2ca9('0x4')}),_0x3aa996[_0x2ca9('0x46')][_0x2ca9('0x18')](_0x4fab83=>{const {data:_0xed0839}=_0x4fab83;if(_0xed0839){if('setTableRowHeader'==_0xed0839[_0x2ca9('0xb')]){const _0x96dea6=_0xed0839[_0x2ca9('0x39')][0x0][_0x2ca9('0x2c')];return _0x59c174(_0x27eb06(_0x2d3ce2,_0x96dea6?_0x2ca9('0x34'):_0x2ca9('0x4e')));}if(_0x2ca9('0x43')==_0xed0839[_0x2ca9('0xb')]){const _0x513d96=_0xed0839[_0x2ca9('0x39')][0x0][_0x2ca9('0x2c')];return _0x59c174(_0x27eb06(_0x2d3ce2,_0x513d96?_0x2ca9('0x1c'):_0x2ca9('0x44')));}}function _0x59c174(_0x34592d){return{'type':_0x2ca9('0x6'),'content':_0x27eb06(_0x2d3ce2,_0x2ca9('0xf'),_0x34592d)};}});const _0x60a5d5=_0x4be1bd[_0x2ca9('0x4b')]();_0x3aa996['_suggestionFactory'][_0x2ca9('0x35')](_0x2ca9('0x3a'),_0x2ca9('0x36'),_0x2ca9('0x30'),_0x60a5d5),_0x3aa996['_suggestionFactory'][_0x2ca9('0x35')](_0x2ca9('0x3a'),'setTableColumnHeader',_0x2ca9('0x30'),_0x60a5d5);}}