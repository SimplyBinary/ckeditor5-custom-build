/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
export default class c{constructor(_0x424a68,_0x41d995){this['_customCallbacks']=[],this['_itemLabels']=new Map(),this['_schema']=_0x424a68,this['_locale']=_0x41d995;}['getDescriptions'](_0x3b46d2){const _0x3675f1=[];for(let _0x2ff289=0x0;_0x2ff289<_0x3b46d2['length'];_0x2ff289++){const _0x26e1a0=_0x3b46d2[_0x2ff289];if(!_0x26e1a0['isInContent'])continue;let _0x671b44=!0x1;for(const _0x51562e of this['_customCallbacks']){const _0x310ef1=_0x51562e(_0x26e1a0);if(_0x310ef1){_0x310ef1['type']&&_0x3675f1['push'](_0x310ef1),_0x671b44=!0x0;break;}}if(!_0x671b44){this['_addDescriptionItems'](_0x3675f1,_0x26e1a0);const _0x42c2cc=_0x3b46d2[_0x2ff289+0x1];if(_0x42c2cc&&!_0x26e1a0['getFirstRange']()['end']['isEqual'](_0x42c2cc['getFirstRange']()['start'])){const _0x196a11=_0x3675f1[_0x3675f1['length']-0x1],_0x298fc2='insertion'==_0x26e1a0['type']?'add':'remove';_0x196a11&&'text'==_0x196a11['type']&&(_0x196a11[_0x298fc2]+='\x0a');}}}return this['_resolveDescriptionItems'](_0x3675f1);}['registerDescriptionCallback'](_0x8918de){this['_customCallbacks']['push'](_0x8918de);}['registerElementLabel'](_0x166e2e,_0x4d663c){this['_itemLabels']['set'](_0x166e2e,_0x4d663c);}['getItemLabel'](_0x1a1196,_0x51f556=0x1){const _0x5e9bb6=this['_itemLabels']['get'](_0x1a1196)||_0x1a1196;return'function'==typeof _0x5e9bb6?_0x5e9bb6(_0x51f556):0x1!==_0x51f556?_0x51f556+'\x20'+_0x5e9bb6+'s':''+_0x5e9bb6;}['_addDescriptionItems'](_0x2b54ef,_0x197e25){const _0x5ef8a9=_0x197e25['getFirstRange']()['getWalker'](),_0x131edd='insertion'==_0x197e25['type']?'add':'remove';for(const _0x294736 of _0x5ef8a9){const _0x2a3218=_0x294736['item'],_0x4ec78a=_0x2b54ef[_0x2b54ef['length']-0x1];if(_0x2a3218['is']('textProxy'))_0x4ec78a&&_0x4ec78a['type']['indexOf']('Container')>-0x1&&_0x2b54ef['pop'](),_0x4ec78a&&'text'==_0x4ec78a['type']?_0x4ec78a[_0x131edd]+=_0x2a3218['data']:_0x2b54ef['push']({'type':'text','add':'add'==_0x131edd?_0x2a3218['data']:'','remove':'remove'==_0x131edd?_0x2a3218['data']:''});else{if(this['_schema']['isObject'](_0x2a3218)){if(_0x4ec78a&&_0x4ec78a['type']['indexOf']('Container')>-0x1&&_0x2b54ef['pop'](),'elementEnd'==_0x294736['type'])continue;_0x4ec78a&&_0x4ec78a['type']==_0x131edd+'Object'&&_0x4ec78a['name']==_0x2a3218['name']?_0x4ec78a['quantity']++:_0x2b54ef['push']({'type':_0x131edd+'Object','name':_0x2a3218['name'],'quantity':0x1}),_0x5ef8a9['skip'](_0x21be82=>!('elementEnd'==_0x21be82['type']&&_0x21be82['item']==_0x2a3218));}else{if(this['_schema']['checkChild'](_0x2a3218,'$text')||_0x2a3218['is']('element','softBreak')){if('add'==_0x131edd&&'elementStart'==_0x294736['type']||'remove'==_0x131edd&&'elementEnd'==_0x294736['type'])continue;if(_0x4ec78a&&-0x1==_0x4ec78a['type']['indexOf']('Container')){'text'==_0x4ec78a['type']&&(_0x4ec78a[_0x131edd]+='\x0a');continue;}let _0x2caffa;if(_0x2caffa='add'==_0x131edd?_0x2a3218['nextSibling']&&!this['_schema']['isObject'](_0x2a3218['nextSibling'])?_0x2a3218['nextSibling']:null:_0x2a3218['previousSibling']&&!this['_schema']['isObject'](_0x2a3218['previousSibling'])?_0x2a3218['previousSibling']:null,_0x2a3218['isEmpty']||_0x2caffa&&_0x2caffa['isEmpty']){const _0x5b64e=_0x2caffa&&_0x2caffa['isEmpty']?_0x2caffa['name']:_0x2a3218['name'];_0x4ec78a&&_0x4ec78a['type']==_0x131edd+'EmptyContainer'&&_0x4ec78a['name']==_0x5b64e?_0x4ec78a['quantity']++:_0x2b54ef['push']({'type':_0x131edd+'EmptyContainer','name':_0x5b64e,'quantity':0x1});}else _0x2b54ef['push']({'type':_0x131edd+'Container','name':_0x2a3218['name']});}}}}}['_resolveDescriptionItems'](_0x28d627){const {t:t}=this['_locale'],_0x8ed07c=[];for(const _0x2b2bc5 of _0x28d627){switch(_0x2b2bc5['type']){case'text':if(_0x2b2bc5['add']=_0x2b2bc5['add']['replace'](/(\S)\u000A+(\S)/g,'$1\x20$2')['replace'](/\u000A/g,''),_0x2b2bc5['remove']=_0x2b2bc5['remove']['replace'](/(\S)\u000A+(\S)/g,'$1\x20$2')['replace'](/\u000A/g,''),''!=_0x2b2bc5['add']&&''!=_0x2b2bc5['remove']){_0x8ed07c['push']({'type':'replace','content':t({'string':'*Replace:*\x20%0\x20*with*\x20%1','id':'REPLACE_TEXT'},['\x22'+_0x2b2bc5['remove']+'\x22','\x22'+_0x2b2bc5['add']+'\x22'])});continue;}if(null!=_0x2b2bc5['add']['match'](/^ +$/)){_0x8ed07c['push']({'type':'insertion','content':t('*Insert:*\x20%0',t({'string':'space','plural':'%0\x20spaces','id':'ELEMENT_SPACE'},_0x2b2bc5['add']['length']))});continue;}if(null!=_0x2b2bc5['remove']['match'](/^ +$/)){_0x8ed07c['push']({'type':'deletion','content':t('*Remove:*\x20%0',t({'string':'space','plural':'%0\x20spaces','id':'ELEMENT_SPACE'},_0x2b2bc5['remove']['length']))});continue;}if(''!=_0x2b2bc5['add']){_0x8ed07c['push']({'type':'insertion','content':t('*Insert:*\x20%0','\x22'+_0x2b2bc5['add']+'\x22')});continue;}_0x8ed07c['push']({'type':'deletion','content':t('*Remove:*\x20%0','\x22'+_0x2b2bc5['remove']+'\x22')});continue;case'addEmptyContainer':case'addObject':_0x8ed07c['push']({'type':'insertion','content':t('*Insert:*\x20%0',this['getItemLabel'](_0x2b2bc5['name'],_0x2b2bc5['quantity']))});continue;case'removeEmptyContainer':case'removeObject':_0x8ed07c['push']({'type':'deletion','content':t('*Remove:*\x20%0',this['getItemLabel'](_0x2b2bc5['name'],_0x2b2bc5['quantity']))});continue;case'addContainer':_0x8ed07c['push']({'type':'insertion','content':t('*Split:*\x20%0',this['getItemLabel'](_0x2b2bc5['name'],_0x2b2bc5['quantity']))});continue;case'removeContainer':_0x8ed07c['push']({'type':'deletion','content':t('*Merge:*\x20%0',this['getItemLabel'](_0x2b2bc5['name'],_0x2b2bc5['quantity']))});continue;}_0x8ed07c['push'](_0x2b2bc5);}return _0x8ed07c;}}