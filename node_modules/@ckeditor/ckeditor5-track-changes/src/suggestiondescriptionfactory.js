/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x5792=['start','getItemLabel','*Merge:*\x20%0','indexOf','set','element','addEmptyContainer','remove','EmptyContainer','getFirstRange','_addDescriptionItems','name','addObject','deletion','length','insertion','replace','*Split:*\x20%0','softBreak','end','data','_schema','$text','*Insert:*\x20%0','removeContainer','_resolveDescriptionItems','text','addContainer','Container','*Remove:*\x20%0','isEqual','checkChild','elementStart','isEmpty','getDescriptions','_itemLabels','pop','_locale','elementEnd','add','item','push','Object','isObject','skip','_customCallbacks','ELEMENT_SPACE','function','nextSibling','previousSibling','get','type','REPLACE_TEXT','$1\x20$2','removeEmptyContainer','quantity','isInContent'];(function(_0x2b3d44,_0x57926c){const _0x323ef5=function(_0x578719){while(--_0x578719){_0x2b3d44['push'](_0x2b3d44['shift']());}};_0x323ef5(++_0x57926c);}(_0x5792,0x119));const _0x323e=function(_0x2b3d44,_0x57926c){_0x2b3d44=_0x2b3d44-0x0;let _0x323ef5=_0x5792[_0x2b3d44];return _0x323ef5;};import{getTranslation as _0x274fb8}from'./utils/common-translations';export default class l{constructor(_0xb11b8f,_0x1c3fd2){this[_0x323e('0x31')]=[],this[_0x323e('0x27')]=new Map(),this[_0x323e('0x19')]=_0xb11b8f,this['_locale']=_0x1c3fd2;}[_0x323e('0x26')](_0xd6ac34){const _0x1fbc90=[];for(let _0x81ba03=0x0;_0x81ba03<_0xd6ac34['length'];_0x81ba03++){const _0x3f136f=_0xd6ac34[_0x81ba03];if(!_0x3f136f[_0x323e('0x3')])continue;let _0x3f1a59=!0x1;for(const _0x250d44 of this[_0x323e('0x31')]){const _0x261652=_0x250d44(_0x3f136f);if(_0x261652){_0x261652[_0x323e('0x37')]&&_0x1fbc90[_0x323e('0x2d')](_0x261652),_0x3f1a59=!0x0;break;}}if(!_0x3f1a59){this[_0x323e('0xe')](_0x1fbc90,_0x3f136f);const _0x308284=_0xd6ac34[_0x81ba03+0x1];if(_0x308284&&!_0x3f136f[_0x323e('0xd')]()[_0x323e('0x17')][_0x323e('0x22')](_0x308284[_0x323e('0xd')]()[_0x323e('0x4')])){const _0x5a7d06=_0x1fbc90[_0x1fbc90['length']-0x1],_0x22331f=_0x323e('0x13')==_0x3f136f[_0x323e('0x37')]?'add':_0x323e('0xb');_0x5a7d06&&'text'==_0x5a7d06['type']&&(_0x5a7d06[_0x22331f]+='\x0a');}}}return this['_resolveDescriptionItems'](_0x1fbc90);}['registerDescriptionCallback'](_0x4a08bb){this['_customCallbacks'][_0x323e('0x2d')](_0x4a08bb);}['registerElementLabel'](_0x44fb97,_0x42b36a){this[_0x323e('0x27')][_0x323e('0x8')](_0x44fb97,_0x42b36a);}[_0x323e('0x5')](_0x58f875,_0xe1b1a4=0x1){const _0x4d201b=this[_0x323e('0x27')][_0x323e('0x36')](_0x58f875)||_0x58f875;return _0x323e('0x33')==typeof _0x4d201b?_0x4d201b(_0xe1b1a4):0x1!==_0xe1b1a4?_0xe1b1a4+'\x20'+_0x4d201b+'s':''+_0x4d201b;}[_0x323e('0xe')](_0x177dcf,_0x3ea43f){const _0x993c95=_0x3ea43f['getFirstRange']()['getWalker'](),_0x3d335f=_0x323e('0x13')==_0x3ea43f['type']?'add':_0x323e('0xb');for(const _0x139d73 of _0x993c95){const _0x5448e7=_0x139d73[_0x323e('0x2c')],_0x26fcd4=_0x177dcf[_0x177dcf['length']-0x1];if(_0x5448e7['is']('textProxy'))_0x26fcd4&&_0x26fcd4['type'][_0x323e('0x7')](_0x323e('0x20'))>-0x1&&_0x177dcf[_0x323e('0x28')](),_0x26fcd4&&_0x323e('0x1e')==_0x26fcd4[_0x323e('0x37')]?_0x26fcd4[_0x3d335f]+=_0x5448e7[_0x323e('0x18')]:_0x177dcf[_0x323e('0x2d')]({'type':_0x323e('0x1e'),'add':_0x323e('0x2b')==_0x3d335f?_0x5448e7[_0x323e('0x18')]:'','remove':'remove'==_0x3d335f?_0x5448e7[_0x323e('0x18')]:''});else{if(this['_schema'][_0x323e('0x2f')](_0x5448e7)){if(_0x26fcd4&&_0x26fcd4['type'][_0x323e('0x7')](_0x323e('0x20'))>-0x1&&_0x177dcf[_0x323e('0x28')](),_0x323e('0x2a')==_0x139d73[_0x323e('0x37')])continue;_0x26fcd4&&_0x26fcd4[_0x323e('0x37')]==_0x3d335f+_0x323e('0x2e')&&_0x26fcd4[_0x323e('0xf')]==_0x5448e7[_0x323e('0xf')]?_0x26fcd4[_0x323e('0x2')]++:_0x177dcf[_0x323e('0x2d')]({'type':_0x3d335f+'Object','name':_0x5448e7[_0x323e('0xf')],'quantity':0x1}),_0x993c95[_0x323e('0x30')](_0x488c51=>!(_0x323e('0x2a')==_0x488c51[_0x323e('0x37')]&&_0x488c51[_0x323e('0x2c')]==_0x5448e7));}else{if(this['_schema'][_0x323e('0x23')](_0x5448e7,_0x323e('0x1a'))||_0x5448e7['is'](_0x323e('0x9'),_0x323e('0x16'))){if(_0x323e('0x2b')==_0x3d335f&&_0x323e('0x24')==_0x139d73[_0x323e('0x37')]||_0x323e('0xb')==_0x3d335f&&_0x323e('0x2a')==_0x139d73[_0x323e('0x37')])continue;if(_0x26fcd4&&-0x1==_0x26fcd4[_0x323e('0x37')][_0x323e('0x7')](_0x323e('0x20'))){_0x323e('0x1e')==_0x26fcd4['type']&&(_0x26fcd4[_0x3d335f]+='\x0a');continue;}let _0x352cbf;if(_0x352cbf=_0x323e('0x2b')==_0x3d335f?_0x5448e7['nextSibling']&&!this[_0x323e('0x19')][_0x323e('0x2f')](_0x5448e7[_0x323e('0x34')])?_0x5448e7[_0x323e('0x34')]:null:_0x5448e7[_0x323e('0x35')]&&!this[_0x323e('0x19')][_0x323e('0x2f')](_0x5448e7[_0x323e('0x35')])?_0x5448e7[_0x323e('0x35')]:null,_0x5448e7['isEmpty']||_0x352cbf&&_0x352cbf[_0x323e('0x25')]){const _0xfc4dbf=_0x352cbf&&_0x352cbf['isEmpty']?_0x352cbf['name']:_0x5448e7[_0x323e('0xf')];_0x26fcd4&&_0x26fcd4[_0x323e('0x37')]==_0x3d335f+_0x323e('0xc')&&_0x26fcd4[_0x323e('0xf')]==_0xfc4dbf?_0x26fcd4[_0x323e('0x2')]++:_0x177dcf[_0x323e('0x2d')]({'type':_0x3d335f+_0x323e('0xc'),'name':_0xfc4dbf,'quantity':0x1});}else _0x177dcf[_0x323e('0x2d')]({'type':_0x3d335f+_0x323e('0x20'),'name':_0x5448e7[_0x323e('0xf')]});}}}}}[_0x323e('0x1d')](_0x274ebd){const _0x5b4565=this[_0x323e('0x29')],_0x730a08=[];for(const _0x196efc of _0x274ebd){switch(_0x196efc['type']){case _0x323e('0x1e'):if(_0x196efc[_0x323e('0x2b')]=_0x196efc[_0x323e('0x2b')][_0x323e('0x14')](/(\S)\u000A+(\S)/g,'$1\x20$2')['replace'](/\u000A/g,''),_0x196efc[_0x323e('0xb')]=_0x196efc[_0x323e('0xb')]['replace'](/(\S)\u000A+(\S)/g,_0x323e('0x0'))[_0x323e('0x14')](/\u000A/g,''),''!=_0x196efc['add']&&''!=_0x196efc[_0x323e('0xb')]){_0x730a08[_0x323e('0x2d')]({'type':_0x323e('0x14'),'content':_0x274fb8(_0x5b4565,_0x323e('0x38'),['\x22'+_0x196efc[_0x323e('0xb')]+'\x22','\x22'+_0x196efc[_0x323e('0x2b')]+'\x22'])});continue;}if(null!=_0x196efc[_0x323e('0x2b')]['match'](/^ +$/)){_0x730a08['push']({'type':_0x323e('0x13'),'content':_0x274fb8(_0x5b4565,_0x323e('0x1b'),_0x274fb8(_0x5b4565,_0x323e('0x32'),_0x196efc[_0x323e('0x2b')][_0x323e('0x12')]))});continue;}if(null!=_0x196efc['remove']['match'](/^ +$/)){_0x730a08[_0x323e('0x2d')]({'type':_0x323e('0x11'),'content':_0x274fb8(_0x5b4565,_0x323e('0x21'),_0x274fb8(_0x5b4565,_0x323e('0x32'),_0x196efc[_0x323e('0xb')]['length']))});continue;}if(''!=_0x196efc[_0x323e('0x2b')]){_0x730a08['push']({'type':_0x323e('0x13'),'content':_0x274fb8(_0x5b4565,'*Insert:*\x20%0','\x22'+_0x196efc[_0x323e('0x2b')]+'\x22')});continue;}_0x730a08[_0x323e('0x2d')]({'type':'deletion','content':_0x274fb8(_0x5b4565,_0x323e('0x21'),'\x22'+_0x196efc[_0x323e('0xb')]+'\x22')});continue;case _0x323e('0xa'):case _0x323e('0x10'):_0x730a08['push']({'type':'insertion','content':_0x274fb8(_0x5b4565,_0x323e('0x1b'),this[_0x323e('0x5')](_0x196efc['name'],_0x196efc['quantity']))});continue;case _0x323e('0x1'):case'removeObject':_0x730a08['push']({'type':_0x323e('0x11'),'content':_0x274fb8(_0x5b4565,_0x323e('0x21'),this[_0x323e('0x5')](_0x196efc['name'],_0x196efc['quantity']))});continue;case _0x323e('0x1f'):_0x730a08['push']({'type':'insertion','content':_0x274fb8(_0x5b4565,_0x323e('0x15'),this[_0x323e('0x5')](_0x196efc['name'],_0x196efc[_0x323e('0x2')]))});continue;case _0x323e('0x1c'):_0x730a08[_0x323e('0x2d')]({'type':'deletion','content':_0x274fb8(_0x5b4565,_0x323e('0x6'),this['getItemLabel'](_0x196efc['name'],_0x196efc[_0x323e('0x2')]))});continue;}_0x730a08[_0x323e('0x2d')](_0x196efc);}return _0x730a08;}}