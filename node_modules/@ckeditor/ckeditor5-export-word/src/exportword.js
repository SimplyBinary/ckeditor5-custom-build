/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{Plugin as _0x59c038}from'ckeditor5/src/core';import{ButtonView as _0x4c87b6,View as _0x2f5164,Notification as _0x5f00de}from'ckeditor5/src/ui';import _0x4e2da7 from'./exportwordcommand';import _0x1b8e5b from'../theme/icons/exportword.svg';import'../theme/exportword.css';export default class c extends _0x59c038{static get['pluginName'](){return'ExportWord';}static get['requires'](){return['CloudServices',_0x5f00de];}['init'](){const _0x7dc047=this['editor'],t=_0x7dc047['t'],_0x55c15b=_0x7dc047['config']['get']('exportWord')||{};_0x7dc047['commands']['add']('exportWord',new _0x4e2da7(_0x7dc047)),_0x7dc047['ui']['componentFactory']['add']('exportWord',_0x516dad=>{const _0x5e65f5=_0x7dc047['commands']['get']('exportWord'),_0x435d51=new _0x4c87b6(_0x516dad);_0x435d51['set']({'label':t('Export\x20to\x20Word'),'icon':_0x1b8e5b,'tooltip':!0x0}),_0x435d51['bind']('isOn','isEnabled')['to'](_0x5e65f5,'isBusy','isEnabled'),_0x435d51['extendTemplate']({'attributes':{'class':[_0x435d51['bindTemplate']['if']('isOn','ck-exportword_status-pending')]}});const _0xdfbc73=new _0x2f5164();return _0xdfbc73['setTemplate']({'tag':'span','attributes':{'class':['ck','ck-exportword__spinner-container']},'children':[{'tag':'span','attributes':{'class':['ck','ck-exportword__spinner']}}]}),_0x435d51['children']['add'](_0xdfbc73),this['listenTo'](_0x435d51,'execute',()=>{_0x7dc047['execute']('exportWord',_0x55c15b),_0x7dc047['editing']['view']['focus']();}),_0x435d51;});const _0x6a6ef7=_0x7dc047['plugins']['get']('CloudServices');if(!0x1===_0x55c15b['tokenUrl'])this['_token']=null;else{if(_0x55c15b['tokenUrl'])return _0x6a6ef7['registerTokenUrl'](_0x55c15b['tokenUrl'])['then'](_0x101fe5=>{this['_token']=_0x101fe5;});this['_token']=_0x6a6ef7['token'];}}}