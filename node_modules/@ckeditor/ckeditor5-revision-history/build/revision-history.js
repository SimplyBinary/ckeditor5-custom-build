!function(e){const t=e.en=e.en||{};t.dictionary=Object.assign(t.dictionary||{},{"Added by":"Added by","Back to editing":"Back to editing","Compare against selected":"Compare against selected",EDIT_X_OF_Y_REVISIONS:"Edit","Empty document":"Empty document","Initial revision":"Initial revision","Loading...":"Loading...","Name of the revision (optional)":"Name of the revision (optional)","Name this revision":"Name this revision","No changes":"No changes",NUMBER_OF_CHANGES:["%0 change","%0 changes"],"Open revision history":"Open revision history",PENDING_ACTION_REVISION_HISTORY:"Unsaved change in revision history.","Removed by":"Removed by","Restore this revision":"Restore this revision",Restored:"Restored","Revision author":"Revision author","Revision creator":"Revision creator","Revision history":"Revision history","Revision name":"Revision name","Save current revision":"Save current revision","Show next change":"Show next change","Show previous change":"Show previous change","Suggested by":"Suggested by",Total:"Total",X_OF_Y_CHANGES:"%0 of %1"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),
/*!
 * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var e={418:e=>{e.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M16.435 5.506a.75.75 0 0 1 1.197.899l-.067.089-6.992 8a.75.75 0 0 1-1.05.078l-.079-.078-7.008-8a.75.75 0 0 1 1.049-1.066l.08.078 6.442 7.354 6.428-7.354z"/></svg>\n'},983:e=>{e.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M16.435 14.494a.75.75 0 0 0 1.197-.899l-.067-.089-6.992-8a.75.75 0 0 0-1.05-.078l-.079.078-7.008 8a.75.75 0 0 0 1.049 1.066l.08-.078 6.442-7.354 6.428 7.354z"/></svg>\n'},916:e=>{e.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></g></svg>\n'},874:e=>{e.exports='<svg viewBox="0 0 11 10" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M5.5 5C8.538 5 11 7.015 11 9.5c0 .17-.011.336-.034.5H.034A3.732 3.732 0 0 1 0 9.5C0 7.015 2.462 5 5.5 5zm0-5a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5z" /></svg>\n'},357:e=>{e.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>'},52:e=>{e.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>'},677:e=>{e.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'},490:e=>{e.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>'},164:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(758),r=i.n(n)()((function(e){return e[1]}));r.push([e.id,".ck.ck-revision-history-ui.ck-revision-history-ui__changes-navigation{align-items:center;display:flex;margin-left:auto}.ck.ck-revision-history-ui.ck-revision-history-ui__changes-navigation .ck-revision-history-ui__changes-navigation__wrapper{display:flex;margin-right:var(--ck-spacing-standard)}.ck.ck-revision-history-ui.ck-revision-history-ui__changes-navigation .ck-revision-history-ui__changes-navigation__label{font-weight:700;white-space:pre}.ck.ck-revision-history-ui.ck-revision-history-ui__changes-navigation .ck-revision-history-ui__changes-navigation__navigation{margin-left:var(--ck-spacing-small)}",""]);const o=r},525:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(758),r=i.n(n)()((function(e){return e[1]}));r.push([e.id,".ck{--ck-revision-history-revision-background-color:var(--ck-color-base-background);--ck-revision-history-revision-border-color:#47576b;--ck-revision-history-revision-box-shadow:0 1px 1px 1px #e6e6e6;--ck-revision-history-revision-author-icon-offset:20px;--ck-revision-history-revision-transitions:background 100ms ease-in,border 100ms ease-in;--ck-revision-history-revision-selected-text-color:var(--ck-color-base-background);--ck-revision-history-revision-selected-input-text-color-empty:var(--ck-color-base-background);--ck-revision-history-revision-selected-background-color:var(--ck-color-base-active);--ck-revision-history-revision-highlighted-background-color:#e0f1ff;--ck-revision-history-revision-highlighted-background-color-hover:#cce7ff;--ck-revision-history-revision-delete-confirmation-background:#fcc;--ck-revision-history-revision-delete-confirmation-active-button-background:#ffb3b3}.ck.ck-revision-history-sidebar__revision-wrapper .ck-revision-history-sidebar__revision{background:var(--ck-revision-history-revision-background-color);border-left:3px solid var(--ck-revision-history-revision-border-color);border-radius:var(--ck-border-radius);box-shadow:var(--ck-revision-history-revision-box-shadow);display:block;padding:var(--ck-spacing-large) calc(var(--ck-spacing-standard)*2);position:relative;transition:transform .3s ease;width:100%}.ck.ck-revision-history-sidebar__revision-wrapper .ck-revision-history-sidebar__revision:last-child{margin-bottom:0}.ck.ck-revision-history-sidebar__revision-wrapper .ck-revision-history-sidebar__revision .ck-revision-history-sidebar__revision__date{display:block;font-size:var(--ck-font-size-small);font-weight:700;opacity:.8;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%}.ck.ck-revision-history-sidebar__revision-wrapper .ck-revision-history-sidebar__revision .ck-revision-history-sidebar__revision__controls-wrapper{align-items:flex-start;display:flex;flex-direction:row;margin:var(--ck-spacing-standard) 0 0}.ck.ck-revision-history-sidebar__revision-wrapper .ck-revision-history-sidebar__revision .ck-revision-history-sidebar__revision-authors{flex:0 1 auto;margin:0 0 0 var(--ck-revision-history-revision-author-icon-offset);min-width:0;padding:0}.ck.ck-revision-history-sidebar__revision-wrapper .ck-revision-history-sidebar__revision.ck-revision-history-sidebar__revision_highlighted,.ck.ck-revision-history-sidebar__revision-wrapper .ck-revision-history-sidebar__revision.ck-revision-history-sidebar__revision_selected{border-bottom-left-radius:0;border-left-color:transparent;border-top-left-radius:0;transform:translateX(calc(var(--ck-revision-history-sidebar-timeline-padding)*-1))}.ck.ck-revision-history-sidebar__revision-wrapper .ck-revision-history-sidebar__revision.ck-revision-history-sidebar__revision_selected{background:var(--ck-revision-history-revision-selected-background-color);color:var(--ck-revision-history-revision-selected-text-color)}.ck.ck-revision-history-sidebar__revision-wrapper .ck-revision-history-sidebar__revision.ck-revision-history-sidebar__revision_selected .ck-revision-history-sidebar__revision-name .ck-input{color:var(--ck-revision-history-revision-selected-text-color)}.ck.ck-revision-history-sidebar__revision-wrapper .ck-revision-history-sidebar__revision.ck-revision-history-sidebar__revision_selected .ck-revision-history-sidebar__revision-name .ck-input.ck-input-text_empty::placeholder{opacity:.7}.ck.ck-revision-history-sidebar__revision-wrapper .ck-revision-history-sidebar__revision.ck-revision-history-sidebar__revision_highlighted{background:var(--ck-revision-history-revision-highlighted-background-color)}.ck.ck-revision-history-sidebar__revision-wrapper .ck-revision-history-sidebar__revision.ck-revision-history-sidebar__actions_dropdown_open{z-index:var(--ck-z-default)}.ck.ck-revision-history-sidebar__revision-wrapper.ck-revision-history-sidebar__revision-wrapper_confirmation_visible .ck-revision-history-sidebar__revision{box-shadow:none;position:relative;transform:translate3d(-100%,0,0)}.ck.ck-revision-history-sidebar__revision-wrapper.ck-revision-history-sidebar__revision-wrapper_confirmation_visible .ck-revision-history-sidebar__revision,.ck.ck-revision-history-sidebar__revision-wrapper.ck-revision-history-sidebar__revision-wrapper_confirmation_visible .ck-revision-history-sidebar__revision *{--ck-revision-history-revision-background-color:transparent;--ck-revision-history-revision-selected-background-color:transparent;--ck-revision-history-revision-highlighted-background-color:transparent}.ck.ck-revision-history-sidebar__revision-wrapper .ck-thread__remove-confirm{align-items:center;background:var(--ck-revision-history-revision-delete-confirmation-background);border-radius:var(--ck-border-radius);box-shadow:var(--ck-revision-history-revision-box-shadow);display:flex;flex-direction:row;height:100%;justify-content:space-around;left:100%;position:absolute;top:0;user-select:none;width:100%}.ck.ck-revision-history-sidebar__revision-wrapper .ck-thread__remove-confirm .ck-thread__remove-confirm-inner{margin-top:var(--ck-spacing-small);text-align:center}.ck.ck-revision-history-sidebar__revision-wrapper .ck-thread__remove-confirm .ck-thread__remove-confirm-inner p{color:var(--ck-color-text);font-weight:700;margin:0}.ck.ck-revision-history-sidebar__revision-wrapper .ck-thread__remove-confirm .ck-thread__remove-confirm-inner .ck-thread__remove-confirm-actions{display:flex;flex-direction:row;justify-content:space-evenly}.ck.ck-revision-history-sidebar__revision-wrapper .ck-thread__remove-confirm .ck-thread__remove-confirm-inner .ck-thread__remove-confirm-actions .ck.ck-button:active,.ck.ck-revision-history-sidebar__revision-wrapper .ck-thread__remove-confirm .ck-thread__remove-confirm-inner .ck-thread__remove-confirm-actions .ck.ck-button:focus,.ck.ck-revision-history-sidebar__revision-wrapper .ck-thread__remove-confirm .ck-thread__remove-confirm-inner .ck-thread__remove-confirm-actions .ck.ck-button:hover{background:var(--ck-revision-history-revision-delete-confirmation-active-button-background)}.ck.ck-revision-history-sidebar__revision-wrapper .ck-thread__remove-confirm .ck-thread__remove-confirm-inner .ck-thread__remove-confirm-actions .ck.ck-button.ck-thread__remove-confirm-submit{color:var(--ck-color-button-save)}.ck.ck-revision-history-sidebar__revision-wrapper .ck-thread__remove-confirm .ck-thread__remove-confirm-inner .ck-thread__remove-confirm-actions .ck.ck-button.ck-thread__remove-confirm-cancel{color:var(--ck-color-button-cancel)}.ck.ck-revision-history-sidebar__revision-wrapper .ck-revision-history-sidebar__subrevisions{margin-left:var(--ck-spacing-large)}",""]);const o=r},834:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(758),r=i.n(n)()((function(e){return e[1]}));r.push([e.id,".ck.ck-revision-history-sidebar__revision .ck-revision-history-sidebar__revision__actions{display:none;position:absolute;right:var(--ck-spacing-small);top:var(--ck-spacing-small)}.ck.ck-revision-history-sidebar__revision .ck-revision-history-sidebar__revision__actions .ck-dropdown__button{min-height:unset;min-width:unset}.ck.ck-revision-history-sidebar__revision .ck-revision-history-sidebar__revision__actions .ck-dropdown__button .ck-button__icon{transform:scale(.7)}.ck.ck-revision-history-sidebar__revision .ck-revision-history-sidebar__revision__actions .ck-dropdown__arrow{display:none}.ck.ck-revision-history-sidebar__revision .ck-revision-history-sidebar__revision__actions .ck-list__item__danger{color:var(--ck-color-button-cancel)}.ck.ck-revision-history-sidebar__revision.ck-revision-history-sidebar__revision_selected .ck-revision-history-sidebar__revision__actions .ck-dropdown__button{color:var(--ck-color-base-background)}.ck.ck-revision-history-sidebar__revision.ck-revision-history-sidebar__revision_selected .ck-revision-history-sidebar__revision__actions .ck-dropdown__button.ck-on,.ck.ck-revision-history-sidebar__revision.ck-revision-history-sidebar__revision_selected .ck-revision-history-sidebar__revision__actions .ck-dropdown__button:hover{background:var(--ck-color-base-active-focus)}.ck.ck-revision-history-sidebar__revision.ck-revision-history-sidebar__revision_selected .ck-revision-history-sidebar__revision__actions .ck-dropdown__button.ck-on:hover,.ck.ck-revision-history-sidebar__revision.ck-revision-history-sidebar__revision_selected .ck-revision-history-sidebar__revision__actions .ck-dropdown__button:hover:hover{filter:brightness(95%)}.ck.ck-revision-history-sidebar__revision.ck-revision-history-sidebar__revision_highlighted .ck-revision-history-sidebar__revision__actions .ck-dropdown__button.ck-on,.ck.ck-revision-history-sidebar__revision.ck-revision-history-sidebar__revision_highlighted .ck-revision-history-sidebar__revision__actions .ck-dropdown__button:hover{background:var(--ck-revision-history-revision-highlighted-background-color-hover)}.ck.ck-revision-history-sidebar__revision.ck-revision-history-sidebar__revision_highlighted .ck-revision-history-sidebar__revision__actions .ck-dropdown__button.ck-on:hover,.ck.ck-revision-history-sidebar__revision.ck-revision-history-sidebar__revision_highlighted .ck-revision-history-sidebar__revision__actions .ck-dropdown__button:hover:hover{filter:brightness(95%)}.ck.ck-revision-history-sidebar__revision:hover:not(.ck-disabled) .ck-revision-history-sidebar__revision__actions,.ck.ck-revision-history-sidebar__revision:not(.ck-disabled) .ck-revision-history-sidebar__revision__actions.ck-on{display:block}",""]);const o=r},522:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(758),r=i.n(n)()((function(e){return e[1]}));r.push([e.id,".ck.ck-revision-history-sidebar__revision-author{display:block;position:relative;transition:var(--ck-revision-history-revision-transitions)}.ck.ck-revision-history-sidebar__revision-author .ck-revision-history-sidebar__revision-author__name{display:block;font-weight:700;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%}.ck.ck-revision-history-sidebar__revision-author .ck-icon{height:10px;left:calc(var(--ck-revision-history-revision-author-icon-offset)*-1);position:absolute;top:3px;width:11px}.ck.ck-revision-history-sidebar__revision-author:not(:first-of-type) .ck-icon{display:none}",""]);const o=r},957:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(758),r=i.n(n)()((function(e){return e[1]}));r.push([e.id,".ck.ck-revision-history-sidebar__revision-name{display:block;font-size:1.2em;font-weight:700;left:calc(var(--ck-spacing-small)*-1);margin-right:30px;position:relative}.ck.ck-revision-history-sidebar__revision-name>.ck-labeled-field-view__input-wrapper>.ck-label{display:none}.ck.ck-revision-history-sidebar__revision-name>.ck-labeled-field-view__input-wrapper>.ck-input{background:transparent;border-radius:var(--ck-border-radius);color:inherit;font-family:inherit;font-size:var(--ck-font-size-normal);font-weight:700;min-height:auto;min-width:auto;padding:var(--ck-spacing-tiny) var(--ck-spacing-small);transition:var(--ck-revision-history-revision-transitions);width:100%}.ck.ck-revision-history-sidebar__revision-name>.ck-labeled-field-view__input-wrapper>.ck-input,.ck.ck-revision-history-sidebar__revision-name>.ck-labeled-field-view__input-wrapper>.ck-input:focus,.ck.ck-revision-history-sidebar__revision-name>.ck-labeled-field-view__input-wrapper>.ck-input[readonly]{background:transparent}.ck.ck-revision-history-sidebar__revision-name>.ck-labeled-field-view__input-wrapper>.ck-input:not(.ck-input_focused){border-color:transparent}.ck.ck-revision-history-sidebar__revision-name>.ck-labeled-field-view__input-wrapper>.ck-input::placeholder{color:inherit}.ck.ck-revision-history-sidebar__revision-name>.ck-labeled-field-view__input-wrapper>.ck-input[readonly]{pointer-events:none}",""]);const o=r},996:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(758),r=i.n(n)()((function(e){return e[1]}));r.push([e.id,".ck.ck-revision-history-save-revision-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-revision-history-save-revision-form .ck-labeled-field-view{display:inline-block}.ck.ck-revision-history-save-revision-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-revision-history-save-revision-form{flex-wrap:wrap}.ck.ck-revision-history-save-revision-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-revision-history-save-revision-form .ck-button{flex-basis:50%}}",""]);const o=r},790:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(758),r=i.n(n)()((function(e){return e[1]}));r.push([e.id,".ck{--ck-revision-history-sidebar-period-background:#ff5724;--ck-revision-history-sidebar-timeline-padding:var(--ck-spacing-large)}.ck.ck-revision-history-sidebar{display:flex;flex-direction:column}.ck.ck-revision-history-sidebar .ck-revision-history-sidebar__timeline{align-items:start;display:flex;flex-direction:column;font-size:var(--ck-font-size-base);height:100%;overflow-x:hidden;overflow-y:auto;padding:var(--ck-revision-history-sidebar-timeline-padding)}.ck.ck-revision-history-sidebar .ck-revision-history-sidebar__timeline.ck-disabled{filter:grayscale(1) opacity(var(--ck-disabled-opacity))}",""]);const o=r},29:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(758),r=i.n(n)()((function(e){return e[1]}));r.push([e.id,".ck.ck-revision-history-sidebar__header{--header-height:calc(var(--ck-ui-component-min-height) + var(--ck-spacing-small)*2 + 1px);align-items:center;border-bottom:1px solid var(--ck-color-toolbar-border);color:inherit;display:flex;flex-direction:row;font-family:inherit;font-weight:700;height:var(--header-height);line-height:var(--header-height);min-height:var(--header-height);overflow:hidden;padding:0 var(--ck-revision-history-sidebar-timeline-padding)}.ck.ck-revision-history-sidebar__header .ck-revision-history-sidebar__header__label{color:inherit;font-family:inherit;font-size:1.2em;font-weight:700}.ck.ck-revision-history-sidebar__header .ck-icon{margin-right:var(--ck-spacing-large)}",""]);const o=r},37:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(758),r=i.n(n)()((function(e){return e[1]}));r.push([e.id,".ck{--ck-revision-history-sidebar-revision-vertical-spacing:calc(var(--ck-spacing-standard)*2)}.ck.ck-revision-history-sidebar__time-period{width:100%}.ck.ck-revision-history-sidebar__time-period .ck-revision-history-sidebar__time-period__label{background:var(--ck-revision-history-sidebar-period-background);border-radius:var(--ck-border-radius);color:var(--ck-color-base-background);font-size:9px;font-weight:700;padding:var(--ck-spacing-tiny) var(--ck-spacing-standard);text-transform:uppercase}.ck.ck-revision-history-sidebar__time-period .ck-revision-history-sidebar__time-period__label:first-child{margin-top:var(--ck-spacing-standard)}.ck.ck-revision-history-sidebar__time-period .ck-revision-history-sidebar__time-period__revisions{display:flex;flex-direction:column}.ck.ck-revision-history-sidebar__time-period .ck-revision-history-sidebar__time-period__revisions .ck-revision-history-sidebar__revision-wrapper,.ck.ck-revision-history-sidebar__time-period:not(.ck-hidden)+.ck-revision-history-sidebar__time-period{margin-top:var(--ck-revision-history-sidebar-revision-vertical-spacing)}",""]);const o=r},288:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(758),r=i.n(n)()((function(e){return e[1]}));r.push([e.id,'.ck .ck-revision-change{border-top-left-radius:var(--ck-border-radius);outline:0;padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck .ck-revision-change>*{font-size:var(--ck-font-size-standard);vertical-align:bottom}.ck .ck-revision-change.ck-revision-change__add{border-left-color:var(--ck-color-suggestion-box-insertion-border)}.ck .ck-revision-change.ck-revision-change__remove{border-left-color:var(--ck-color-suggestion-box-deletion-border)}.ck .ck-revision-change .ck-revision-change__label{font-size:inherit;font-weight:700;vertical-align:inherit}.ck.ck-button.ck-revision-history-ui__back-to-editing{background:var(--ck-color-base-active);color:var(--ck-color-base-background)}.ck.ck-button.ck-revision-history-ui__back-to-editing:hover:not(.ck-disabled){background:var(--ck-color-base-active-focus)}.ck-content .ck-suggestion-preview-marker,.ck-content .ck-suggestion-preview-marker-split{opacity:.75}.ck-content .ck-suggestion-preview-marker-split:after{content:"¶"}.ck-content .ck-suggestion-preview-marker-merge{opacity:.75;text-decoration:line-through}.ck-content .ck-suggestion-preview-marker-merge:after{content:"¶"}.ck-content .ck-suggestion-preview-marker-deletion{text-decoration:line-through}.ck-content .ck-suggestion-marker-deletion-new:not(.ck-widget),.ck-content .ck-suggestion-marker-merge-new{--ck-color-suggestion-marker-deletion-border:none;--ck-color-suggestion-marker-deletion-border-active:none;--ck-color-suggestion-marker-deletion-background:none;--ck-color-suggestion-marker-deletion-background-active:none;--ck-color-suggestion-marker-deletion-stroke:rgba(122,31,54,.8);--ck-color-suggestion-widget-deletion-background:rgba(229,102,134,.03);--ck-color-suggestion-widget-deletion-background-active:rgba(196,33,74,.05)}.ck-content .ck-suggestion-marker-merge-new:after{color:inherit}.ck-content .ck-suggestion-marker-insertion-new,.ck-content .ck-suggestion-marker-split-new{opacity:.75}.ck-content .ck-suggestion-marker-deletion-new.ck-suggestion-marker--active:not(.table),.ck-content .ck-suggestion-marker-merge-new.ck-suggestion-marker--active{--ck-color-suggestion-marker-deletion-background-active:rgba(218,37,82,.08);--ck-color-suggestion-marker-deletion-stroke:#7a1f36;opacity:1}.ck-content .ck-suggestion-marker-insertion-new.ck-suggestion-marker--active,.ck-content .ck-suggestion-marker-split-new.ck-suggestion-marker--active{opacity:1}',""]);const o=r},368:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(758),r=i.n(n)()((function(e){return e[1]}));r.push([e.id,'.ck{--ck-revision-history-loading-overlay-transition-duration:.2s;--ck-revision-history-loading-overlay-transition-delay:0s;--ck-revision-history-loading-overlay-spinner-rotation-duration:1s;--ck-revision-history-loading-overlay-spinner-size:60px;--ck-revision-history-loading-overlay-visible-background:#fff}.ck.ck-editor__editable:after,.ck.ck-editor__editable:before{content:"";opacity:0;position:absolute;transition:opacity var(--ck-revision-history-loading-overlay-transition-duration) ease;transition-delay:0;visibility:hidden}.ck.ck-editor__editable:before{background:var(--ck-revision-history-loading-overlay-visible-background);height:100%;left:0;top:0;width:100%;z-index:var(--ck-z-default)}.ck.ck-editor__editable:after{animation:ck-revision-history-spinner-animation var(--ck-revision-history-loading-overlay-spinner-rotation-duration) linear infinite;border-radius:50%;border-right:3px solid transparent;border-top:3px solid var(--ck-color-base-text);box-sizing:border-box;height:var(--ck-revision-history-loading-overlay-spinner-size);left:50%;top:50%;transform:translate(-50%,-50%);width:var(--ck-revision-history-loading-overlay-spinner-size);z-index:var(--ck-z-default)}.ck.ck-editor__editable.ck-editor__editable__loading-overlay,.ck.ck-editor__editable.ck-editor__editable__overlay{min-height:calc(var(--ck-revision-history-loading-overlay-spinner-size) + var(--ck-spacing-large)*2);position:relative}.ck.ck-editor__editable.ck-editor__editable__loading-overlay:after,.ck.ck-editor__editable.ck-editor__editable__loading-overlay:before,.ck.ck-editor__editable.ck-editor__editable__overlay:after,.ck.ck-editor__editable.ck-editor__editable__overlay:before{opacity:.8;transition-delay:var(--ck-revision-history-loading-overlay-transition-delay);visibility:visible}.ck.ck-editor__editable.ck-editor__editable__overlay:after{visibility:hidden}@keyframes ck-revision-history-spinner-animation{0%{transform:translate(-50%,-50%) rotate(0deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}',""]);const o=r},168:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(758),r=i.n(n)()((function(e){return e[1]}));r.push([e.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}",""]);const o=r},542:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(758),r=i.n(n)()((function(e){return e[1]}));r.push([e.id,'.ck-vertical-form .ck-button:after{bottom:var(--ck-spacing-small);content:"";position:absolute;right:-1px;top:var(--ck-spacing-small);width:0;z-index:1}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:var(--ck-spacing-small);content:"";position:absolute;right:-1px;top:var(--ck-spacing-small);width:0;z-index:1}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border:0;border-radius:0;border-top:1px solid var(--ck-color-base-border);margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after,[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',""]);const o=r},758:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=e(t);return t[2]?"@media ".concat(t[2]," {").concat(i,"}"):i})).join("")},t.i=function(e,i,n){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(n)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(r[s]=!0)}for(var a=0;a<e.length;a++){var c=[].concat(e[a]);n&&r[c[0]]||(i&&(c[2]?c[2]="".concat(i," and ").concat(c[2]):c[2]=i),t.push(c))}},t}},810:(e,t)=>{"use strict";function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e,t,i){return c=a()?Reflect.construct:function(e,t,i){var n=[null];n.push.apply(n,t);var r=new(Function.bind.apply(e,n));return i&&s(r,i.prototype),r},c.apply(null,arguments)}function u(e){var t="function"==typeof Map?new Map:void 0;return u=function(e){if(null===e||(i=e,-1===Function.toString.call(i).indexOf("[native code]")))return e;var i;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return c(e,arguments,o(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),s(n,e)},u(e)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function l(e){var t=0;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(e){if("string"==typeof e)return d(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?d(e,t):void 0}}(e)))return function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=e[Symbol.iterator]()).next.bind(t)}var h=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t}(u(Error)),f=function(e){function t(t){return e.call(this,"Invalid DateTime: "+t.toMessage())||this}return r(t,e),t}(h),v=function(e){function t(t){return e.call(this,"Invalid Interval: "+t.toMessage())||this}return r(t,e),t}(h),m=function(e){function t(t){return e.call(this,"Invalid Duration: "+t.toMessage())||this}return r(t,e),t}(h),x=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t}(h),g=function(e){function t(t){return e.call(this,"Invalid unit "+t)||this}return r(t,e),t}(h),p=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t}(h),y=function(e){function t(){return e.call(this,"Zone is an abstract class")||this}return r(t,e),t}(h),b="numeric",k="short",_="long",w={year:b,month:b,day:b},S={year:b,month:k,day:b},R={year:b,month:k,day:b,weekday:k},O={year:b,month:_,day:b},T={year:b,month:_,day:b,weekday:_},I={hour:b,minute:b},V={hour:b,minute:b,second:b},M={hour:b,minute:b,second:b,timeZoneName:k},N={hour:b,minute:b,second:b,timeZoneName:_},E={hour:b,minute:b,hour12:!1},A={hour:b,minute:b,second:b,hour12:!1},D={hour:b,minute:b,second:b,hour12:!1,timeZoneName:k},j={hour:b,minute:b,second:b,hour12:!1,timeZoneName:_},C={year:b,month:b,day:b,hour:b,minute:b},F={year:b,month:b,day:b,hour:b,minute:b,second:b},L={year:b,month:k,day:b,hour:b,minute:b},P={year:b,month:k,day:b,hour:b,minute:b,second:b},z={year:b,month:k,day:b,weekday:k,hour:b,minute:b},Z={year:b,month:_,day:b,hour:b,minute:b,timeZoneName:k},U={year:b,month:_,day:b,hour:b,minute:b,second:b,timeZoneName:k},H={year:b,month:_,day:b,weekday:_,hour:b,minute:b,timeZoneName:_},B={year:b,month:_,day:b,weekday:_,hour:b,minute:b,second:b,timeZoneName:_};function q(e){return void 0===e}function W(e){return"number"==typeof e}function J(e){return"number"==typeof e&&e%1==0}function G(){try{return"undefined"!=typeof Intl&&Intl.DateTimeFormat}catch(e){return!1}}function Y(){return!q(Intl.DateTimeFormat.prototype.formatToParts)}function $(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function K(e,t,i){if(0!==e.length)return e.reduce((function(e,n){var r=[t(n),n];return e&&i(e[0],r[0])===e[0]?e:r}),null)[1]}function Q(e,t){return t.reduce((function(t,i){return t[i]=e[i],t}),{})}function X(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ee(e,t,i){return J(e)&&e>=t&&e<=i}function te(e,t){void 0===t&&(t=2);var i=e<0?"-":"",n=i?-1*e:e;return""+i+(n.toString().length<t?("0".repeat(t)+n).slice(-t):n.toString())}function ie(e){return q(e)||null===e||""===e?void 0:parseInt(e,10)}function ne(e){if(!q(e)&&null!==e&&""!==e){var t=1e3*parseFloat("0."+e);return Math.floor(t)}}function re(e,t,i){void 0===i&&(i=!1);var n=Math.pow(10,t);return(i?Math.trunc:Math.round)(e*n)/n}function oe(e){return e%4==0&&(e%100!=0||e%400==0)}function se(e){return oe(e)?366:365}function ae(e,t){var i=function(e,t){return e-t*Math.floor(e/t)}(t-1,12)+1;return 2===i?oe(e+(t-i)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function ce(e){var t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t)).setUTCFullYear(t.getUTCFullYear()-1900),+t}function ue(e){var t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,i=e-1,n=(i+Math.floor(i/4)-Math.floor(i/100)+Math.floor(i/400))%7;return 4===t||3===n?53:52}function de(e){return e>99?e:e>60?1900+e:2e3+e}function le(e,t,i,n){void 0===n&&(n=null);var r=new Date(e),o={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(o.timeZone=n);var s=Object.assign({timeZoneName:t},o),a=G();if(a&&Y()){var c=new Intl.DateTimeFormat(i,s).formatToParts(r).find((function(e){return"timezonename"===e.type.toLowerCase()}));return c?c.value:null}if(a){var u=new Intl.DateTimeFormat(i,o).format(r);return new Intl.DateTimeFormat(i,s).format(r).substring(u.length).replace(/^[, \u200e]+/,"")}return null}function he(e,t){var i=parseInt(e,10);Number.isNaN(i)&&(i=0);var n=parseInt(t,10)||0;return 60*i+(i<0||Object.is(i,-0)?-n:n)}function fe(e){var t=Number(e);if("boolean"==typeof e||""===e||Number.isNaN(t))throw new p("Invalid unit value "+e);return t}function ve(e,t,i){var n={};for(var r in e)if(X(e,r)){if(i.indexOf(r)>=0)continue;var o=e[r];if(null==o)continue;n[t(r)]=fe(o)}return n}function me(e,t){var i=Math.trunc(Math.abs(e/60)),n=Math.trunc(Math.abs(e%60)),r=e>=0?"+":"-";switch(t){case"short":return""+r+te(i,2)+":"+te(n,2);case"narrow":return""+r+i+(n>0?":"+n:"");case"techie":return""+r+te(i,2)+te(n,2);default:throw new RangeError("Value format "+t+" is out of range for property format")}}function xe(e){return Q(e,["hour","minute","second","millisecond"])}var ge=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?/;function pe(e){return JSON.stringify(e,Object.keys(e).sort())}var ye=["January","February","March","April","May","June","July","August","September","October","November","December"],be=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ke=["J","F","M","A","M","J","J","A","S","O","N","D"];function _e(e){switch(e){case"narrow":return[].concat(ke);case"short":return[].concat(be);case"long":return[].concat(ye);case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var we=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Se=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Re=["M","T","W","T","F","S","S"];function Oe(e){switch(e){case"narrow":return[].concat(Re);case"short":return[].concat(Se);case"long":return[].concat(we);case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var Te=["AM","PM"],Ie=["Before Christ","Anno Domini"],Ve=["BC","AD"],Me=["B","A"];function Ne(e){switch(e){case"narrow":return[].concat(Me);case"short":return[].concat(Ve);case"long":return[].concat(Ie);default:return null}}function Ee(e,t){for(var i,n="",r=l(e);!(i=r()).done;){var o=i.value;o.literal?n+=o.val:n+=t(o.val)}return n}var Ae={D:w,DD:S,DDD:O,DDDD:T,t:I,tt:V,ttt:M,tttt:N,T:E,TT:A,TTT:D,TTTT:j,f:C,ff:L,fff:Z,ffff:H,F,FF:P,FFF:U,FFFF:B},De=function(){function e(e,t){this.opts=t,this.loc=e,this.systemLoc=null}e.create=function(t,i){return void 0===i&&(i={}),new e(t,i)},e.parseFormat=function(e){for(var t=null,i="",n=!1,r=[],o=0;o<e.length;o++){var s=e.charAt(o);"'"===s?(i.length>0&&r.push({literal:n,val:i}),t=null,i="",n=!n):n||s===t?i+=s:(i.length>0&&r.push({literal:!1,val:i}),i=s,t=s)}return i.length>0&&r.push({literal:n,val:i}),r},e.macroTokenToFormatOpts=function(e){return Ae[e]};var t=e.prototype;return t.formatWithSystemDefault=function(e,t){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,Object.assign({},this.opts,t)).format()},t.formatDateTime=function(e,t){return void 0===t&&(t={}),this.loc.dtFormatter(e,Object.assign({},this.opts,t)).format()},t.formatDateTimeParts=function(e,t){return void 0===t&&(t={}),this.loc.dtFormatter(e,Object.assign({},this.opts,t)).formatToParts()},t.resolvedOptions=function(e,t){return void 0===t&&(t={}),this.loc.dtFormatter(e,Object.assign({},this.opts,t)).resolvedOptions()},t.num=function(e,t){if(void 0===t&&(t=0),this.opts.forceSimple)return te(e,t);var i=Object.assign({},this.opts);return t>0&&(i.padTo=t),this.loc.numberFormatter(i).format(e)},t.formatDateTimeFromString=function(t,i){var n=this,r="en"===this.loc.listingMode(),o=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar&&Y(),s=function(e,i){return n.loc.extract(t,e,i)},a=function(e){return t.isOffsetFixed&&0===t.offset&&e.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,e.format):""},c=function(){return r?function(e){return Te[e.hour<12?0:1]}(t):s({hour:"numeric",hour12:!0},"dayperiod")},u=function(e,i){return r?function(e,t){return _e(t)[e.month-1]}(t,e):s(i?{month:e}:{month:e,day:"numeric"},"month")},d=function(e,i){return r?function(e,t){return Oe(t)[e.weekday-1]}(t,e):s(i?{weekday:e}:{weekday:e,month:"long",day:"numeric"},"weekday")},l=function(e){return r?function(e,t){return Ne(t)[e.year<0?0:1]}(t,e):s({era:e},"era")};return Ee(e.parseFormat(i),(function(i){switch(i){case"S":return n.num(t.millisecond);case"u":case"SSS":return n.num(t.millisecond,3);case"s":return n.num(t.second);case"ss":return n.num(t.second,2);case"m":return n.num(t.minute);case"mm":return n.num(t.minute,2);case"h":return n.num(t.hour%12==0?12:t.hour%12);case"hh":return n.num(t.hour%12==0?12:t.hour%12,2);case"H":return n.num(t.hour);case"HH":return n.num(t.hour,2);case"Z":return a({format:"narrow",allowZ:n.opts.allowZ});case"ZZ":return a({format:"short",allowZ:n.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:n.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:n.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:n.loc.locale});case"z":return t.zoneName;case"a":return c();case"d":return o?s({day:"numeric"},"day"):n.num(t.day);case"dd":return o?s({day:"2-digit"},"day"):n.num(t.day,2);case"c":case"E":return n.num(t.weekday);case"ccc":return d("short",!0);case"cccc":return d("long",!0);case"ccccc":return d("narrow",!0);case"EEE":return d("short",!1);case"EEEE":return d("long",!1);case"EEEEE":return d("narrow",!1);case"L":return o?s({month:"numeric",day:"numeric"},"month"):n.num(t.month);case"LL":return o?s({month:"2-digit",day:"numeric"},"month"):n.num(t.month,2);case"LLL":return u("short",!0);case"LLLL":return u("long",!0);case"LLLLL":return u("narrow",!0);case"M":return o?s({month:"numeric"},"month"):n.num(t.month);case"MM":return o?s({month:"2-digit"},"month"):n.num(t.month,2);case"MMM":return u("short",!1);case"MMMM":return u("long",!1);case"MMMMM":return u("narrow",!1);case"y":return o?s({year:"numeric"},"year"):n.num(t.year);case"yy":return o?s({year:"2-digit"},"year"):n.num(t.year.toString().slice(-2),2);case"yyyy":return o?s({year:"numeric"},"year"):n.num(t.year,4);case"yyyyyy":return o?s({year:"numeric"},"year"):n.num(t.year,6);case"G":return l("short");case"GG":return l("long");case"GGGGG":return l("narrow");case"kk":return n.num(t.weekYear.toString().slice(-2),2);case"kkkk":return n.num(t.weekYear,4);case"W":return n.num(t.weekNumber);case"WW":return n.num(t.weekNumber,2);case"o":return n.num(t.ordinal);case"ooo":return n.num(t.ordinal,3);case"q":return n.num(t.quarter);case"qq":return n.num(t.quarter,2);case"X":return n.num(Math.floor(t.ts/1e3));case"x":return n.num(t.ts);default:return function(i){var r=e.macroTokenToFormatOpts(i);return r?n.formatWithSystemDefault(t,r):i}(i)}}))},t.formatDurationFromString=function(t,i){var n,r=this,o=function(e){switch(e[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},s=e.parseFormat(i),a=s.reduce((function(e,t){var i=t.literal,n=t.val;return i?e:e.concat(n)}),[]),c=t.shiftTo.apply(t,a.map(o).filter((function(e){return e})));return Ee(s,(n=c,function(e){var t=o(e);return t?r.num(n.get(t),e.length):e}))},e}(),je=function(){function e(e,t){this.reason=e,this.explanation=t}return e.prototype.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason},e}(),Ce=function(){function e(){}var t=e.prototype;return t.offsetName=function(e,t){throw new y},t.formatOffset=function(e,t){throw new y},t.offset=function(e){throw new y},t.equals=function(e){throw new y},n(e,[{key:"type",get:function(){throw new y}},{key:"name",get:function(){throw new y}},{key:"universal",get:function(){throw new y}},{key:"isValid",get:function(){throw new y}}]),e}(),Fe=null,Le=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var i=t.prototype;return i.offsetName=function(e,t){return le(e,t.format,t.locale)},i.formatOffset=function(e,t){return me(this.offset(e),t)},i.offset=function(e){return-new Date(e).getTimezoneOffset()},i.equals=function(e){return"local"===e.type},n(t,[{key:"type",get:function(){return"local"}},{key:"name",get:function(){return G()?(new Intl.DateTimeFormat).resolvedOptions().timeZone:"local"}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return null===Fe&&(Fe=new t),Fe}}]),t}(Ce),Pe=RegExp("^"+ge.source+"$"),ze={};var Ze={year:0,month:1,day:2,hour:3,minute:4,second:5};var Ue={},He=function(e){function t(i){var n;return(n=e.call(this)||this).zoneName=i,n.valid=t.isValidZone(i),n}r(t,e),t.create=function(e){return Ue[e]||(Ue[e]=new t(e)),Ue[e]},t.resetCache=function(){Ue={},ze={}},t.isValidSpecifier=function(e){return!(!e||!e.match(Pe))},t.isValidZone=function(e){try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(e){return!1}},t.parseGMTOffset=function(e){if(e){var t=e.match(/^Etc\/GMT(0|[+-]\d{1,2})$/i);if(t)return-60*parseInt(t[1])}return null};var i=t.prototype;return i.offsetName=function(e,t){return le(e,t.format,t.locale,this.name)},i.formatOffset=function(e,t){return me(this.offset(e),t)},i.offset=function(e){var t=new Date(e);if(isNaN(t))return NaN;var i,n=(i=this.name,ze[i]||(ze[i]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:i,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),ze[i]),r=n.formatToParts?function(e,t){for(var i=e.formatToParts(t),n=[],r=0;r<i.length;r++){var o=i[r],s=o.type,a=o.value,c=Ze[s];q(c)||(n[c]=parseInt(a,10))}return n}(n,t):function(e,t){var i=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(i),r=n[1],o=n[2];return[n[3],r,o,n[4],n[5],n[6]]}(n,t),o=r[0],s=r[1],a=r[2],c=r[3],u=+t,d=u%1e3;return(ce({year:o,month:s,day:a,hour:24===c?0:c,minute:r[4],second:r[5],millisecond:0})-(u-=d>=0?d:1e3+d))/6e4},i.equals=function(e){return"iana"===e.type&&e.name===this.name},n(t,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]),t}(Ce),Be=null,qe=function(e){function t(t){var i;return(i=e.call(this)||this).fixed=t,i}r(t,e),t.instance=function(e){return 0===e?t.utcInstance:new t(e)},t.parseSpecifier=function(e){if(e){var i=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new t(he(i[1],i[2]))}return null},n(t,null,[{key:"utcInstance",get:function(){return null===Be&&(Be=new t(0)),Be}}]);var i=t.prototype;return i.offsetName=function(){return this.name},i.formatOffset=function(e,t){return me(this.fixed,t)},i.offset=function(){return this.fixed},i.equals=function(e){return"fixed"===e.type&&e.fixed===this.fixed},n(t,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return 0===this.fixed?"UTC":"UTC"+me(this.fixed,"narrow")}},{key:"universal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}]),t}(Ce),We=function(e){function t(t){var i;return(i=e.call(this)||this).zoneName=t,i}r(t,e);var i=t.prototype;return i.offsetName=function(){return null},i.formatOffset=function(){return""},i.offset=function(){return NaN},i.equals=function(){return!1},n(t,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]),t}(Ce);function Je(e,t){var i;if(q(e)||null===e)return t;if(e instanceof Ce)return e;if("string"==typeof e){var n=e.toLowerCase();return"local"===n?t:"utc"===n||"gmt"===n?qe.utcInstance:null!=(i=He.parseGMTOffset(e))?qe.instance(i):He.isValidSpecifier(n)?He.create(e):qe.parseSpecifier(n)||new We(e)}return W(e)?qe.instance(e):"object"==typeof e&&e.offset&&"number"==typeof e.offset?e:new We(e)}var Ge=function(){return Date.now()},Ye=null,$e=null,Ke=null,Qe=null,Xe=!1,et=function(){function e(){}return e.resetCaches=function(){lt.resetCache(),He.resetCache()},n(e,null,[{key:"now",get:function(){return Ge},set:function(e){Ge=e}},{key:"defaultZoneName",get:function(){return e.defaultZone.name},set:function(e){Ye=e?Je(e):null}},{key:"defaultZone",get:function(){return Ye||Le.instance}},{key:"defaultLocale",get:function(){return $e},set:function(e){$e=e}},{key:"defaultNumberingSystem",get:function(){return Ke},set:function(e){Ke=e}},{key:"defaultOutputCalendar",get:function(){return Qe},set:function(e){Qe=e}},{key:"throwOnInvalid",get:function(){return Xe},set:function(e){Xe=e}}]),e}(),tt={};function it(e,t){void 0===t&&(t={});var i=JSON.stringify([e,t]),n=tt[i];return n||(n=new Intl.DateTimeFormat(e,t),tt[i]=n),n}var nt={};var rt={};function ot(e,t){void 0===t&&(t={});var i=t,n=(i.base,function(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(i,["base"])),r=JSON.stringify([e,n]),o=rt[r];return o||(o=new Intl.RelativeTimeFormat(e,t),rt[r]=o),o}var st=null;function at(e,t,i,n,r){var o=e.listingMode(i);return"error"===o?null:"en"===o?n(t):r(t)}var ct=function(){function e(e,t,i){if(this.padTo=i.padTo||0,this.floor=i.floor||!1,!t&&G()){var n={useGrouping:!1};i.padTo>0&&(n.minimumIntegerDigits=i.padTo),this.inf=function(e,t){void 0===t&&(t={});var i=JSON.stringify([e,t]),n=nt[i];return n||(n=new Intl.NumberFormat(e,t),nt[i]=n),n}(e,n)}}return e.prototype.format=function(e){if(this.inf){var t=this.floor?Math.floor(e):e;return this.inf.format(t)}return te(this.floor?Math.floor(e):re(e,3),this.padTo)},e}(),ut=function(){function e(e,t,i){var n;if(this.opts=i,this.hasIntl=G(),e.zone.universal&&this.hasIntl){var r=e.offset/60*-1,o=r>=0?"Etc/GMT+"+r:"Etc/GMT"+r,s=He.isValidZone(o);0!==e.offset&&s?(n=o,this.dt=e):(n="UTC",i.timeZoneName?this.dt=e:this.dt=0===e.offset?e:fn.fromMillis(e.ts+60*e.offset*1e3))}else"local"===e.zone.type?this.dt=e:(this.dt=e,n=e.zone.name);if(this.hasIntl){var a=Object.assign({},this.opts);n&&(a.timeZone=n),this.dtf=it(t,a)}}var t=e.prototype;return t.format=function(){if(this.hasIntl)return this.dtf.format(this.dt.toJSDate());var e=function(e){var t="EEEE, LLLL d, yyyy, h:mm a";switch(pe(Q(e,["weekday","era","year","month","day","hour","minute","second","timeZoneName","hour12"]))){case pe(w):return"M/d/yyyy";case pe(S):return"LLL d, yyyy";case pe(R):return"EEE, LLL d, yyyy";case pe(O):return"LLLL d, yyyy";case pe(T):return"EEEE, LLLL d, yyyy";case pe(I):return"h:mm a";case pe(V):return"h:mm:ss a";case pe(M):case pe(N):return"h:mm a";case pe(E):return"HH:mm";case pe(A):return"HH:mm:ss";case pe(D):case pe(j):return"HH:mm";case pe(C):return"M/d/yyyy, h:mm a";case pe(L):return"LLL d, yyyy, h:mm a";case pe(Z):return"LLLL d, yyyy, h:mm a";case pe(H):return t;case pe(F):return"M/d/yyyy, h:mm:ss a";case pe(P):return"LLL d, yyyy, h:mm:ss a";case pe(z):return"EEE, d LLL yyyy, h:mm a";case pe(U):return"LLLL d, yyyy, h:mm:ss a";case pe(B):return"EEEE, LLLL d, yyyy, h:mm:ss a";default:return t}}(this.opts),t=lt.create("en-US");return De.create(t).formatDateTimeFromString(this.dt,e)},t.formatToParts=function(){return this.hasIntl&&Y()?this.dtf.formatToParts(this.dt.toJSDate()):[]},t.resolvedOptions=function(){return this.hasIntl?this.dtf.resolvedOptions():{locale:"en-US",numberingSystem:"latn",outputCalendar:"gregory"}},e}(),dt=function(){function e(e,t,i){this.opts=Object.assign({style:"long"},i),!t&&$()&&(this.rtf=ot(e,i))}var t=e.prototype;return t.format=function(e,t){return this.rtf?this.rtf.format(e,t):function(e,t,i,n){void 0===i&&(i="always"),void 0===n&&(n=!1);var r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===i&&o){var s="days"===e;switch(t){case 1:return s?"tomorrow":"next "+r[e][0];case-1:return s?"yesterday":"last "+r[e][0];case 0:return s?"today":"this "+r[e][0]}}var a=Object.is(t,-0)||t<0,c=Math.abs(t),u=1===c,d=r[e],l=n?u?d[1]:d[2]||d[1]:u?r[e][0]:e;return a?c+" "+l+" ago":"in "+c+" "+l}(t,e,this.opts.numeric,"long"!==this.opts.style)},t.formatToParts=function(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]},e}(),lt=function(){function e(e,t,i,n){var r=function(e){var t=e.indexOf("-u-");if(-1===t)return[e];var i,n=e.substring(0,t);try{i=it(e).resolvedOptions()}catch(e){i=it(n).resolvedOptions()}var r=i;return[n,r.numberingSystem,r.calendar]}(e),o=r[0],s=r[1],a=r[2];this.locale=o,this.numberingSystem=t||s||null,this.outputCalendar=i||a||null,this.intl=function(e,t,i){return G()?i||t?(e+="-u",i&&(e+="-ca-"+i),t&&(e+="-nu-"+t),e):e:[]}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=n,this.fastNumbersCached=null}e.fromOpts=function(t){return e.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)},e.create=function(t,i,n,r){void 0===r&&(r=!1);var o=t||et.defaultLocale;return new e(o||(r?"en-US":function(){if(st)return st;if(G()){var e=(new Intl.DateTimeFormat).resolvedOptions().locale;return st=e&&"und"!==e?e:"en-US"}return st="en-US"}()),i||et.defaultNumberingSystem,n||et.defaultOutputCalendar,o)},e.resetCache=function(){st=null,tt={},nt={},rt={}},e.fromObject=function(t){var i=void 0===t?{}:t,n=i.locale,r=i.numberingSystem,o=i.outputCalendar;return e.create(n,r,o)};var t=e.prototype;return t.listingMode=function(e){void 0===e&&(e=!0);var t=G()&&Y(),i=this.isEnglish(),n=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return t||i&&n||e?!t||i&&n?"en":"intl":"error"},t.clone=function(t){return t&&0!==Object.getOwnPropertyNames(t).length?e.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1):this},t.redefaultToEN=function(e){return void 0===e&&(e={}),this.clone(Object.assign({},e,{defaultToEN:!0}))},t.redefaultToSystem=function(e){return void 0===e&&(e={}),this.clone(Object.assign({},e,{defaultToEN:!1}))},t.months=function(e,t,i){var n=this;return void 0===t&&(t=!1),void 0===i&&(i=!0),at(this,e,i,_e,(function(){var i=t?{month:e,day:"numeric"}:{month:e},r=t?"format":"standalone";return n.monthsCache[r][e]||(n.monthsCache[r][e]=function(e){for(var t=[],i=1;i<=12;i++){var n=fn.utc(2016,i,1);t.push(e(n))}return t}((function(e){return n.extract(e,i,"month")}))),n.monthsCache[r][e]}))},t.weekdays=function(e,t,i){var n=this;return void 0===t&&(t=!1),void 0===i&&(i=!0),at(this,e,i,Oe,(function(){var i=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},r=t?"format":"standalone";return n.weekdaysCache[r][e]||(n.weekdaysCache[r][e]=function(e){for(var t=[],i=1;i<=7;i++){var n=fn.utc(2016,11,13+i);t.push(e(n))}return t}((function(e){return n.extract(e,i,"weekday")}))),n.weekdaysCache[r][e]}))},t.meridiems=function(e){var t=this;return void 0===e&&(e=!0),at(this,void 0,e,(function(){return Te}),(function(){if(!t.meridiemCache){var e={hour:"numeric",hour12:!0};t.meridiemCache=[fn.utc(2016,11,13,9),fn.utc(2016,11,13,19)].map((function(i){return t.extract(i,e,"dayperiod")}))}return t.meridiemCache}))},t.eras=function(e,t){var i=this;return void 0===t&&(t=!0),at(this,e,t,Ne,(function(){var t={era:e};return i.eraCache[e]||(i.eraCache[e]=[fn.utc(-40,1,1),fn.utc(2017,1,1)].map((function(e){return i.extract(e,t,"era")}))),i.eraCache[e]}))},t.extract=function(e,t,i){var n=this.dtFormatter(e,t).formatToParts().find((function(e){return e.type.toLowerCase()===i}));return n?n.value:null},t.numberFormatter=function(e){return void 0===e&&(e={}),new ct(this.intl,e.forceSimple||this.fastNumbers,e)},t.dtFormatter=function(e,t){return void 0===t&&(t={}),new ut(e,this.intl,t)},t.relFormatter=function(e){return void 0===e&&(e={}),new dt(this.intl,this.isEnglish(),e)},t.isEnglish=function(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||G()&&new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")},t.equals=function(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar},n(e,[{key:"fastNumbers",get:function(){var e;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(e=this).numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||G()&&"latn"===new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem)),this.fastNumbersCached}}]),e}();function ht(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=t.reduce((function(e,t){return e+t.source}),"");return RegExp("^"+n+"$")}function ft(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e){return t.reduce((function(t,i){var n=t[0],r=t[1],o=t[2],s=i(e,o),a=s[0],c=s[1],u=s[2];return[Object.assign(n,a),r||c,u]}),[{},null,1]).slice(0,2)}}function vt(e){if(null==e)return[null,null];for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];for(var r=0,o=i;r<o.length;r++){var s=o[r],a=s[0],c=s[1],u=a.exec(e);if(u)return c(u)}return[null,null]}function mt(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e,i){var n,r={};for(n=0;n<t.length;n++)r[t[n]]=ie(e[i+n]);return[r,null,i+n]}}var xt=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,gt=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,pt=RegExp(""+gt.source+xt.source+"?"),yt=RegExp("(?:T"+pt.source+")?"),bt=mt("weekYear","weekNumber","weekDay"),kt=mt("year","ordinal"),_t=RegExp(gt.source+" ?(?:"+xt.source+"|("+ge.source+"))?"),wt=RegExp("(?: "+_t.source+")?");function St(e,t,i){var n=e[t];return q(n)?i:ie(n)}function Rt(e,t){return[{year:St(e,t),month:St(e,t+1,1),day:St(e,t+2,1)},null,t+3]}function Ot(e,t){return[{hours:St(e,t,0),minutes:St(e,t+1,0),seconds:St(e,t+2,0),milliseconds:ne(e[t+3])},null,t+4]}function Tt(e,t){var i=!e[t]&&!e[t+1],n=he(e[t+1],e[t+2]);return[{},i?null:qe.instance(n),t+3]}function It(e,t){return[{},e[t]?He.create(e[t]):null,t+1]}var Vt=RegExp("^T?"+gt.source+"$"),Mt=/^-?P(?:(?:(-?\d{1,9})Y)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})W)?(?:(-?\d{1,9})D)?(?:T(?:(-?\d{1,9})H)?(?:(-?\d{1,9})M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function Nt(e){var t=e[0],i=e[1],n=e[2],r=e[3],o=e[4],s=e[5],a=e[6],c=e[7],u=e[8],d="-"===t[0],l=c&&"-"===c[0],h=function(e,t){return void 0===t&&(t=!1),void 0!==e&&(t||e&&d)?-e:e};return[{years:h(ie(i)),months:h(ie(n)),weeks:h(ie(r)),days:h(ie(o)),hours:h(ie(s)),minutes:h(ie(a)),seconds:h(ie(c),"-0"===c),milliseconds:h(ne(u),l)}]}var Et={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function At(e,t,i,n,r,o,s){var a={year:2===t.length?de(ie(t)):ie(t),month:be.indexOf(i)+1,day:ie(n),hour:ie(r),minute:ie(o)};return s&&(a.second=ie(s)),e&&(a.weekday=e.length>3?we.indexOf(e)+1:Se.indexOf(e)+1),a}var Dt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function jt(e){var t,i=e[1],n=e[2],r=e[3],o=e[4],s=e[5],a=e[6],c=e[7],u=e[8],d=e[9],l=e[10],h=e[11],f=At(i,o,r,n,s,a,c);return t=u?Et[u]:d?0:he(l,h),[f,new qe(t)]}var Ct=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Ft=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Lt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Pt(e){var t=e[1],i=e[2],n=e[3];return[At(t,e[4],n,i,e[5],e[6],e[7]),qe.utcInstance]}function zt(e){var t=e[1],i=e[2],n=e[3],r=e[4],o=e[5],s=e[6];return[At(t,e[7],i,n,r,o,s),qe.utcInstance]}var Zt=ht(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,yt),Ut=ht(/(\d{4})-?W(\d\d)(?:-?(\d))?/,yt),Ht=ht(/(\d{4})-?(\d{3})/,yt),Bt=ht(pt),qt=ft(Rt,Ot,Tt),Wt=ft(bt,Ot,Tt),Jt=ft(kt,Ot,Tt),Gt=ft(Ot,Tt);var Yt=ft(Ot);var $t=ht(/(\d{4})-(\d\d)-(\d\d)/,wt),Kt=ht(_t),Qt=ft(Rt,Ot,Tt,It),Xt=ft(Ot,Tt,It);var ei={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},ti=Object.assign({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},ei),ii=365.2425,ni=30.436875,ri=Object.assign({years:{quarters:4,months:12,weeks:52.1775,days:ii,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:ni,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},ei),oi=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],si=oi.slice(0).reverse();function ai(e,t,i){void 0===i&&(i=!1);var n={values:i?t.values:Object.assign({},e.values,t.values||{}),loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy};return new ui(n)}function ci(e,t,i,n,r){var o=e[r][i],s=t[i]/o,a=!(Math.sign(s)===Math.sign(n[r]))&&0!==n[r]&&Math.abs(s)<=1?function(e){return e<0?Math.floor(e):Math.ceil(e)}(s):Math.trunc(s);n[r]+=a,t[i]-=a*o}var ui=function(){function e(e){var t="longterm"===e.conversionAccuracy||!1;this.values=e.values,this.loc=e.loc||lt.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=t?ri:ti,this.isLuxonDuration=!0}e.fromMillis=function(t,i){return e.fromObject(Object.assign({milliseconds:t},i))},e.fromObject=function(t){if(null==t||"object"!=typeof t)throw new p("Duration.fromObject: argument expected to be an object, got "+(null===t?"null":typeof t));return new e({values:ve(t,e.normalizeUnit,["locale","numberingSystem","conversionAccuracy","zone"]),loc:lt.fromObject(t),conversionAccuracy:t.conversionAccuracy})},e.fromISO=function(t,i){var n=function(e){return vt(e,[Mt,Nt])}(t),r=n[0];if(r){var o=Object.assign(r,i);return e.fromObject(o)}return e.invalid("unparsable",'the input "'+t+"\" can't be parsed as ISO 8601")},e.fromISOTime=function(t,i){var n=function(e){return vt(e,[Vt,Yt])}(t),r=n[0];if(r){var o=Object.assign(r,i);return e.fromObject(o)}return e.invalid("unparsable",'the input "'+t+"\" can't be parsed as ISO 8601")},e.invalid=function(t,i){if(void 0===i&&(i=null),!t)throw new p("need to specify a reason the Duration is invalid");var n=t instanceof je?t:new je(t,i);if(et.throwOnInvalid)throw new m(n);return new e({invalid:n})},e.normalizeUnit=function(e){var t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e];if(!t)throw new g(e);return t},e.isDuration=function(e){return e&&e.isLuxonDuration||!1};var t=e.prototype;return t.toFormat=function(e,t){void 0===t&&(t={});var i=Object.assign({},t,{floor:!1!==t.round&&!1!==t.floor});return this.isValid?De.create(this.loc,i).formatDurationFromString(this,e):"Invalid Duration"},t.toObject=function(e){if(void 0===e&&(e={}),!this.isValid)return{};var t=Object.assign({},this.values);return e.includeConfig&&(t.conversionAccuracy=this.conversionAccuracy,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t},t.toISO=function(){if(!this.isValid)return null;var e="P";return 0!==this.years&&(e+=this.years+"Y"),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(e+=re(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e},t.toISOTime=function(e){if(void 0===e&&(e={}),!this.isValid)return null;var t=this.toMillis();if(t<0||t>=864e5)return null;e=Object.assign({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},e);var i=this.shiftTo("hours","minutes","seconds","milliseconds"),n="basic"===e.format?"hhmm":"hh:mm";e.suppressSeconds&&0===i.seconds&&0===i.milliseconds||(n+="basic"===e.format?"ss":":ss",e.suppressMilliseconds&&0===i.milliseconds||(n+=".SSS"));var r=i.toFormat(n);return e.includePrefix&&(r="T"+r),r},t.toJSON=function(){return this.toISO()},t.toString=function(){return this.toISO()},t.toMillis=function(){return this.as("milliseconds")},t.valueOf=function(){return this.toMillis()},t.plus=function(e){if(!this.isValid)return this;for(var t,i=di(e),n={},r=l(oi);!(t=r()).done;){var o=t.value;(X(i.values,o)||X(this.values,o))&&(n[o]=i.get(o)+this.get(o))}return ai(this,{values:n},!0)},t.minus=function(e){if(!this.isValid)return this;var t=di(e);return this.plus(t.negate())},t.mapUnits=function(e){if(!this.isValid)return this;for(var t={},i=0,n=Object.keys(this.values);i<n.length;i++){var r=n[i];t[r]=fe(e(this.values[r],r))}return ai(this,{values:t},!0)},t.get=function(t){return this[e.normalizeUnit(t)]},t.set=function(t){return this.isValid?ai(this,{values:Object.assign(this.values,ve(t,e.normalizeUnit,[]))}):this},t.reconfigure=function(e){var t=void 0===e?{}:e,i=t.locale,n=t.numberingSystem,r=t.conversionAccuracy,o={loc:this.loc.clone({locale:i,numberingSystem:n})};return r&&(o.conversionAccuracy=r),ai(this,o)},t.as=function(e){return this.isValid?this.shiftTo(e).get(e):NaN},t.normalize=function(){if(!this.isValid)return this;var e=this.toObject();return function(e,t){si.reduce((function(i,n){return q(t[n])?i:(i&&ci(e,t,i,t,n),n)}),null)}(this.matrix,e),ai(this,{values:e},!0)},t.shiftTo=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];if(!this.isValid)return this;if(0===i.length)return this;i=i.map((function(t){return e.normalizeUnit(t)}));for(var r,o,s={},a={},c=this.toObject(),u=l(oi);!(o=u()).done;){var d=o.value;if(i.indexOf(d)>=0){r=d;var h=0;for(var f in a)h+=this.matrix[f][d]*a[f],a[f]=0;W(c[d])&&(h+=c[d]);var v=Math.trunc(h);for(var m in s[d]=v,a[d]=h-v,c)oi.indexOf(m)>oi.indexOf(d)&&ci(this.matrix,c,m,s,d)}else W(c[d])&&(a[d]=c[d])}for(var x in a)0!==a[x]&&(s[r]+=x===r?a[x]:a[x]/this.matrix[r][x]);return ai(this,{values:s},!0).normalize()},t.negate=function(){if(!this.isValid)return this;for(var e={},t=0,i=Object.keys(this.values);t<i.length;t++){var n=i[t];e[n]=-this.values[n]}return ai(this,{values:e},!0)},t.equals=function(e){if(!this.isValid||!e.isValid)return!1;if(!this.loc.equals(e.loc))return!1;for(var t,i=l(oi);!(t=i()).done;){var n=t.value;if(r=this.values[n],o=e.values[n],!(void 0===r||0===r?void 0===o||0===o:r===o))return!1}var r,o;return!0},n(e,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),e}();function di(e){if(W(e))return ui.fromMillis(e);if(ui.isDuration(e))return e;if("object"==typeof e)return ui.fromObject(e);throw new p("Unknown duration argument "+e+" of type "+typeof e)}var li="Invalid Interval";function hi(e,t){return e&&e.isValid?t&&t.isValid?t<e?fi.invalid("end before start","The end of an interval must be after its start, but you had start="+e.toISO()+" and end="+t.toISO()):null:fi.invalid("missing or invalid end"):fi.invalid("missing or invalid start")}var fi=function(){function e(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}e.invalid=function(t,i){if(void 0===i&&(i=null),!t)throw new p("need to specify a reason the Interval is invalid");var n=t instanceof je?t:new je(t,i);if(et.throwOnInvalid)throw new v(n);return new e({invalid:n})},e.fromDateTimes=function(t,i){var n=vn(t),r=vn(i),o=hi(n,r);return null==o?new e({start:n,end:r}):o},e.after=function(t,i){var n=di(i),r=vn(t);return e.fromDateTimes(r,r.plus(n))},e.before=function(t,i){var n=di(i),r=vn(t);return e.fromDateTimes(r.minus(n),r)},e.fromISO=function(t,i){var n=(t||"").split("/",2),r=n[0],o=n[1];if(r&&o){var s,a,c,u;try{a=(s=fn.fromISO(r,i)).isValid}catch(o){a=!1}try{u=(c=fn.fromISO(o,i)).isValid}catch(o){u=!1}if(a&&u)return e.fromDateTimes(s,c);if(a){var d=ui.fromISO(o,i);if(d.isValid)return e.after(s,d)}else if(u){var l=ui.fromISO(r,i);if(l.isValid)return e.before(c,l)}}return e.invalid("unparsable",'the input "'+t+"\" can't be parsed as ISO 8601")},e.isInterval=function(e){return e&&e.isLuxonInterval||!1};var t=e.prototype;return t.length=function(e){return void 0===e&&(e="milliseconds"),this.isValid?this.toDuration.apply(this,[e]).get(e):NaN},t.count=function(e){if(void 0===e&&(e="milliseconds"),!this.isValid)return NaN;var t=this.start.startOf(e),i=this.end.startOf(e);return Math.floor(i.diff(t,e).get(e))+1},t.hasSame=function(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))},t.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},t.isAfter=function(e){return!!this.isValid&&this.s>e},t.isBefore=function(e){return!!this.isValid&&this.e<=e},t.contains=function(e){return!!this.isValid&&(this.s<=e&&this.e>e)},t.set=function(t){var i=void 0===t?{}:t,n=i.start,r=i.end;return this.isValid?e.fromDateTimes(n||this.s,r||this.e):this},t.splitAt=function(){var t=this;if(!this.isValid)return[];for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];for(var o=n.map(vn).filter((function(e){return t.contains(e)})).sort(),s=[],a=this.s,c=0;a<this.e;){var u=o[c]||this.e,d=+u>+this.e?this.e:u;s.push(e.fromDateTimes(a,d)),a=d,c+=1}return s},t.splitBy=function(t){var i=di(t);if(!this.isValid||!i.isValid||0===i.as("milliseconds"))return[];for(var n,r=this.s,o=1,s=[];r<this.e;){var a=this.start.plus(i.mapUnits((function(e){return e*o})));n=+a>+this.e?this.e:a,s.push(e.fromDateTimes(r,n)),r=n,o+=1}return s},t.divideEqually=function(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]},t.overlaps=function(e){return this.e>e.s&&this.s<e.e},t.abutsStart=function(e){return!!this.isValid&&+this.e==+e.s},t.abutsEnd=function(e){return!!this.isValid&&+e.e==+this.s},t.engulfs=function(e){return!!this.isValid&&(this.s<=e.s&&this.e>=e.e)},t.equals=function(e){return!(!this.isValid||!e.isValid)&&(this.s.equals(e.s)&&this.e.equals(e.e))},t.intersection=function(t){if(!this.isValid)return this;var i=this.s>t.s?this.s:t.s,n=this.e<t.e?this.e:t.e;return i>=n?null:e.fromDateTimes(i,n)},t.union=function(t){if(!this.isValid)return this;var i=this.s<t.s?this.s:t.s,n=this.e>t.e?this.e:t.e;return e.fromDateTimes(i,n)},e.merge=function(e){var t=e.sort((function(e,t){return e.s-t.s})).reduce((function(e,t){var i=e[0],n=e[1];return n?n.overlaps(t)||n.abutsStart(t)?[i,n.union(t)]:[i.concat([n]),t]:[i,t]}),[[],null]),i=t[0],n=t[1];return n&&i.push(n),i},e.xor=function(t){for(var i,n,r=null,o=0,s=[],a=t.map((function(e){return[{time:e.s,type:"s"},{time:e.e,type:"e"}]})),c=l((i=Array.prototype).concat.apply(i,a).sort((function(e,t){return e.time-t.time})));!(n=c()).done;){var u=n.value;1===(o+="s"===u.type?1:-1)?r=u.time:(r&&+r!=+u.time&&s.push(e.fromDateTimes(r,u.time)),r=null)}return e.merge(s)},t.difference=function(){for(var t=this,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return e.xor([this].concat(n)).map((function(e){return t.intersection(e)})).filter((function(e){return e&&!e.isEmpty()}))},t.toString=function(){return this.isValid?"["+this.s.toISO()+" – "+this.e.toISO()+")":li},t.toISO=function(e){return this.isValid?this.s.toISO(e)+"/"+this.e.toISO(e):li},t.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():li},t.toISOTime=function(e){return this.isValid?this.s.toISOTime(e)+"/"+this.e.toISOTime(e):li},t.toFormat=function(e,t){var i=(void 0===t?{}:t).separator,n=void 0===i?" – ":i;return this.isValid?""+this.s.toFormat(e)+n+this.e.toFormat(e):li},t.toDuration=function(e,t){return this.isValid?this.e.diff(this.s,e,t):ui.invalid(this.invalidReason)},t.mapEndpoints=function(t){return e.fromDateTimes(t(this.s),t(this.e))},n(e,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return null===this.invalidReason}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),e}(),vi=function(){function e(){}return e.hasDST=function(e){void 0===e&&(e=et.defaultZone);var t=fn.now().setZone(e).set({month:12});return!e.universal&&t.offset!==t.set({month:6}).offset},e.isValidIANAZone=function(e){return He.isValidSpecifier(e)&&He.isValidZone(e)},e.normalizeZone=function(e){return Je(e,et.defaultZone)},e.months=function(e,t){void 0===e&&(e="long");var i=void 0===t?{}:t,n=i.locale,r=void 0===n?null:n,o=i.numberingSystem,s=void 0===o?null:o,a=i.locObj,c=void 0===a?null:a,u=i.outputCalendar,d=void 0===u?"gregory":u;return(c||lt.create(r,s,d)).months(e)},e.monthsFormat=function(e,t){void 0===e&&(e="long");var i=void 0===t?{}:t,n=i.locale,r=void 0===n?null:n,o=i.numberingSystem,s=void 0===o?null:o,a=i.locObj,c=void 0===a?null:a,u=i.outputCalendar,d=void 0===u?"gregory":u;return(c||lt.create(r,s,d)).months(e,!0)},e.weekdays=function(e,t){void 0===e&&(e="long");var i=void 0===t?{}:t,n=i.locale,r=void 0===n?null:n,o=i.numberingSystem,s=void 0===o?null:o,a=i.locObj;return((void 0===a?null:a)||lt.create(r,s,null)).weekdays(e)},e.weekdaysFormat=function(e,t){void 0===e&&(e="long");var i=void 0===t?{}:t,n=i.locale,r=void 0===n?null:n,o=i.numberingSystem,s=void 0===o?null:o,a=i.locObj;return((void 0===a?null:a)||lt.create(r,s,null)).weekdays(e,!0)},e.meridiems=function(e){var t=(void 0===e?{}:e).locale,i=void 0===t?null:t;return lt.create(i).meridiems()},e.eras=function(e,t){void 0===e&&(e="short");var i=(void 0===t?{}:t).locale,n=void 0===i?null:i;return lt.create(n,null,"gregory").eras(e)},e.features=function(){var e=!1,t=!1,i=!1,n=!1;if(G()){e=!0,t=Y(),n=$();try{i="America/New_York"===new Intl.DateTimeFormat("en",{timeZone:"America/New_York"}).resolvedOptions().timeZone}catch(e){i=!1}}return{intl:e,intlTokens:t,zones:i,relative:n}},e}();function mi(e,t){var i=function(e){return e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},n=i(t)-i(e);return Math.floor(ui.fromMillis(n).as("days"))}function xi(e,t,i,n){var r=function(e,t,i){for(var n,r,o={},s=0,a=[["years",function(e,t){return t.year-e.year}],["quarters",function(e,t){return t.quarter-e.quarter}],["months",function(e,t){return t.month-e.month+12*(t.year-e.year)}],["weeks",function(e,t){var i=mi(e,t);return(i-i%7)/7}],["days",mi]];s<a.length;s++){var c=a[s],u=c[0],d=c[1];if(i.indexOf(u)>=0){var l;n=u;var h,f=d(e,t);(r=e.plus(((l={})[u]=f,l)))>t?(e=e.plus(((h={})[u]=f-1,h)),f-=1):e=r,o[u]=f}}return[e,o,r,n]}(e,t,i),o=r[0],s=r[1],a=r[2],c=r[3],u=t-o,d=i.filter((function(e){return["hours","minutes","seconds","milliseconds"].indexOf(e)>=0}));if(0===d.length){var l;if(a<t)a=o.plus(((l={})[c]=1,l));a!==o&&(s[c]=(s[c]||0)+u/(a-o))}var h,f=ui.fromObject(Object.assign(s,n));return d.length>0?(h=ui.fromMillis(u,n)).shiftTo.apply(h,d).plus(f):f}var gi={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},pi={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},yi=gi.hanidec.replace(/[\[|\]]/g,"").split("");function bi(e,t){var i=e.numberingSystem;return void 0===t&&(t=""),new RegExp(""+gi[i||"latn"]+t)}function ki(e,t){return void 0===t&&(t=function(e){return e}),{regex:e,deser:function(e){var i=e[0];return t(function(e){var t=parseInt(e,10);if(isNaN(t)){t="";for(var i=0;i<e.length;i++){var n=e.charCodeAt(i);if(-1!==e[i].search(gi.hanidec))t+=yi.indexOf(e[i]);else for(var r in pi){var o=pi[r],s=o[0],a=o[1];n>=s&&n<=a&&(t+=n-s)}}return parseInt(t,10)}return t}(i))}}}var _i="( |"+String.fromCharCode(160)+")",wi=new RegExp(_i,"g");function Si(e){return e.replace(/\./g,"\\.?").replace(wi,_i)}function Ri(e){return e.replace(/\./g,"").replace(wi," ").toLowerCase()}function Oi(e,t){return null===e?null:{regex:RegExp(e.map(Si).join("|")),deser:function(i){var n=i[0];return e.findIndex((function(e){return Ri(n)===Ri(e)}))+t}}}function Ti(e,t){return{regex:e,deser:function(e){return he(e[1],e[2])},groups:t}}function Ii(e){return{regex:e,deser:function(e){return e[0]}}}var Vi={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};var Mi=null;function Ni(e,t){if(e.literal)return e;var i=De.macroTokenToFormatOpts(e.val);if(!i)return e;var n=De.create(t,i).formatDateTimeParts((Mi||(Mi=fn.fromMillis(1555555555555)),Mi)).map((function(e){return function(e,t,i){var n=e.type,r=e.value;if("literal"===n)return{literal:!0,val:r};var o=i[n],s=Vi[n];return"object"==typeof s&&(s=s[o]),s?{literal:!1,val:s}:void 0}(e,0,i)}));return n.includes(void 0)?e:n}function Ei(e,t,i){var n=function(e,t){var i;return(i=Array.prototype).concat.apply(i,e.map((function(e){return Ni(e,t)})))}(De.parseFormat(i),e),r=n.map((function(t){return i=t,r=bi(n=e),o=bi(n,"{2}"),s=bi(n,"{3}"),a=bi(n,"{4}"),c=bi(n,"{6}"),u=bi(n,"{1,2}"),d=bi(n,"{1,3}"),l=bi(n,"{1,6}"),h=bi(n,"{1,9}"),f=bi(n,"{2,4}"),v=bi(n,"{4,6}"),m=function(e){return{regex:RegExp((t=e.val,t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:function(e){return e[0]},literal:!0};var t},x=function(e){if(i.literal)return m(e);switch(e.val){case"G":return Oi(n.eras("short",!1),0);case"GG":return Oi(n.eras("long",!1),0);case"y":return ki(l);case"yy":case"kk":return ki(f,de);case"yyyy":case"kkkk":return ki(a);case"yyyyy":return ki(v);case"yyyyyy":return ki(c);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return ki(u);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return ki(o);case"MMM":return Oi(n.months("short",!0,!1),1);case"MMMM":return Oi(n.months("long",!0,!1),1);case"LLL":return Oi(n.months("short",!1,!1),1);case"LLLL":return Oi(n.months("long",!1,!1),1);case"o":case"S":return ki(d);case"ooo":case"SSS":return ki(s);case"u":return Ii(h);case"a":return Oi(n.meridiems(),0);case"E":case"c":return ki(r);case"EEE":return Oi(n.weekdays("short",!1,!1),1);case"EEEE":return Oi(n.weekdays("long",!1,!1),1);case"ccc":return Oi(n.weekdays("short",!0,!1),1);case"cccc":return Oi(n.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Ti(new RegExp("([+-]"+u.source+")(?::("+o.source+"))?"),2);case"ZZZ":return Ti(new RegExp("([+-]"+u.source+")("+o.source+")?"),2);case"z":return Ii(/[a-z_+-/]{1,256}?/i);default:return m(e)}}(i)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"},x.token=i,x;var i,n,r,o,s,a,c,u,d,l,h,f,v,m,x})),o=r.find((function(e){return e.invalidReason}));if(o)return{input:t,tokens:n,invalidReason:o.invalidReason};var s=function(e){return["^"+e.map((function(e){return e.regex})).reduce((function(e,t){return e+"("+t.source+")"}),"")+"$",e]}(r),a=s[0],c=s[1],u=RegExp(a,"i"),d=function(e,t,i){var n=e.match(t);if(n){var r={},o=1;for(var s in i)if(X(i,s)){var a=i[s],c=a.groups?a.groups+1:1;!a.literal&&a.token&&(r[a.token.val[0]]=a.deser(n.slice(o,o+c))),o+=c}return[n,r]}return[n,{}]}(t,u,c),l=d[0],h=d[1],f=h?function(e){var t;return t=q(e.Z)?q(e.z)?null:He.create(e.z):new qe(e.Z),q(e.q)||(e.M=3*(e.q-1)+1),q(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),q(e.u)||(e.S=ne(e.u)),[Object.keys(e).reduce((function(t,i){var n=function(e){switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}}(i);return n&&(t[n]=e[i]),t}),{}),t]}(h):[null,null],v=f[0],m=f[1];if(X(h,"a")&&X(h,"H"))throw new x("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:n,regex:u,rawMatches:l,matches:h,result:v,zone:m}}var Ai=[0,31,59,90,120,151,181,212,243,273,304,334],Di=[0,31,60,91,121,152,182,213,244,274,305,335];function ji(e,t){return new je("unit out of range","you specified "+t+" (of type "+typeof t+") as a "+e+", which is invalid")}function Ci(e,t,i){var n=new Date(Date.UTC(e,t-1,i)).getUTCDay();return 0===n?7:n}function Fi(e,t,i){return i+(oe(e)?Di:Ai)[t-1]}function Li(e,t){var i=oe(e)?Di:Ai,n=i.findIndex((function(e){return e<t}));return{month:n+1,day:t-i[n]}}function Pi(e){var t,i=e.year,n=e.month,r=e.day,o=Fi(i,n,r),s=Ci(i,n,r),a=Math.floor((o-s+10)/7);return a<1?a=ue(t=i-1):a>ue(i)?(t=i+1,a=1):t=i,Object.assign({weekYear:t,weekNumber:a,weekday:s},xe(e))}function zi(e){var t,i=e.weekYear,n=e.weekNumber,r=e.weekday,o=Ci(i,1,4),s=se(i),a=7*n+r-o-3;a<1?a+=se(t=i-1):a>s?(t=i+1,a-=se(i)):t=i;var c=Li(t,a),u=c.month,d=c.day;return Object.assign({year:t,month:u,day:d},xe(e))}function Zi(e){var t=e.year,i=Fi(t,e.month,e.day);return Object.assign({year:t,ordinal:i},xe(e))}function Ui(e){var t=e.year,i=Li(t,e.ordinal),n=i.month,r=i.day;return Object.assign({year:t,month:n,day:r},xe(e))}function Hi(e){var t=J(e.year),i=ee(e.month,1,12),n=ee(e.day,1,ae(e.year,e.month));return t?i?!n&&ji("day",e.day):ji("month",e.month):ji("year",e.year)}function Bi(e){var t=e.hour,i=e.minute,n=e.second,r=e.millisecond,o=ee(t,0,23)||24===t&&0===i&&0===n&&0===r,s=ee(i,0,59),a=ee(n,0,59),c=ee(r,0,999);return o?s?a?!c&&ji("millisecond",r):ji("second",n):ji("minute",i):ji("hour",t)}var qi="Invalid DateTime",Wi=864e13;function Ji(e){return new je("unsupported zone",'the zone "'+e.name+'" is not supported')}function Gi(e){return null===e.weekData&&(e.weekData=Pi(e.c)),e.weekData}function Yi(e,t){var i={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new fn(Object.assign({},i,t,{old:i}))}function $i(e,t,i){var n=e-60*t*1e3,r=i.offset(n);if(t===r)return[n,t];n-=60*(r-t)*1e3;var o=i.offset(n);return r===o?[n,r]:[e-60*Math.min(r,o)*1e3,Math.max(r,o)]}function Ki(e,t){var i=new Date(e+=60*t*1e3);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function Qi(e,t,i){return $i(ce(e),t,i)}function Xi(e,t){var i=e.o,n=e.c.year+Math.trunc(t.years),r=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),o=Object.assign({},e.c,{year:n,month:r,day:Math.min(e.c.day,ae(n,r))+Math.trunc(t.days)+7*Math.trunc(t.weeks)}),s=ui.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=$i(ce(o),i,e.zone),c=a[0],u=a[1];return 0!==s&&(c+=s,u=e.zone.offset(c)),{ts:c,o:u}}function en(e,t,i,n,r){var o=i.setZone,s=i.zone;if(e&&0!==Object.keys(e).length){var a=t||s,c=fn.fromObject(Object.assign(e,i,{zone:a,setZone:void 0}));return o?c:c.setZone(s)}return fn.invalid(new je("unparsable",'the input "'+r+"\" can't be parsed as "+n))}function tn(e,t,i){return void 0===i&&(i=!0),e.isValid?De.create(lt.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(e,t):null}function nn(e,t){var i=t.suppressSeconds,n=void 0!==i&&i,r=t.suppressMilliseconds,o=void 0!==r&&r,s=t.includeOffset,a=t.includePrefix,c=void 0!==a&&a,u=t.includeZone,d=void 0!==u&&u,l=t.spaceZone,h=void 0!==l&&l,f=t.format,v=void 0===f?"extended":f,m="basic"===v?"HHmm":"HH:mm";n&&0===e.second&&0===e.millisecond||(m+="basic"===v?"ss":":ss",o&&0===e.millisecond||(m+=".SSS")),(d||s)&&h&&(m+=" "),d?m+="z":s&&(m+="basic"===v?"ZZZ":"ZZ");var x=tn(e,m);return c&&(x="T"+x),x}var rn={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},on={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},sn={ordinal:1,hour:0,minute:0,second:0,millisecond:0},an=["year","month","day","hour","minute","second","millisecond"],cn=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],un=["year","ordinal","hour","minute","second","millisecond"];function dn(e){var t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new g(e);return t}function ln(e,t){for(var i,n=l(an);!(i=n()).done;){var r=i.value;q(e[r])&&(e[r]=rn[r])}var o=Hi(e)||Bi(e);if(o)return fn.invalid(o);var s=et.now(),a=Qi(e,t.offset(s),t),c=a[0],u=a[1];return new fn({ts:c,zone:t,o:u})}function hn(e,t,i){var n=!!q(i.round)||i.round,r=function(e,r){return e=re(e,n||i.calendary?0:2,!0),t.loc.clone(i).relFormatter(i).format(e,r)},o=function(n){return i.calendary?t.hasSame(e,n)?0:t.startOf(n).diff(e.startOf(n),n).get(n):t.diff(e,n).get(n)};if(i.unit)return r(o(i.unit),i.unit);for(var s,a=l(i.units);!(s=a()).done;){var c=s.value,u=o(c);if(Math.abs(u)>=1)return r(u,c)}return r(e>t?-0:0,i.units[i.units.length-1])}var fn=function(){function e(e){var t=e.zone||et.defaultZone,i=e.invalid||(Number.isNaN(e.ts)?new je("invalid input"):null)||(t.isValid?null:Ji(t));this.ts=q(e.ts)?et.now():e.ts;var n=null,r=null;if(!i)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t)){var o=[e.old.c,e.old.o];n=o[0],r=o[1]}else{var s=t.offset(this.ts);n=Ki(this.ts,s),n=(i=Number.isNaN(n.year)?new je("invalid input"):null)?null:n,r=i?null:s}this._zone=t,this.loc=e.loc||lt.create(),this.invalid=i,this.weekData=null,this.c=n,this.o=r,this.isLuxonDateTime=!0}e.now=function(){return new e({})},e.local=function(t,i,n,r,o,s,a){return q(t)?e.now():ln({year:t,month:i,day:n,hour:r,minute:o,second:s,millisecond:a},et.defaultZone)},e.utc=function(t,i,n,r,o,s,a){return q(t)?new e({ts:et.now(),zone:qe.utcInstance}):ln({year:t,month:i,day:n,hour:r,minute:o,second:s,millisecond:a},qe.utcInstance)},e.fromJSDate=function(t,i){void 0===i&&(i={});var n,r=(n=t,"[object Date]"===Object.prototype.toString.call(n)?t.valueOf():NaN);if(Number.isNaN(r))return e.invalid("invalid input");var o=Je(i.zone,et.defaultZone);return o.isValid?new e({ts:r,zone:o,loc:lt.fromObject(i)}):e.invalid(Ji(o))},e.fromMillis=function(t,i){if(void 0===i&&(i={}),W(t))return t<-Wi||t>Wi?e.invalid("Timestamp out of range"):new e({ts:t,zone:Je(i.zone,et.defaultZone),loc:lt.fromObject(i)});throw new p("fromMillis requires a numerical input, but received a "+typeof t+" with value "+t)},e.fromSeconds=function(t,i){if(void 0===i&&(i={}),W(t))return new e({ts:1e3*t,zone:Je(i.zone,et.defaultZone),loc:lt.fromObject(i)});throw new p("fromSeconds requires a numerical input")},e.fromObject=function(t){var i=Je(t.zone,et.defaultZone);if(!i.isValid)return e.invalid(Ji(i));var n=et.now(),r=i.offset(n),o=ve(t,dn,["zone","locale","outputCalendar","numberingSystem"]),s=!q(o.ordinal),a=!q(o.year),c=!q(o.month)||!q(o.day),u=a||c,d=o.weekYear||o.weekNumber,h=lt.fromObject(t);if((u||s)&&d)throw new x("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&s)throw new x("Can't mix ordinal dates with month/day");var f,v,m=d||o.weekday&&!u,g=Ki(n,r);m?(f=cn,v=on,g=Pi(g)):s?(f=un,v=sn,g=Zi(g)):(f=an,v=rn);for(var p,y=!1,b=l(f);!(p=b()).done;){var k=p.value;q(o[k])?o[k]=y?v[k]:g[k]:y=!0}var _=m?function(e){var t=J(e.weekYear),i=ee(e.weekNumber,1,ue(e.weekYear)),n=ee(e.weekday,1,7);return t?i?!n&&ji("weekday",e.weekday):ji("week",e.week):ji("weekYear",e.weekYear)}(o):s?function(e){var t=J(e.year),i=ee(e.ordinal,1,se(e.year));return t?!i&&ji("ordinal",e.ordinal):ji("year",e.year)}(o):Hi(o),w=_||Bi(o);if(w)return e.invalid(w);var S=Qi(m?zi(o):s?Ui(o):o,r,i),R=new e({ts:S[0],zone:i,o:S[1],loc:h});return o.weekday&&u&&t.weekday!==R.weekday?e.invalid("mismatched weekday","you can't specify both a weekday of "+o.weekday+" and a date of "+R.toISO()):R},e.fromISO=function(e,t){void 0===t&&(t={});var i=function(e){return vt(e,[Zt,qt],[Ut,Wt],[Ht,Jt],[Bt,Gt])}(e);return en(i[0],i[1],t,"ISO 8601",e)},e.fromRFC2822=function(e,t){void 0===t&&(t={});var i=function(e){return vt(function(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e),[Dt,jt])}(e);return en(i[0],i[1],t,"RFC 2822",e)},e.fromHTTP=function(e,t){void 0===t&&(t={});var i=function(e){return vt(e,[Ct,Pt],[Ft,Pt],[Lt,zt])}(e);return en(i[0],i[1],t,"HTTP",t)},e.fromFormat=function(t,i,n){if(void 0===n&&(n={}),q(t)||q(i))throw new p("fromFormat requires an input string and a format");var r=n,o=r.locale,s=void 0===o?null:o,a=r.numberingSystem,c=void 0===a?null:a,u=function(e,t,i){var n=Ei(e,t,i);return[n.result,n.zone,n.invalidReason]}(lt.fromOpts({locale:s,numberingSystem:c,defaultToEN:!0}),t,i),d=u[0],l=u[1],h=u[2];return h?e.invalid(h):en(d,l,n,"format "+i,t)},e.fromString=function(t,i,n){return void 0===n&&(n={}),e.fromFormat(t,i,n)},e.fromSQL=function(e,t){void 0===t&&(t={});var i=function(e){return vt(e,[$t,Qt],[Kt,Xt])}(e);return en(i[0],i[1],t,"SQL",e)},e.invalid=function(t,i){if(void 0===i&&(i=null),!t)throw new p("need to specify a reason the DateTime is invalid");var n=t instanceof je?t:new je(t,i);if(et.throwOnInvalid)throw new f(n);return new e({invalid:n})},e.isDateTime=function(e){return e&&e.isLuxonDateTime||!1};var t=e.prototype;return t.get=function(e){return this[e]},t.resolvedLocaleOpts=function(e){void 0===e&&(e={});var t=De.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t.locale,numberingSystem:t.numberingSystem,outputCalendar:t.calendar}},t.toUTC=function(e,t){return void 0===e&&(e=0),void 0===t&&(t={}),this.setZone(qe.instance(e),t)},t.toLocal=function(){return this.setZone(et.defaultZone)},t.setZone=function(t,i){var n=void 0===i?{}:i,r=n.keepLocalTime,o=void 0!==r&&r,s=n.keepCalendarTime,a=void 0!==s&&s;if((t=Je(t,et.defaultZone)).equals(this.zone))return this;if(t.isValid){var c=this.ts;if(o||a){var u=t.offset(this.ts);c=Qi(this.toObject(),u,t)[0]}return Yi(this,{ts:c,zone:t})}return e.invalid(Ji(t))},t.reconfigure=function(e){var t=void 0===e?{}:e,i=t.locale,n=t.numberingSystem,r=t.outputCalendar;return Yi(this,{loc:this.loc.clone({locale:i,numberingSystem:n,outputCalendar:r})})},t.setLocale=function(e){return this.reconfigure({locale:e})},t.set=function(e){if(!this.isValid)return this;var t,i=ve(e,dn,[]),n=!q(i.weekYear)||!q(i.weekNumber)||!q(i.weekday),r=!q(i.ordinal),o=!q(i.year),s=!q(i.month)||!q(i.day),a=o||s,c=i.weekYear||i.weekNumber;if((a||r)&&c)throw new x("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(s&&r)throw new x("Can't mix ordinal dates with month/day");n?t=zi(Object.assign(Pi(this.c),i)):q(i.ordinal)?(t=Object.assign(this.toObject(),i),q(i.day)&&(t.day=Math.min(ae(t.year,t.month),t.day))):t=Ui(Object.assign(Zi(this.c),i));var u=Qi(t,this.o,this.zone);return Yi(this,{ts:u[0],o:u[1]})},t.plus=function(e){return this.isValid?Yi(this,Xi(this,di(e))):this},t.minus=function(e){return this.isValid?Yi(this,Xi(this,di(e).negate())):this},t.startOf=function(e){if(!this.isValid)return this;var t={},i=ui.normalizeUnit(e);switch(i){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0}if("weeks"===i&&(t.weekday=1),"quarters"===i){var n=Math.ceil(this.month/3);t.month=3*(n-1)+1}return this.set(t)},t.endOf=function(e){var t;return this.isValid?this.plus((t={},t[e]=1,t)).startOf(e).minus(1):this},t.toFormat=function(e,t){return void 0===t&&(t={}),this.isValid?De.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):qi},t.toLocaleString=function(e){return void 0===e&&(e=w),this.isValid?De.create(this.loc.clone(e),e).formatDateTime(this):qi},t.toLocaleParts=function(e){return void 0===e&&(e={}),this.isValid?De.create(this.loc.clone(e),e).formatDateTimeParts(this):[]},t.toISO=function(e){return void 0===e&&(e={}),this.isValid?this.toISODate(e)+"T"+this.toISOTime(e):null},t.toISODate=function(e){var t=(void 0===e?{}:e).format,i="basic"===(void 0===t?"extended":t)?"yyyyMMdd":"yyyy-MM-dd";return this.year>9999&&(i="+"+i),tn(this,i)},t.toISOWeekDate=function(){return tn(this,"kkkk-'W'WW-c")},t.toISOTime=function(e){var t=void 0===e?{}:e,i=t.suppressMilliseconds,n=void 0!==i&&i,r=t.suppressSeconds,o=void 0!==r&&r,s=t.includeOffset,a=void 0===s||s,c=t.includePrefix,u=void 0!==c&&c,d=t.format;return nn(this,{suppressSeconds:o,suppressMilliseconds:n,includeOffset:a,includePrefix:u,format:void 0===d?"extended":d})},t.toRFC2822=function(){return tn(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)},t.toHTTP=function(){return tn(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")},t.toSQLDate=function(){return tn(this,"yyyy-MM-dd")},t.toSQLTime=function(e){var t=void 0===e?{}:e,i=t.includeOffset,n=void 0===i||i,r=t.includeZone;return nn(this,{includeOffset:n,includeZone:void 0!==r&&r,spaceZone:!0})},t.toSQL=function(e){return void 0===e&&(e={}),this.isValid?this.toSQLDate()+" "+this.toSQLTime(e):null},t.toString=function(){return this.isValid?this.toISO():qi},t.valueOf=function(){return this.toMillis()},t.toMillis=function(){return this.isValid?this.ts:NaN},t.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},t.toJSON=function(){return this.toISO()},t.toBSON=function(){return this.toJSDate()},t.toObject=function(e){if(void 0===e&&(e={}),!this.isValid)return{};var t=Object.assign({},this.c);return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t},t.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},t.diff=function(e,t,i){if(void 0===t&&(t="milliseconds"),void 0===i&&(i={}),!this.isValid||!e.isValid)return ui.invalid(this.invalid||e.invalid,"created by diffing an invalid DateTime");var n,r=Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},i),o=(n=t,Array.isArray(n)?n:[n]).map(ui.normalizeUnit),s=e.valueOf()>this.valueOf(),a=xi(s?this:e,s?e:this,o,r);return s?a.negate():a},t.diffNow=function(t,i){return void 0===t&&(t="milliseconds"),void 0===i&&(i={}),this.diff(e.now(),t,i)},t.until=function(e){return this.isValid?fi.fromDateTimes(this,e):this},t.hasSame=function(e,t){if(!this.isValid)return!1;var i=e.valueOf(),n=this.setZone(e.zone,{keepLocalTime:!0});return n.startOf(t)<=i&&i<=n.endOf(t)},t.equals=function(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)},t.toRelative=function(t){if(void 0===t&&(t={}),!this.isValid)return null;var i=t.base||e.fromObject({zone:this.zone}),n=t.padding?this<i?-t.padding:t.padding:0,r=["years","months","days","hours","minutes","seconds"],o=t.unit;return Array.isArray(t.unit)&&(r=t.unit,o=void 0),hn(i,this.plus(n),Object.assign(t,{numeric:"always",units:r,unit:o}))},t.toRelativeCalendar=function(t){return void 0===t&&(t={}),this.isValid?hn(t.base||e.fromObject({zone:this.zone}),this,Object.assign(t,{numeric:"auto",units:["years","months","days"],calendary:!0})):null},e.min=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];if(!i.every(e.isDateTime))throw new p("min requires all arguments be DateTimes");return K(i,(function(e){return e.valueOf()}),Math.min)},e.max=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];if(!i.every(e.isDateTime))throw new p("max requires all arguments be DateTimes");return K(i,(function(e){return e.valueOf()}),Math.max)},e.fromFormatExplain=function(e,t,i){void 0===i&&(i={});var n=i,r=n.locale,o=void 0===r?null:r,s=n.numberingSystem,a=void 0===s?null:s;return Ei(lt.fromOpts({locale:o,numberingSystem:a,defaultToEN:!0}),e,t)},e.fromStringExplain=function(t,i,n){return void 0===n&&(n={}),e.fromFormatExplain(t,i,n)},n(e,[{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?Gi(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?Gi(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?Gi(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?Zi(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?vi.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?vi.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?vi.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?vi.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.universal:null}},{key:"isInDST",get:function(){return!this.isOffsetFixed&&(this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset)}},{key:"isInLeapYear",get:function(){return oe(this.year)}},{key:"daysInMonth",get:function(){return ae(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?se(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?ue(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return w}},{key:"DATE_MED",get:function(){return S}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return R}},{key:"DATE_FULL",get:function(){return O}},{key:"DATE_HUGE",get:function(){return T}},{key:"TIME_SIMPLE",get:function(){return I}},{key:"TIME_WITH_SECONDS",get:function(){return V}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return M}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return N}},{key:"TIME_24_SIMPLE",get:function(){return E}},{key:"TIME_24_WITH_SECONDS",get:function(){return A}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return D}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return j}},{key:"DATETIME_SHORT",get:function(){return C}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return F}},{key:"DATETIME_MED",get:function(){return L}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return P}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return z}},{key:"DATETIME_FULL",get:function(){return Z}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return U}},{key:"DATETIME_HUGE",get:function(){return H}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return B}}]),e}();function vn(e){if(fn.isDateTime(e))return e;if(e&&e.valueOf&&W(e.valueOf()))return fn.fromJSDate(e);if(e&&"object"==typeof e)return fn.fromObject(e);throw new p("Unknown datetime argument: "+e+", of type "+typeof e)}t.ou=fn},278:(e,t,i)=>{"use strict";var n,r=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},o=function(){var e={};return function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}e[t]=i}return e[t]}}(),s=[];function a(e){for(var t=-1,i=0;i<s.length;i++)if(s[i].identifier===e){t=i;break}return t}function c(e,t){for(var i={},n=[],r=0;r<e.length;r++){var o=e[r],c=t.base?o[0]+t.base:o[0],u=i[c]||0,d="".concat(c," ").concat(u);i[c]=u+1;var l=a(d),h={css:o[1],media:o[2],sourceMap:o[3]};-1!==l?(s[l].references++,s[l].updater(h)):s.push({identifier:d,updater:x(h,t),references:1}),n.push(d)}return n}function u(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var r=i.nc;r&&(n.nonce=r)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var s=o(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var d,l=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function h(e,t,i,n){var r=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=l(t,r);else{var o=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function f(e,t,i){var n=i.css,r=i.media,o=i.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var v=null,m=0;function x(e,t){var i,n,r;if(t.singleton){var o=m++;i=v||(v=u(t)),n=h.bind(null,i,o,!1),r=h.bind(null,i,o,!0)}else i=u(t),n=f.bind(null,i,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(i)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var i=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<i.length;n++){var r=a(i[n]);s[r].references--}for(var o=c(e,t),u=0;u<i.length;u++){var d=a(i[u]);0===s[d].references&&(s[d].updater(),s.splice(d,1))}i=o}}}},417:(e,t,i)=>{e.exports=i(720)("./src/collaboration-core.js")},704:(e,t,i)=>{e.exports=i(79)("./src/core.js")},492:(e,t,i)=>{e.exports=i(79)("./src/engine.js")},273:(e,t,i)=>{e.exports=i(79)("./src/ui.js")},209:(e,t,i)=>{e.exports=i(79)("./src/utils.js")},720:e=>{"use strict";e.exports=CKEditor5.collaborationDll},79:e=>{"use strict";e.exports=CKEditor5.dll}},t={};function i(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={id:n,exports:{}};return e[n](o,o.exports,i),o.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";i.r(n),i.d(n,{RevisionHistory:()=>ko,RevisionTracker:()=>en});var e=i(704),t=i(209),r=i(417),o=i(492);const s=function(){this.__data__=[],this.size=0};const a=function(e,t){return e===t||e!=e&&t!=t};const c=function(e,t){for(var i=e.length;i--;)if(a(e[i][0],t))return i;return-1};var u=Array.prototype.splice;const d=function(e){var t=this.__data__,i=c(t,e);return!(i<0)&&(i==t.length-1?t.pop():u.call(t,i,1),--this.size,!0)};const l=function(e){var t=this.__data__,i=c(t,e);return i<0?void 0:t[i][1]};const h=function(e){return c(this.__data__,e)>-1};const f=function(e,t){var i=this.__data__,n=c(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this};function v(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}v.prototype.clear=s,v.prototype.delete=d,v.prototype.get=l,v.prototype.has=h,v.prototype.set=f;const m=v;const x=function(){this.__data__=new m,this.size=0};const g=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i};const p=function(e){return this.__data__.get(e)};const y=function(e){return this.__data__.has(e)};const b="object"==typeof global&&global&&global.Object===Object&&global;var k="object"==typeof self&&self&&self.Object===Object&&self;const _=b||k||Function("return this")();const w=_.Symbol;var S=Object.prototype,R=S.hasOwnProperty,O=S.toString,T=w?w.toStringTag:void 0;const I=function(e){var t=R.call(e,T),i=e[T];try{e[T]=void 0;var n=!0}catch(e){}var r=O.call(e);return n&&(t?e[T]=i:delete e[T]),r};var V=Object.prototype.toString;const M=function(e){return V.call(e)};var N=w?w.toStringTag:void 0;const E=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":N&&N in Object(e)?I(e):M(e)};const A=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const D=function(e){if(!A(e))return!1;var t=E(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const j=_["__core-js_shared__"];var C,F=(C=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"";const L=function(e){return!!F&&F in e};var P=Function.prototype.toString;const z=function(e){if(null!=e){try{return P.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var Z=/^\[object .+?Constructor\]$/,U=Function.prototype,H=Object.prototype,B=U.toString,q=H.hasOwnProperty,W=RegExp("^"+B.call(q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const J=function(e){return!(!A(e)||L(e))&&(D(e)?W:Z).test(z(e))};const G=function(e,t){return null==e?void 0:e[t]};const Y=function(e,t){var i=G(e,t);return J(i)?i:void 0};const $=Y(_,"Map");const K=Y(Object,"create");const Q=function(){this.__data__=K?K(null):{},this.size=0};const X=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var ee=Object.prototype.hasOwnProperty;const te=function(e){var t=this.__data__;if(K){var i=t[e];return"__lodash_hash_undefined__"===i?void 0:i}return ee.call(t,e)?t[e]:void 0};var ie=Object.prototype.hasOwnProperty;const ne=function(e){var t=this.__data__;return K?void 0!==t[e]:ie.call(t,e)};const re=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=K&&void 0===t?"__lodash_hash_undefined__":t,this};function oe(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}oe.prototype.clear=Q,oe.prototype.delete=X,oe.prototype.get=te,oe.prototype.has=ne,oe.prototype.set=re;const se=oe;const ae=function(){this.size=0,this.__data__={hash:new se,map:new($||m),string:new se}};const ce=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const ue=function(e,t){var i=e.__data__;return ce(t)?i["string"==typeof t?"string":"hash"]:i.map};const de=function(e){var t=ue(this,e).delete(e);return this.size-=t?1:0,t};const le=function(e){return ue(this,e).get(e)};const he=function(e){return ue(this,e).has(e)};const fe=function(e,t){var i=ue(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this};function ve(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}ve.prototype.clear=ae,ve.prototype.delete=de,ve.prototype.get=le,ve.prototype.has=he,ve.prototype.set=fe;const me=ve;const xe=function(e,t){var i=this.__data__;if(i instanceof m){var n=i.__data__;if(!$||n.length<199)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new me(n)}return i.set(e,t),this.size=i.size,this};function ge(e){var t=this.__data__=new m(e);this.size=t.size}ge.prototype.clear=x,ge.prototype.delete=g,ge.prototype.get=p,ge.prototype.has=y,ge.prototype.set=xe;const pe=ge;const ye=function(e,t){for(var i=-1,n=null==e?0:e.length;++i<n&&!1!==t(e[i],i,e););return e};const be=function(){try{var e=Y(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();const ke=function(e,t,i){"__proto__"==t&&be?be(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i};var _e=Object.prototype.hasOwnProperty;const we=function(e,t,i){var n=e[t];_e.call(e,t)&&a(n,i)&&(void 0!==i||t in e)||ke(e,t,i)};const Se=function(e,t,i,n){var r=!i;i||(i={});for(var o=-1,s=t.length;++o<s;){var a=t[o],c=n?n(i[a],e[a],a,i,e):void 0;void 0===c&&(c=e[a]),r?ke(i,a,c):we(i,a,c)}return i};const Re=function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n};const Oe=function(e){return null!=e&&"object"==typeof e};const Te=function(e){return Oe(e)&&"[object Arguments]"==E(e)};var Ie=Object.prototype,Ve=Ie.hasOwnProperty,Me=Ie.propertyIsEnumerable;const Ne=Te(function(){return arguments}())?Te:function(e){return Oe(e)&&Ve.call(e,"callee")&&!Me.call(e,"callee")};const Ee=Array.isArray;const Ae=function(){return!1};var De="object"==typeof exports&&exports&&!exports.nodeType&&exports,je=De&&"object"==typeof module&&module&&!module.nodeType&&module,Ce=je&&je.exports===De?_.Buffer:void 0;const Fe=(Ce?Ce.isBuffer:void 0)||Ae;var Le=/^(?:0|[1-9]\d*)$/;const Pe=function(e,t){var i=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==i||"symbol"!=i&&Le.test(e))&&e>-1&&e%1==0&&e<t};const ze=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var Ze={};Ze["[object Float32Array]"]=Ze["[object Float64Array]"]=Ze["[object Int8Array]"]=Ze["[object Int16Array]"]=Ze["[object Int32Array]"]=Ze["[object Uint8Array]"]=Ze["[object Uint8ClampedArray]"]=Ze["[object Uint16Array]"]=Ze["[object Uint32Array]"]=!0,Ze["[object Arguments]"]=Ze["[object Array]"]=Ze["[object ArrayBuffer]"]=Ze["[object Boolean]"]=Ze["[object DataView]"]=Ze["[object Date]"]=Ze["[object Error]"]=Ze["[object Function]"]=Ze["[object Map]"]=Ze["[object Number]"]=Ze["[object Object]"]=Ze["[object RegExp]"]=Ze["[object Set]"]=Ze["[object String]"]=Ze["[object WeakMap]"]=!1;const Ue=function(e){return Oe(e)&&ze(e.length)&&!!Ze[E(e)]};const He=function(e){return function(t){return e(t)}};var Be="object"==typeof exports&&exports&&!exports.nodeType&&exports,qe=Be&&"object"==typeof module&&module&&!module.nodeType&&module,We=qe&&qe.exports===Be&&b.process;const Je=function(){try{var e=qe&&qe.require&&qe.require("util").types;return e||We&&We.binding&&We.binding("util")}catch(e){}}();var Ge=Je&&Je.isTypedArray;const Ye=Ge?He(Ge):Ue;var $e=Object.prototype.hasOwnProperty;const Ke=function(e,t){var i=Ee(e),n=!i&&Ne(e),r=!i&&!n&&Fe(e),o=!i&&!n&&!r&&Ye(e),s=i||n||r||o,a=s?Re(e.length,String):[],c=a.length;for(var u in e)!t&&!$e.call(e,u)||s&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Pe(u,c))||a.push(u);return a};var Qe=Object.prototype;const Xe=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Qe)};const et=function(e,t){return function(i){return e(t(i))}};const tt=et(Object.keys,Object);var it=Object.prototype.hasOwnProperty;const nt=function(e){if(!Xe(e))return tt(e);var t=[];for(var i in Object(e))it.call(e,i)&&"constructor"!=i&&t.push(i);return t};const rt=function(e){return null!=e&&ze(e.length)&&!D(e)};const ot=function(e){return rt(e)?Ke(e):nt(e)};const st=function(e,t){return e&&Se(t,ot(t),e)};const at=function(e){var t=[];if(null!=e)for(var i in Object(e))t.push(i);return t};var ct=Object.prototype.hasOwnProperty;const ut=function(e){if(!A(e))return at(e);var t=Xe(e),i=[];for(var n in e)("constructor"!=n||!t&&ct.call(e,n))&&i.push(n);return i};const dt=function(e){return rt(e)?Ke(e,!0):ut(e)};const lt=function(e,t){return e&&Se(t,dt(t),e)};var ht="object"==typeof exports&&exports&&!exports.nodeType&&exports,ft=ht&&"object"==typeof module&&module&&!module.nodeType&&module,vt=ft&&ft.exports===ht?_.Buffer:void 0,mt=vt?vt.allocUnsafe:void 0;const xt=function(e,t){if(t)return e.slice();var i=e.length,n=mt?mt(i):new e.constructor(i);return e.copy(n),n};const gt=function(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t};const pt=function(e,t){for(var i=-1,n=null==e?0:e.length,r=0,o=[];++i<n;){var s=e[i];t(s,i,e)&&(o[r++]=s)}return o};const yt=function(){return[]};var bt=Object.prototype.propertyIsEnumerable,kt=Object.getOwnPropertySymbols;const _t=kt?function(e){return null==e?[]:(e=Object(e),pt(kt(e),(function(t){return bt.call(e,t)})))}:yt;const wt=function(e,t){return Se(e,_t(e),t)};const St=function(e,t){for(var i=-1,n=t.length,r=e.length;++i<n;)e[r+i]=t[i];return e};const Rt=et(Object.getPrototypeOf,Object);const Ot=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)St(t,_t(e)),e=Rt(e);return t}:yt;const Tt=function(e,t){return Se(e,Ot(e),t)};const It=function(e,t,i){var n=t(e);return Ee(e)?n:St(n,i(e))};const Vt=function(e){return It(e,ot,_t)};const Mt=function(e){return It(e,dt,Ot)};const Nt=Y(_,"DataView");const Et=Y(_,"Promise");const At=Y(_,"Set");const Dt=Y(_,"WeakMap");var jt="[object Map]",Ct="[object Promise]",Ft="[object Set]",Lt="[object WeakMap]",Pt="[object DataView]",zt=z(Nt),Zt=z($),Ut=z(Et),Ht=z(At),Bt=z(Dt),qt=E;(Nt&&qt(new Nt(new ArrayBuffer(1)))!=Pt||$&&qt(new $)!=jt||Et&&qt(Et.resolve())!=Ct||At&&qt(new At)!=Ft||Dt&&qt(new Dt)!=Lt)&&(qt=function(e){var t=E(e),i="[object Object]"==t?e.constructor:void 0,n=i?z(i):"";if(n)switch(n){case zt:return Pt;case Zt:return jt;case Ut:return Ct;case Ht:return Ft;case Bt:return Lt}return t});const Wt=qt;var Jt=Object.prototype.hasOwnProperty;const Gt=function(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&Jt.call(e,"index")&&(i.index=e.index,i.input=e.input),i};const Yt=_.Uint8Array;const $t=function(e){var t=new e.constructor(e.byteLength);return new Yt(t).set(new Yt(e)),t};const Kt=function(e,t){var i=t?$t(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)};var Qt=/\w*$/;const Xt=function(e){var t=new e.constructor(e.source,Qt.exec(e));return t.lastIndex=e.lastIndex,t};var ei=w?w.prototype:void 0,ti=ei?ei.valueOf:void 0;const ii=function(e){return ti?Object(ti.call(e)):{}};const ni=function(e,t){var i=t?$t(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)};const ri=function(e,t,i){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return $t(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return Kt(e,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ni(e,i);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return Xt(e);case"[object Symbol]":return ii(e)}};var oi=Object.create;const si=function(){function e(){}return function(t){if(!A(t))return{};if(oi)return oi(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}();const ai=function(e){return"function"!=typeof e.constructor||Xe(e)?{}:si(Rt(e))};const ci=function(e){return Oe(e)&&"[object Map]"==Wt(e)};var ui=Je&&Je.isMap;const di=ui?He(ui):ci;const li=function(e){return Oe(e)&&"[object Set]"==Wt(e)};var hi=Je&&Je.isSet;const fi=hi?He(hi):li;var vi="[object Arguments]",mi="[object Function]",xi="[object Object]",gi={};gi[vi]=gi["[object Array]"]=gi["[object ArrayBuffer]"]=gi["[object DataView]"]=gi["[object Boolean]"]=gi["[object Date]"]=gi["[object Float32Array]"]=gi["[object Float64Array]"]=gi["[object Int8Array]"]=gi["[object Int16Array]"]=gi["[object Int32Array]"]=gi["[object Map]"]=gi["[object Number]"]=gi["[object Object]"]=gi["[object RegExp]"]=gi["[object Set]"]=gi["[object String]"]=gi["[object Symbol]"]=gi["[object Uint8Array]"]=gi["[object Uint8ClampedArray]"]=gi["[object Uint16Array]"]=gi["[object Uint32Array]"]=!0,gi["[object Error]"]=gi[mi]=gi["[object WeakMap]"]=!1;const pi=function e(t,i,n,r,o,s){var a,c=1&i,u=2&i,d=4&i;if(n&&(a=o?n(t,r,o,s):n(t)),void 0!==a)return a;if(!A(t))return t;var l=Ee(t);if(l){if(a=Gt(t),!c)return gt(t,a)}else{var h=Wt(t),f=h==mi||"[object GeneratorFunction]"==h;if(Fe(t))return xt(t,c);if(h==xi||h==vi||f&&!o){if(a=u||f?{}:ai(t),!c)return u?Tt(t,lt(a,t)):wt(t,st(a,t))}else{if(!gi[h])return o?t:{};a=ri(t,h,c)}}s||(s=new pe);var v=s.get(t);if(v)return v;s.set(t,a),fi(t)?t.forEach((function(r){a.add(e(r,i,n,r,t,s))})):di(t)&&t.forEach((function(r,o){a.set(o,e(r,i,n,o,t,s))}));var m=l?void 0:(d?u?Mt:Vt:u?dt:ot)(t);return ye(m||t,(function(r,o){m&&(r=t[o=r]),we(a,o,e(r,i,n,o,t,s))})),a};const yi=function(e){return pi(e,5)};const bi=function(e){return"symbol"==typeof e||Oe(e)&&"[object Symbol]"==E(e)};var ki=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_i=/^\w*$/;const wi=function(e,t){if(Ee(e))return!1;var i=typeof e;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=e&&!bi(e))||(_i.test(e)||!ki.test(e)||null!=t&&e in Object(t))};function Si(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var i=function(){var n=arguments,r=t?t.apply(this,n):n[0],o=i.cache;if(o.has(r))return o.get(r);var s=e.apply(this,n);return i.cache=o.set(r,s)||o,s};return i.cache=new(Si.Cache||me),i}Si.Cache=me;const Ri=Si;var Oi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ti=/\\(\\)?/g;const Ii=function(e){var t=Ri(e,(function(e){return 500===i.size&&i.clear(),e})),i=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Oi,(function(e,i,n,r){t.push(n?r.replace(Ti,"$1"):i||e)})),t}));const Vi=function(e,t){for(var i=-1,n=null==e?0:e.length,r=Array(n);++i<n;)r[i]=t(e[i],i,e);return r};var Mi=w?w.prototype:void 0,Ni=Mi?Mi.toString:void 0;const Ei=function e(t){if("string"==typeof t)return t;if(Ee(t))return Vi(t,e)+"";if(bi(t))return Ni?Ni.call(t):"";var i=t+"";return"0"==i&&1/t==-Infinity?"-0":i};const Ai=function(e){return null==e?"":Ei(e)};const Di=function(e,t){return Ee(e)?e:wi(e,t)?[e]:Ii(Ai(e))};const ji=function(e){if("string"==typeof e||bi(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};const Ci=function(e,t,i,n){if(!A(e))return e;for(var r=-1,o=(t=Di(t,e)).length,s=o-1,a=e;null!=a&&++r<o;){var c=ji(t[r]),u=i;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(r!=s){var d=a[c];void 0===(u=n?n(d,c,a):void 0)&&(u=A(d)?d:Pe(t[r+1])?[]:{})}we(a,c,u),a=a[c]}return e};const Fi=function(e,t,i){return null==e?e:Ci(e,t,i)};const Li=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};const Pi=function(e,t){for(var i=0,n=(t=Di(t,e)).length;null!=e&&i<n;)e=e[ji(t[i++])];return i&&i==n?e:void 0};const zi=function(e,t,i){var n=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(i=i>r?r:i)<0&&(i+=r),r=t>i?0:i-t>>>0,t>>>=0;for(var o=Array(r);++n<r;)o[n]=e[n+t];return o};const Zi=function(e,t){return t.length<2?e:Pi(e,zi(t,0,-1))};const Ui=function(e,t){return t=Di(t,e),null==(e=Zi(e,t))||delete e[ji(Li(t))]};const Hi=function(e,t){return null==e||Ui(e,t)},Bi=["name","attributes","createdAt","set","creatorId","setAttribute","creator","authors","fromVersion","_update","diffData","map","toVersion"];var qi,Wi;qi=Bi,Wi=194,function(e){for(;--e;)qi.push(qi.shift())}(++Wi);const Ji=function(e,t){return Bi[e-=0]};class Gi{constructor(e){this.id=e.id||(0,t.uid)(),this[Ji("0x4")](Ji("0x1"),e.name||""),this[Ji("0x7")]=e[Ji("0x7")]||null,this[Ji("0x8")]=e.authors||[],this[Ji("0x4")](Ji("0x3"),e[Ji("0x3")]||new Date),this[Ji("0xb")]=e[Ji("0xb")]||null,this.set(Ji("0x2"),e[Ji("0x2")]||{}),this[Ji("0x0")]=e[Ji("0x0")]||0,this[Ji("0x9")]=e[Ji("0x9")]||0}setName(e){this[Ji("0xa")]({name:e})}[Ji("0x6")](e,t){const i=yi(this[Ji("0x2")]);Fi(i,e,t),this[Ji("0xa")]({attributes:i})}removeAttribute(e){const t=yi(this[Ji("0x2")]);Hi(t,e),this[Ji("0xa")]({attributes:t})}_update(e,t=!1){let i=!1;const n={id:this.id};for(const t of["name",Ji("0x3"),Ji("0xb"),Ji("0x8"),"attributes","toVersion",Ji("0x9"),Ji("0x5")]){const r=e[t];void 0!==r&&r!==this[t]&&(this[t]=r,n[t]=r,i=!0)}i&&(n[Ji("0x8")]&&(n.authorsIds=n.authors[Ji("0xc")]((e=>e.id)),delete n[Ji("0x8")]),this.fire("_update",n,t))}toJSON(){return{id:this.id,name:this[Ji("0x1")],creatorId:this.creator?this[Ji("0x7")].id:null,authorsIds:this[Ji("0x8")][Ji("0xc")]((e=>e.id)),diffData:this[Ji("0xb")],createdAt:this[Ji("0x3")],attributes:this.attributes,fromVersion:this[Ji("0x9")],toVersion:this[Ji("0x0")]}}}(0,t.mix)(Gi,t.ObservableMixin);const Yi=["then","getEarlierVisibleRevision","join","editor","afterInit","pop","data","length","diffData","_revisions","pluginName","push","earlier","map","later","createdAt","from","authorsIds","getRevisions","Users","createRevision","requires","attributes","getRevisionsInDiff","substring","replace","name","fromVersion","fromCharCode","RevisionsRepository","creatorId","getIndex","isNaN","getRevisionsIterator","getUser","getRevision","add","newRevisionId","oldRevisionId","get"];var $i,Ki;$i=Yi,Ki=440,function(e){for(;--e;)$i.push($i.shift())}(++Ki);const Qi=function(e,t){return Yi[e-=0]};class Xi extends e.Plugin{static get[Qi("0x15")](){return[r.Users]}static get[Qi("0xa")](){return Qi("0x1d")}constructor(...e){super(...e),this[Qi("0x9")]=new t.Collection}get[Qi("0x7")](){return this[Qi("0x9")][Qi("0x7")]}[Qi("0x4")](){!function(e){const t=[1,85,78,115,198,255,50,112,83,87,161],i=v([52,48,52,52,48,56,50,52]),n=[127,34,6,211,167,86,146,199,132,160,18],r=n[0]*t[1],o=n[2]*t[2],s=v([65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122]),a=function(r){if(function(){if(!e[v([112,108,117,103,105,110,115])][v([104,97,115])](v([82,101,118,105,115,105,111,110,86,105,101,119,101,114])))return!1;for(const e in window)if(Number[Qi("0x20")](Number(e))&&window[e]===o)return!0;return!1}())return d(v([108,105,99,101,110,115,101,75,101,121,86,97,108,105,100]));if(e[v([112,108,117,103,105,110,115])][v([104,97,115])](v([87,101,98,83,111,99,107,101,116,71,97,116,101,119,97,121]))&&e[v([112,108,117,103,105,110,115])][v([103,101,116])](v([87,101,98,83,111,99,107,101,116,71,97,116,101,119,97,121]))[v([115,116,97,116,101])]==v([99,111,110,110,101,99,116,101,100]))return window[l()]=o,d(v([108,105,99,101,110,115,101,75,101,121,86,97,108,105,100]));if(e[v([112,108,117,103,105,110,115])][v([104,97,115])](v([84,114,97,99,107,67,104,97,110,103,101,115,68,97,116,97,71,101,116,116,101,114]))&&e[v([112,108,117,103,105,110,115])][v([103,101,116])](v([84,114,97,99,107,67,104,97,110,103,101,115,68,97,116,97,71,101,116,116,101,114]))[v([114,101,115,117,108,116])]==v([101,110,100]))return d(v([108,105,99,101,110,115,101,75,101,121,86,97,108,105,100]));try{const e=function(e){const i=[29,221,175,90,231,133,239,240,75,180];return function(e,t){const i=atob(e),n=Array[Qi("0x10")](function(e){const t=new Uint8Array(e[Qi("0x7")]);for(let i=0;i<e[Qi("0x7")];i++)t[i]=e.charCodeAt(i);return t}(i)),r=n[Qi("0x5")](),o=n[Qi("0x5")]();return function(e){let t="";for(const i of e)t+=String[Qi("0x1c")](i);return t}(function(e,t,i){const n={};n[v([110,117,109,98,101,114,79,102,82,111,117,110,100,115])]={16:10,24:12,32:14},n[v([114,99,111,110])]=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],n[v([83])]=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],n[v([84,49])]=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],n[v([84,50])]=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],n[v([84,51])]=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],n[v([84,52])]=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],n[v([85,49])]=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],n[v([85,50])]=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],n[v([85,51])]=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],n[v([85,52])]=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];const r=new Uint8Array(16);for(let e=15;e>=0;--e)r[e]=i%256,i=parseInt(i/256);let o=null,s=16;const a=new Uint8Array(t),c=[],u=[];f();for(let t=0;t<e[Qi("0x7")];t++)16===s&&(o=h(r),s=0,l(r)),e[t]^=o[s++];return e;function d(e){const t=[];for(let i=0;i<e[Qi("0x7")];i+=4)t[Qi("0xb")](e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3]);return t}function l(e){for(let t=15;t>=0;t--){if(255!==e[t]){e[t]++;break}e[t]=0}}function h(e){const t=c[Qi("0x7")]-1,i=[0,0,0,0];let r=d(e);for(let e=0;e<4;e++)r[e]^=c[0][e];for(let e=1;e<t;e++){for(let t=0;t<4;t++)i[t]=n[v([84,49])][r[t]>>24&255]^n[v([84,50])][r[(t+1)%4]>>16&255]^n[v([84,51])][r[(t+2)%4]>>8&255]^n[v([84,52])][255&r[(t+3)%4]]^c[e][t];r=i.slice()}const o=new Uint8Array(16);let s;for(let e=0;e<4;e++)s=c[t][e],o[4*e]=255&(n[v([83])][r[e]>>24&255]^s>>24),o[4*e+1]=255&(n[v([83])][r[(e+1)%4]>>16&255]^s>>16),o[4*e+2]=255&(n[v([83])][r[(e+2)%4]>>8&255]^s>>8),o[4*e+3]=255&(n[v([83])][255&r[(e+3)%4]]^s);return o}function f(){const e=n[v([110,117,109,98,101,114,79,102,82,111,117,110,100,115])][a[Qi("0x7")]];for(let t=0;t<=e;t++)c.push([0,0,0,0]),u[Qi("0xb")]([0,0,0,0]);const t=4*(e+1),i=a[Qi("0x7")]/4,r=d(a);let o;for(let t=0;t<i;t++)o=t>>2,c[o][t%4]=r[t],u[e-o][t%4]=r[t];let s,l=0,h=i;for(;h<t;){s=r[i-1],r[0]^=n[v([83])][s>>16&255]<<24^n[v([83])][s>>8&255]<<16^n[v([83])][255&s]<<8^n[v([83])][s>>24&255]^n[v([114,99,111,110])][l]<<24,l+=1;for(let e=1;e<i/2;e++)r[e]^=r[e-1];s=r[i/2-1],r[i/2]^=n[v([83])][255&s]^n[v([83])][s>>8&255]<<8^n[v([83])][s>>16&255]<<16^n[v([83])][s>>24&255]<<24;for(let e=i/2+1;e<i;e++)r[e]^=r[e-1];let o,a,d=0;for(;d<i&&h<t;)o=h>>2,a=h%4,c[o][a]=r[d],u[e-o][a]=r[d++],h++}for(let t=1;t<e;t++)for(let e=0;e<4;e++)s=u[t][e],u[t][e]=n[v([85,49])][s>>24&255]^n[v([85,50])][s>>16&255]^n[v([85,51])][s>>8&255]^n[v([85,52])][255&s]}}(n,t,o+256*r))}(e,new(window[v([85,105,110,116,56,65,114,114,97,121])])([...t,...i,...n]))}(r),o=JSON.parse(e),s=parseInt(o[v([49])]),a=parseInt(o[v([51])]),c=parseInt(o[v([52])])||0,u=parseInt(o[v([53])])||0;return 8&c?u&&!window[v([111,112,101,110])][v([99,108,111,115,101,100])]||parseInt(i)/2>s?d(v([108,105,99,101,110,115,101,75,101,121,73,110,118,97,108,105,100])):d(v(a?[108,105,99,101,110,115,101,75,101,121,84,114,105,97,108]:[108,105,99,101,110,115,101,75,101,121,86,97,108,105,100])):d(v([108,105,99,101,110,115,101,75,101,121,73,110,118,97,108,105,100]))}catch(e){return d(v([108,105,99,101,110,115,101,75,101,121,73,110,118,97,108,105,100]))}}(e.config.get(v([108,105,99,101,110,115,101,75,101,121]))),c=e[v([112,108,117,103,105,110,115])][v([104,97,115])](v([82,101,118,105,115,105,111,110,86,105,101,119,101,114]))?7:6;if(a==v([108,105,99,101,110,115,101,75,101,121,73,110,118,97,108,105,100]))h(e);else if(a==v([108,105,99,101,110,115,101,75,101,121,84,114,105,97,108])){(function(){if(!e[v([112,108,117,103,105,110,115])][v([104,97,115])](v([82,101,118,105,115,105,111,110,86,105,101,119,101,114])))return!1;for(const e in window)if(Number[Qi("0x20")](Number(e))&&window[e]===r)return!0;return!1})()&&u(e);const i=function(){let i=n[6]*t[8]*t[6];return e[v([112,108,117,103,105,110,115])][v([104,97,115])](v([82,101,118,105,115,105,111,110,86,105,101,119,101,114]))&&(i/=10),i}();window[v([115,101,116,84,105,109,101,111,117,116])]((()=>{u(e)}),i);const o=e[v([112,108,117,103,105,110,115])][v([103,101,116])](v([82,101,118,105,115,105,111,110,115,82,101,112,111,115,105,116,111,114,121]))[v([95,114,101,118,105,115,105,111,110,115])];o[Qi("0x7")]>=c?u(e):o.on(v([97,100,100]),(()=>{o[Qi("0x7")]>=c&&u(e)}))}function u(e){h(e),d(v([108,105,99,101,110,115,101,75,101,121,84,114,105,97,108,76,105,109,105,116])),window[l()]=r}function d(t){const i=l();return e[i]=t,t}function l(){const e=String(window[v([112,101,114,102,111,114,109,97,110,99,101])][v([110,111,119])]())[Qi("0x19")](v([46]),"");let t="";for(let i=0;i<e[Qi("0x7")];i+=2){const n=parseInt(e[Qi("0x18")](i,i+2))%s[Qi("0x7")];t+=s[n]}return t}function h(e){function t(){e[v([112,108,117,103,105,110,115])][v([104,97,115])](v([82,101,118,105,115,105,111,110,84,114,97,99,107,101,114]))&&(e[v([112,108,117,103,105,110,115])][v([103,101,116])](v([82,101,118,105,115,105,111,110,84,114,97,99,107,101,114]))[v([117,110,98,105,110,100])](v([105,115,69,110,97,98,108,101,100])),e[v([112,108,117,103,105,110,115])][v([103,101,116])](v([82,101,118,105,115,105,111,110,84,114,97,99,107,101,114]))[v([105,115,69,110,97,98,108,101,100])]=!1,e[v([112,108,117,103,105,110,115])][v([103,101,116])](v([82,101,118,105,115,105,111,110,84,114,97,99,107,101,114]))[v([117,112,100,97,116,101])]=f,e[v([112,108,117,103,105,110,115])][v([103,101,116])](v([82,101,118,105,115,105,111,110,84,114,97,99,107,101,114]))[v([115,97,118,101,82,101,118,105,115,105,111,110])]=f,e[v([109,111,100,101,108])][v([99,104,97,110,103,101])]=f,e[v([109,111,100,101,108])][v([101,110,113,117,101,117,101,67,104,97,110,103,101])]=f,e[v([101,110,97,98,108,101,82,101,97,100,79,110,108,121,77,111,100,101])](v([109,111,100,101,108]))),e[v([112,108,117,103,105,110,115])][v([104,97,115])](v([82,101,118,105,115,105,111,110,86,105,101,119,101,114]))&&(e[v([112,108,117,103,105,110,115])][v([103,101,116])](v([82,101,118,105,115,105,111,110,86,105,101,119,101,114]))[v([117,110,98,105,110,100])](v([105,115,69,110,97,98,108,101,100])),e[v([112,108,117,103,105,110,115])][v([103,101,116])](v([82,101,118,105,115,105,111,110,86,105,101,119,101,114]))[v([105,115,69,110,97,98,108,101,100])]=!1,e[v([112,108,117,103,105,110,115])][v([103,101,116])](v([82,101,118,105,115,105,111,110,86,105,101,119,101,114]))[v([99,111,109,112,97,114,101])]=f,e[v([112,108,117,103,105,110,115])][v([103,101,116])](v([82,101,118,105,115,105,111,110,86,105,101,119,101,114]))[v([95,103,101,116,68,105,102,102])]=f)}e[v([115,116,97,116,101])]==v([114,101,97,100,121])?t():e[v([111,110,99,101])](v([114,101,97,100,121]),(()=>{if(e[v([112,108,117,103,105,110,115])][v([104,97,115])](v([82,101,118,105,115,105,111,110,84,114,97,99,107,101,114]))&&t(),e[v([112,108,117,103,105,110,115])][v([104,97,115])](v([82,101,118,105,115,105,111,110,86,105,101,119,101,114]))){const i=e[v([112,108,117,103,105,110,115])][v([103,101,116])](v([82,101,118,105,115,105,111,110,115,82,101,112,111,115,105,116,111,114,121])),n=i[Qi("0x23")](0),r=i[Qi("0x1")](n.id);e[v([112,108,117,103,105,110,115])][v([103,101,116])](v([82,101,118,105,115,105,111,110,86,105,101,119,101,114]))[v([99,111,109,112,97,114,101])](n.id,r?r.id:null,1)[Qi("0x0")]((()=>t()))}}))}function f(){return null}function v(e){return e[Qi("0xd")]((e=>String[Qi("0x1c")](e)))[Qi("0x2")]("")}}(this.editor)}[Qi("0x14")](e){const t=this[Qi("0x3")].plugins[Qi("0x27")](Qi("0x13"));return new Gi({id:e.id,name:e[Qi("0x1a")],creator:e[Qi("0x1e")]?t[Qi("0x22")](e.creatorId):null,diffData:e[Qi("0x8")]||e[Qi("0x6")],authors:e[Qi("0x11")].map((e=>t[Qi("0x22")](e))),createdAt:new Date(e[Qi("0xf")]),attributes:e[Qi("0x16")],fromVersion:e[Qi("0x1b")],toVersion:e.toVersion})}addRevision(e,t=0){this._revisions[Qi("0x24")](e,t)}[Qi("0x23")](e){return this[Qi("0x9")].get(e)}[Qi("0x12")]({toJSON:e=!1}={}){const t=Array[Qi("0x10")](this[Qi("0x9")]);return t.reverse(),e?t[Qi("0xd")]((e=>e.toJSON())):t}[Qi("0x1f")](e){return this._revisions[Qi("0x1f")](e)}[Qi("0x1")](e){const[,t]=this[Qi("0x21")](e,{direction:Qi("0xc")});return t}getLaterVisibleRevision(e){const[,t]=this.getRevisionsIterator(e,{direction:Qi("0xe")});return t}[Qi("0x17")](e){const t=[];for(const i of this[Qi("0x21")](e[Qi("0x25")]))if(t[Qi("0xb")](i),i.id===e[Qi("0x26")])break;return t}*getRevisionsIterator(e,{direction:t=Qi("0xc"),filter:i=(()=>!0)}={}){const n=Qi("0xc")===t?1:-1;let r=this[Qi("0x9")].get(e),o=this[Qi("0x1f")](r);for(yield r;r;){if(o+=n,r=this.getRevision(o),!r)return;i(r)&&(yield r)}}}class en extends e.Plugin{static get pluginName(){return"RevisionTracker"}static get requires(){return[r.Users,Xi,e.PendingActions]}constructor(...e){super(...e),this.adapter=null,this.set("isReady",!1),this.set("isEnabled",!0),this.currentRevision=null;const i=(0,t.uid)();this._source={history:this.editor.model.document.history,getLatestVersion:()=>Promise.resolve(this.editor.model.document.version),getCurrentRevisionId:()=>i},this._revisionDataBuilder=new tn(this.editor),this._initialRevisionId=this.editor.config.get("collaboration.channelId")||"initial",this.set("isPendingUpdate",!1),this._bufferedUpdates=new Map}init(){this.repository=this.editor.plugins.get("RevisionsRepository"),this._setConversion(),this.editor.data.on("ready",(()=>{if(this.editor.plugins.has("RealTimeCollaborationClient")){const e=this._source.getCurrentRevisionId(),t=this.repository.getRevision(e);this._startingVersion=t?t.fromVersion:this._source.history._operations[this._source.history._operations.length-1].baseVersion+1}else{const e=this.repository.getRevisions().find((e=>null===e.creator));if(e)if(this.editor.model.document.version=e.toVersion,e.fromVersion===e.toVersion)this._source.getCurrentRevisionId=()=>e.id;else{const t=this.editor.plugins.get("Users").me;e.creator=t,e._update({creatorId:t.id})}this._startingVersion=this.editor.model.document.version}this._revisionDataBuilder.init(this._source.history),this._createInitialRevision(this._startingVersion),this._createCurrentRevision(this._startingVersion),this.adapter&&this.sendBufferedUpdates()})),this.bind("isReady").to(this,"_isPendingUpdate",(e=>!e))}setSource(e){this._source=e}async update(){const e=await this._source.getLatestVersion();if(e>this.currentRevision.toVersion){const t=this.buildRevisionData({revision:this.currentRevision,to:e});t.authors=t.authorsIds.map((e=>this.editor.plugins.get("Users").getUser(e))),this.currentRevision._update(t)}}async saveRevision(e={},i=null){const n=[];if(i>this.currentRevision.toVersion&&(i=null),null===i&&(i=await this._source.getLatestVersion()),this.currentRevision.toVersion<i){const e=this.buildRevisionData({revision:this.currentRevision,from:i,to:i});e.authors=[],e.authorsIds=[],e.id=this.currentRevision.id,this.currentRevision._update(e,!0),delete e.authors,n.push(e)}const r=this.editor.plugins.get("Users").me,o=this._getFromVersion(i),s=this.buildRevisionData({from:o,to:i});e.creatorId=r.id,e.name=e.name||null,e.id=e.id||(0,t.uid)(),e={...e,...s};const a=this.addRevisionData(e);n.push(e);const c=this.repository.getIndex(a);if(0!==c){const t=this.repository.getRevision(c-1);if(t.fromVersion!==i){const r=this._revisionDataBuilder.getData(i,t.toVersion),o={id:t.id,diffData:r.diffData,authorsIds:r.authorsIds,authors:r.authorsIds.map((e=>this.editor.plugins.get("Users").getUser(e))),fromVersion:i};t===this.currentRevision&&(o.createdAt=new Date(e.createdAt.getTime()+10)),t._update(o,!0),delete o.authors,n.push(o)}}if(this.adapter){for(const e of n)this._bufferUpdate(e.id,e,!0);this.sendBufferedUpdates()}return a}addRevisionData(e){const t=this.repository.createRevision(e);return this.adapter&&t.on("_update",((e,t,i)=>{i||(this._bufferUpdate(t.id,t,!0),this.sendBufferedUpdates())})),this.repository.addRevision(t,this._findInsertionIndex(t)),t}async getRevisionDocumentData(e){await this._loadRevisionData(e);const t={};for(const i in e.diffData){const n=this._removeRevisionMarkers(JSON.parse(e.diffData[i].insertions)),r=this.editor.editing.view.document,s=new o.ViewDocumentFragment(r,n.map((e=>this._getViewObj(e))));t[i]=this.editor.data.processor.toData(s)}return t}sendBufferedUpdates(){if(0===this._bufferedUpdates.size)return;if(this._isPendingUpdate)return;let e=Array.from(this._bufferedUpdates.values());this._bufferedUpdates.clear();for(let t=0;t<e.length;t++){const i=e[t];let n=!1;for(const e of Object.keys(i))void 0===i[e]?delete i[e]:"id"!==e&&(n=!0);n||(e[t]=null)}if(e=e.filter((e=>null!==e)),!e.length)return;for(let t=0;t<e.length;t++){const i=e[t];void 0!==i.fromVersion&&void 0===i.toVersion&&(i.toVersion=this.repository.getRevision(i.id).toVersion),void 0!==i.toVersion&&void 0===i.fromVersion&&(i.fromVersion=this.repository.getRevision(i.id).fromVersion)}const t=this.editor.config.get("collaboration.channelId");this._isPendingUpdate=!0,this._addPendingAction(),this.adapter.updateRevisions(e,t).finally((()=>{this._isPendingUpdate=!1})).then((()=>{this._removePendingAction(),this.sendBufferedUpdates()}))}_addPendingAction(){const e=this.editor.t;if(!this._pendingAction){const t=this.editor.plugins.get("PendingActions");this._pendingAction=t.add(e({string:"Unsaved change in revision history.",id:"PENDING_ACTION_REVISION_HISTORY"}))}}_removePendingAction(){this._pendingAction&&(this.editor.plugins.get("PendingActions").remove(this._pendingAction),this._pendingAction=null)}_findInsertionIndex(e){const t=this.repository.getRevisions();t.reverse();let i=0;for(;i<t.length;){const n=t[i];if(n.id===this._initialRevisionId)break;const r=e.toVersion-n.toVersion||e.fromVersion-n.fromVersion;if(r>0)break;if(r<0)i++;else{if(!e.creator&&n.creator)break;if(n.creator||!e.creator){if(e.createdAt>n.createdAt)break;i++}else i++}}return i}setRevisionData(e){const t=this.repository.getRevision(e.id);if(e.createdAt&&(e.createdAt=new Date(e.createdAt)),e.authorsIds){const t=this.editor.plugins.get("Users");e.authors=e.authorsIds.map((e=>t.getUser(e)))}t._update(e,!0)}buildRevisionData({revision:e=null,from:t=null,to:i=null}){t=null!==t?t:e.fromVersion,i=null!==i?i:e.toVersion;const n=this._revisionDataBuilder.getData(t,i),r={diffData:n.diffData,authorsIds:n.authorsIds,fromVersion:t,toVersion:i};return e&&i===e.toVersion||(r.createdAt=new Date),r}_loadRevisionData(e){if(!e||e.diffData)return Promise.resolve();{const t=this.editor.config.get("collaboration.channelId");return this.adapter.getRevision({channelId:t,revisionId:e.id}).then((t=>{e.diffData=t.diffData}))}}_bufferUpdate(e,t,i){if(this._bufferedUpdates.has(e)){const n=this._bufferedUpdates.get(e);t=i?{...n,...t}:{...t,...n}}this._bufferedUpdates.set(e,t)}_getFromVersion(e){const t=this.repository.getRevisions();t.reverse(),t.shift();const i=t.find((t=>t.toVersion<=e)).toVersion;return i<this._startingVersion?this._startingVersion:i}_createInitialRevision(e){const t=this.repository.getRevision(this.repository.length-1);if(t)this._initialRevisionId=t.id;else{const t=this.editor.t,i=!this.editor.model.document.roots.find((e=>this.editor.model.hasContent(e))),n=this.editor.plugins.get("Users").me.id,r=t(i?"Empty document":"Initial revision");this._makeRevision({from:e,to:e,id:this._initialRevisionId,name:r,creatorId:n})}}_createCurrentRevision(e){const t=this._source.getCurrentRevisionId();this.currentRevision=this.repository.getRevision(t),this.currentRevision||(this.currentRevision=this._makeRevision({from:e,to:e,id:t}))}_makeRevision({name:e,from:t,to:i,creatorId:n,id:r}){const o=this.buildRevisionData({from:t,to:i});e&&(o.name=e),n&&(o.creatorId=n),o.id=r;const s=this.addRevisionData(o);return this.adapter&&this._bufferUpdate(o.id,o,!0),s}_setConversion(){this.editor.conversion.for("dataDowncast").markerToData({model:"revision"})}_removeRevisionMarkers(e){return(e=e.filter((e=>!e.name||"revision-start"!==e.name&&"revision-end"!==e.name))).forEach((e=>{"string"!=typeof e&&(e.children=this._removeRevisionMarkers(e.children),e.attributes=e.attributes.filter((e=>!e[0].startsWith("data-revision-"))))})),e}_getViewObj(e){const t=this.editor.editing.view.document;if("string"==typeof e)return new o.ViewText(t,e);{const i=e.children.map((e=>this._getViewObj(e)));return new o.ViewElement(t,e.name,e.attributes,i)}}}class tn{constructor(e){this.editor=e,this._savedMetaData=new Map,this._lastFrom=-1,this._lastTo=-1,this._markers=new Map,this._diffRoots=new Map,this._baseRoots=new Map,this._idsRoots=new Map,this._baseIdsRoots=new Map,this._touched=new Map,this._touchedMarkers=new Map,this._revisionId=1,this._rootNames=this.editor.model.document.getRootNames(),this._rootNames.push("$graveyard")}init(e){this.source=e;const t=new Map;for(const e of this._rootNames){const i=nn(this.editor.model.document.getRoot(e));t.set(e,i)}const i=Array.from(this.editor.model.markers).map((e=>[e.name,e.getRange()])),n=this.source._operations[this.source._operations.length-1].baseVersion+1;this._saveMetaData(n,t,i),this._startingRevisionId=this._revisionId}getData(e,t){if(this._lastFrom===e&&this._lastTo<=t)this._savedMetaData.size>1&&this._removeMetaData(this._lastTo),this._applyOperations(this._lastTo,t,!0);else{if(!this._savedMetaData.has(e)){const t=this._getPreviousFrom(e);this._calculateMetaData(t,e,!1)}this._calculateMetaData(e,t,!0)}return this._lastFrom=e,this._lastTo=t,this._getState()}_saveEmptyMetaData(e){const t=new Map;for(const e of this._rootNames){const i=new o.DocumentFragment;i.rootName=e,t.set(e,i)}this._saveMetaData(e,t,[])}_saveMetaData(e,t,i){const n=new Map(t),r=new Map;for(const[e,t]of i)r.set(e,{start:t.start.clone(),end:t.end.clone(),rootName:t.root.rootName});this._savedMetaData.set(e,{roots:n,markers:r})}_removeMetaData(e){this._savedMetaData.delete(e)}reInit(){this._reset(),this._lastFrom=-1,this._lastTo=-1,this._savedMetaData.clear(),this.init(this.source)}_reset(){this._touched.clear(),this._touchedMarkers.clear(),this._diffRoots.clear(),this._baseRoots.clear(),this._idsRoots.clear(),this._baseIdsRoots.clear(),this._markers.clear(),this._revisionId=1,this._startingRevisionId=this._revisionId}_makeIdsRoot(e,t=null){let i=null;e.is("documentFragment")||(i=new o.Element(e.name,{vid_start:null===t?this._revisionId++:t++}));const n=[];for(const i of e.getChildren())if(i.is("element")){n.push(this._makeIdsRoot(i,t));const e=n[n.length-1];null!==t&&(t=e.is("element","$text")?e.getAttribute("vid")+1:e.getAttribute("vid_end")+1)}else for(let e=0;e<i.offsetSize;e++)n.push(new o.Element("$text",{vid:null===t?this._revisionId++:t++}));if(e.is("documentFragment")){const t=new o.DocumentFragment(n);return t.rootName=e.rootName,t}return i._setAttribute("vid_end",null===t?this._revisionId++:t++),i._insertChild(0,n),i}_calculateMetaData(e,t,i){this._reset();const{roots:n,markers:r}=this._savedMetaData.get(e);this._baseRoots=new Map(n);for(const[e,t]of this._baseRoots)if("$graveyard"!==e&&(this._diffRoots.set(e,nn(t)),i)){const i=this._revisionId;this._idsRoots.set(e,this._makeIdsRoot(t)),this._baseIdsRoots.set(e,this._makeIdsRoot(t,i))}this._startingRevisionId=this._revisionId,this._diffRoots.set("$graveyard",nn(this._baseRoots.get("$graveyard"))),i&&this._idsRoots.set("$graveyard",this._makeIdsRoot(this._baseRoots.get("$graveyard")));for(const[e,t]of r){const i=this._baseRoots.get(t.rootName),n=this._diffRoots.get(t.rootName),r=new o.Range(this._fixPosition(t.start,i),this._fixPosition(t.end,i)),s=this._fixRange(r,n);i.markers.set(e,r),this._markers.set(e,s)}this._applyOperations(e,t,i)}_applyOperations(e,t,i){for(const n of this.source.getOperations(e,t))this._handleOperation(n,i);for(const e of this._diffRoots.values())e.markers.clear();for(const[e,t]of this._markers)this._diffRoots.get(t.root.rootName).markers.set(e,t.clone());this._saveMetaData(t,Array.from(this._diffRoots).map((([e,t])=>[e,nn(t)])),this._markers)}_getPreviousFrom(e){const t=Array.from(this._savedMetaData.keys());t.sort(((e,t)=>e-t)),t.reverse();for(const i of t)if(i<e)return i;const i=this.source._operations[0].baseVersion;return this._saveEmptyMetaData(i),i}_copyMarkers(e,t){const i=Array.from(t.markers).map((([t,i])=>[t,this._fixRange(i,e)]));e.markers=new Map(i)}_transformMarkers(e){for(const t of this._markers.values()){const i=t.getTransformedByOperation(e),n=o.Range._createFromRanges(i);t.start=n.start,t.end=n.end}}_handleOperation(e,t){const i=this._cloneOperation(e,this._diffRoots);if("marker"!==e.type&&(i._execute(),this._transformMarkers(i)),t)switch(i.type){case"insert":this._handleInsertOperation(e);break;case"move":case"remove":case"reinsert":this._handleMoveOperation(e);break;case"merge":this._handleMergeOperation(e);break;case"split":this._handleSplitOperation(e);break;case"marker":this._handleMarkerOperation(e)}}_cloneOperation(e,t){const i=e.clone();return i._authorId=e._authorId,this._fixOperation(i,t),i}_getBaseVids(e){return e.map((e=>{const t=this._getVidAttributeName(e);return Number(e.item.getAttribute(t))}))}_generateTape(e,t){if(e.is("element","$text"))t.push({item:e,type:"text"});else{e.is("element")&&t.push({item:e,type:"elementStart"});for(const i of e.getChildren())this._generateTape(i,t);e.is("element")&&t.push({item:e,type:"elementEnd"})}return t}_getState(){const e=this.editor.model.document.getRootNames(),t=new Map(this._touched),i=new Map(t),n=new Map,r={insertions:{},deletions:{}},o={insertions:{},deletions:{}},s=new Map;for(const t of e){const e=this._diffRoots.get(t),i=this._baseRoots.get(t);r.insertions[t]=nn(e),r.deletions[t]=nn(i),this._copyMarkers(r.deletions[t],i),this._copyMarkers(r.insertions[t],e),o.insertions[t]=this._generateTape(this._idsRoots.get(t),[]),o.deletions[t]=this._generateTape(this._baseIdsRoots.get(t),[])}for(const r of e){const e=o.insertions[r];for(const r of e){const e=this._getVidAttributeName(r),o=r.item.getAttribute(e);i.delete(o),o>=this._startingRevisionId&&n.set(o,t.get(o))}}for(const r of e){const e=o.insertions[r],a=this._getBaseVids(o.deletions[r]);let c=0;for(const r of e){const e=this._getVidAttributeName(r),o=r.item.getAttribute(e);if(!n.has(o)&&!s.has(o))if(i.has(o))c++;else{if(o!=a[c]){const e=t.get(o)||t.get(a[c]);for(;o!=a[c];)i.has(a[c])||(s.set(a[c],e),t.set(a[c],e)),c++}c++}}}for(const t of e){const e=o.insertions[t];for(const t of e){const e=this._getVidAttributeName(t),r=t.item.getAttribute(e);if(s.has(r)){const e=s.get(r);i.has(r)||i.set(r,{...e}),n.set(r,{...e})}}}for(const e of i.keys())e>=this._startingRevisionId&&i.delete(e);const a=new Map;for(const t of e){let e=o.insertions[t];for(const t of e)if(t.item.is("element","tableCell")){const e=this._getVidAttributeName(t),i=t.item.getAttribute(e);if(n.has(i)){const e=t.item.parent.parent.getAttribute("vid_start"),r=a.get(e)||new Set;r.add(n.get(i).userId),a.set(e,r)}}e=o.deletions[t];for(const t of e)if(t.item.is("element","tableCell")){const e=this._getVidAttributeName(t),n=t.item.getAttribute(e);if(i.has(n)){const e=t.item.parent.parent.getAttribute("vid_start"),r=a.get(e)||new Set;r.add(i.get(n).userId),a.set(e,r)}}for(const e of a.keys())(n.has(e)||i.has(e))&&a.delete(e)}for(const t of e){const e=o.insertions[t];let r=null,s=null;for(const t of e){const e=this._getVidAttributeName(t),o=t.item.getAttribute(e),c=a.get(o);c&&"elementStart"==t.type&&(r=Array.from(c)[0],s=t.item.getAttribute("vid_end")),r&&(i.set(o,{userId:r}),n.set(o,{userId:r})),o==s&&(r=null,s=null)}}const c={},u=new Set;for(const t of e){const e=r.deletions[t],s=r.insertions[t];for(const{userId:e}of this._touchedMarkers.values())null!==e&&u.add(e);this._markChanges(s,o.insertions[t],n,"insertion",u),this._markChanges(e,o.deletions[t],i,"deletion",u),c[t]={insertions:this._prepareViewToSave(s),deletions:this._prepareViewToSave(e)}}return{diffData:c,authorsIds:Array.from(u)}}_processRootBeforeSave(e){for(const[,t]of e.markers){const e=t.start.getAncestors().filter((e=>"tableCell"==e.name));for(const t of e)1==t.childCount&&t.getChild(0).is("element","paragraph")&&t.getChild(0)._setAttribute("keepParagraph",!0)}}_prepareViewToSave(e){this._processRootBeforeSave(e);const t=this.editor.data.toView(e,{}),i=Array.from(t.getChildren()).map((e=>this._getViewObj(e)));return JSON.stringify(i)}_getViewObj(e){return e.is("text")?e.data:{name:e.name,attributes:Array.from(e.getAttributes()),children:Array.from(e.getChildren()).map((e=>this._getViewObj(e)))}}_markChanges(e,t,i,n,r){let o=null,s=null,a=0;const c=this.editor.model;for(let n=0;n<t.length;n++){const r=this._getVidAttributeName(t[n]),a=t[n].item.getAttribute(r),d=i.get(a),l=n==t.length-1;!o&&d&&(o=d,s=t[n]),o&&(!d||d.userId!=o.userId)&&(u(d,rn(s,e,c),rn(t[n],e,c)),o=d||null,s=d?t[n]:null),o&&l&&u(d,rn(s,e,c),on(t[n],e,c))}function u(t,i,s){const u=o.userId,d="revision:"+n+":"+u+":"+a++,l=c.createRange(i,s);e.markers.set(d,l),null!==u&&r.add(u)}}_getVidAttributeName(e){switch(e.type){case"elementStart":return"vid_start";case"elementEnd":return"vid_end";default:return"vid"}}_fixOperation(e,t){e.baseVersion=null;for(const i in e){if(e[i]instanceof o.Position){const n=t.get(e[i].root.rootName);e[i]=this._fixPosition(e[i],n)}if(e[i]instanceof o.Range){const n=t.get(e[i].root.rootName);e[i]=this._fixRange(e[i],n)}}e.root&&(e.root=t.get(e.root.rootName))}_fixRange(e,t){return this.editor.model.createRange(this._fixPosition(e.start,t),this._fixPosition(e.end,t))}_fixPosition(e,t){return this.editor.model.createPositionFromPath(t,e.path,e.stickiness)}_handleInsertOperation(e){const t=this._idsRoots.get(e.position.root.rootName),i=this._fixPosition(e.position,t),n=null===e._authorId?null:e._authorId||this.editor.plugins.get("Users").me.id,r=i.parent,s=this._revisionId,a=[];for(const t of e.nodes)if(t.is("element"))a.push(this._makeIdsRoot(t));else for(let e=0;e<t.offsetSize;e++)a.push(new o.Element("$text",{vid:this._revisionId++}));const c=this._revisionId;for(let e=s;e<c;e++)this._touched.set(e,{userId:n});r._insertChild(i.offset,a)}_handleMoveOperation(e){(e=this._cloneOperation(e,this._idsRoots))._execute();const t=null===e._authorId?null:e._authorId||this.editor.plugins.get("Users").me.id,i=e.getMovedRangeStart(),n=i.parent,r=i.offset;!function e(i,n,r,o){for(let s=r;s<o;s++){const r=n.getChild(s);r.is("element","$text")?i.set(r.getAttribute("vid"),{userId:t}):(i.set(r.getAttribute("vid_start"),{userId:t}),e(i,r,0,r.childCount),i.set(r.getAttribute("vid_end"),{userId:t}))}}(this._touched,n,r,r+e.howMany)}_handleMergeOperation(e){const t=null===(e=this._cloneOperation(e,this._idsRoots))._authorId?null:e._authorId||this.editor.plugins.get("Users").me.id,i=e.targetPosition.parent,n=e.sourcePosition.parent,r=i.getAttribute("vid_end"),o=n.getAttribute("vid_start");i._setAttribute("vid_end",n.getAttribute("vid_end")),n._setAttribute("vid_end",r),this._touched.set(o,{userId:t}),this._touched.set(r,{userId:t}),e._execute()}_handleSplitOperation(e){const t=null===(e=this._cloneOperation(e,this._idsRoots))._authorId?null:e._authorId||this.editor.plugins.get("Users").me.id,i=e.graveyardPosition,n=e.splitPosition.parent;e._execute();const r=n.getAttribute("vid_end"),o=e.insertionPosition.nodeAfter;if(i){const e=o.getAttribute("vid_end"),i=n.getAttribute("vid_end");n._setAttribute("vid_end",e),o._setAttribute("vid_end",i),this._touched.set(n.getAttribute("vid_end"),{userId:t}),this._touched.set(o.getAttribute("vid_start"),{userId:t})}else{const e=this._revisionId++,i=this._revisionId++;n._setAttribute("vid_end",e),o._setAttribute("vid_start",i),o._setAttribute("vid_end",r),this._touched.set(e,{userId:t}),this._touched.set(i,{userId:t})}}_handleMarkerOperation(e){if(!e.affectsData)return;const t=(e=this._cloneOperation(e,this._diffRoots)).oldRange?e.oldRange.root:null,i=e.newRange?e.newRange.root:null;t&&this._markers.delete(e.name),i&&this._markers.set(e.name,e.newRange.clone());const n=null===e._authorId?null:e._authorId||this.editor.plugins.get("Users").me.id,r=e.name;if(!this._touchedMarkers.has(r))return void this._touchedMarkers.set(r,{range:e.oldRange,userId:n});const o=this._touchedMarkers.get(r),s=o.range,a=e.newRange;null==s&&null==a||s&&a&&s.isEqual(a)?this._touchedMarkers.delete(e.name):o.userId=n}}function nn(e){const t=new o.DocumentFragment;t.rootName=e.rootName;for(const i of e.getChildren()){const e=i._clone(!0);t._appendChild(e)}return t}function rn(e,t,i){const n="elementEnd"==e.type?i.createPositionAt(e.item,"end"):i.createPositionBefore(e.item);return n.root=t,n}function on(e,t,i){const n="elementStart"==e.type?i.createPositionAt(e.item,0):i.createPositionAfter(e.item);return n.root=t,n}var sn=i(273),an=i(52),cn=i.n(an),un=i(357),dn=i.n(un),ln=i(278),hn=i.n(ln),fn=i(996),vn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};hn()(fn.Z,vn);fn.Z.locals;var mn=i(542),xn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};hn()(mn.Z,xn);mn.Z.locals;class gn extends sn.View{constructor(e){super(e);const i=e.t;this.focusTracker=new t.FocusTracker,this.keystrokes=new t.KeystrokeHandler,this.set("revisionNameInputValue",""),this.revisionNameInputView=this._createRevisionNameInput(),this.saveButtonView=this._createButton(i("Save"),cn(),"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(i("Cancel"),dn(),"ck-button-cancel","cancel"),this._focusables=new sn.ViewCollection,this._focusCycler=new sn.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-revision-history-save-revision-form","ck-responsive-form"],tabindex:"-1"},children:[this.revisionNameInputView,this.saveButtonView,this.cancelButtonView]}),(0,sn.injectCssTransitionDisabler)(this)}render(){super.render(),(0,sn.submitHandler)({view:this}),[this.revisionNameInputView,this.saveButtonView,this.cancelButtonView].forEach((e=>{this._focusables.add(e),this.focusTracker.add(e.element)})),this.keystrokes.listenTo(this.element);const e=e=>e.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e),this.listenTo(this.revisionNameInputView.element,"selectstart",((e,t)=>{t.stopPropagation()}),{priority:"high"})}focus(){this._focusCycler.focusFirst()}get revisionName(){return this.revisionNameInputView.fieldView.element.value.trim()}set revisionName(e){this.revisionNameInputView.fieldView.element.value=e.trim()}reset(){this.revisionNameInputView.fieldView.element.value=""}_createRevisionNameInput(){const e=this.locale.t,t=new sn.LabeledFieldView(this.locale,sn.createLabeledInputText),i=t.fieldView;return i.extendTemplate({attributes:{maxlength:"220"}}),t.label=e("Name of the revision (optional)"),i.on("input",(()=>{this.revisionNameInputValue=i.element.value.trim()})),t}_createButton(e,t,i,n){const r=new sn.ButtonView(this.locale);return r.set({label:e,icon:t,tooltip:!0}),r.extendTemplate({attributes:{class:i}}),n&&r.delegate("execute").to(this,n),r}}var pn=i(916),yn=i.n(pn);class bn extends e.Plugin{static get pluginName(){return"RevisionHistoryUI"}static get requires(){return[en]}init(){const e=this.editor,t=e.t,i=e.plugins.get("RevisionTracker");e.ui.componentFactory.add("revisionHistory",(n=>{const r=(0,sn.createDropdown)(n),o=r.panelView.children,s=new sn.ListView(n),a=new sn.ListItemView(n),c=new sn.ButtonView(n),u=new sn.ListItemView(n),d=new sn.ButtonView(n),l=new gn(n);function h(){o.length&&o.remove(0),o.add(s)}function f(){r.isOpen=!1,e.editing.view.focus()}return r.bind("isEnabled").to(i,"isReady",i,"isEnabled",e,"isReadOnly",((e,t,i)=>e&&t&&!i)),r.buttonView.set({icon:yn(),label:t("Revision history"),tooltip:!0}),c.set({label:t("Save current revision"),withText:!0}),c.bind("isEnabled").to(i,"isReady",i,"isEnabled",e,"isReadOnly",((e,t,i)=>e&&t&&!i)),c.on("execute",(()=>(o.length&&o.remove(0),l.reset(),o.add(l),void l.focus()))),d.set({label:t("Open revision history"),withText:!0}),d.bind("isEnabled").to(i,"isReady",e,"isReadOnly",((e,t)=>e&&!t)),d.on("execute",(()=>{e.config.get("revisionHistory").showRevisionViewerCallback(),f()})),a.children.add(c),u.children.add(d),s.items.addMany([a,u]),r.on("change:isOpen",(()=>h())),l.saveButtonView.bind("isEnabled").to(i,"isReady",i,"isEnabled",e,"isReadOnly",((e,t,i)=>e&&t&&!i)),l.on("submit",(()=>(e.plugins.get(en).saveRevision({name:l.revisionName}),void f()))),l.on("cancel",(()=>h())),l.render(),h(),r}))}}class kn extends sn.View{constructor(e,t){super(e);const i=e.t;this._model=t;const n=this.bindTemplate,r=t.data.isSuggestion?i("Suggested by"):"add"==t.type?i("Added by"):i("Removed by");this.set("type",t.type),this.setTemplate({tag:"div",attributes:{class:["ck-annotation","ck-revision-change",n.to("type",(e=>"ck-revision-change__"+e))],tabindex:-1},children:[{tag:"span",children:[{tag:"span",attributes:{class:["ck-revision-change__label"]},children:[{text:r}]},{text:" "+t.author.name}]}]})}focus(){this.element.focus()}}var _n,wn,Sn=["toJSON","createdAt","set","data","type"];_n=Sn,wn=468,function(e){for(;--e;)_n.push(_n.shift())}(++wn);var Rn=function(e,t){return Sn[e-=0]};class On{constructor(e){this.id=e.id||(0,t.uid)(),this.author=e.author,this[Rn("0x1")]=e.type,this[Rn("0x0")]=e[Rn("0x0")]||{},this[Rn("0x4")]("createdAt",e[Rn("0x3")])}[Rn("0x2")](){return{id:this.id,authorId:this.author.id,type:this[Rn("0x1")],data:this.data,createdAt:this[Rn("0x3")]}}}(0,t.mix)(On,t.ObservableMixin);const Tn=["newRevisionId","add","changes","_setData"];var In,Vn;In=Tn,Vn=388,function(e){for(;--e;)In.push(In.shift())}(++Vn);const Mn=function(e,t){return Tn[e-=0]};class Nn{constructor(e,i){this[Mn("0x0")]=e,this.oldRevisionId=i,this[Mn("0x2")]=new t.Collection}[Mn("0x3")](e){for(const t of e.changes)this.changes[Mn("0x1")](t)}}var En=i(288),An={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};hn()(En.Z,An);En.Z.locals;const Dn=["values","_markSuggestions","parent","ck-suggestion-marker--active","createAttributeElement","addMarker:suggestion:deletion","level","concat","showNextChange","split","consume","_getDiff","splice","then","has","removeMarker:revision","side","ck-suggestion-preview-marker-","isEqual","resolve","elementStart","mousedown","delete","roots","end","revision-start","getAttributes","revisionHistory","index","findIndex","nextPosition","sort","upcast","userId","abs","editor","startIndex","createPositionFromPath","_changeIdToChange","hasAttribute","length","vid_start","addHighlight","isObject","isAtEnd","low","shift","distance","_removeMissingPairs","execute","deletions","name","bind","change:isEnabled","selection","consumable","isSuggestion","element","authors","for","span","insertion","markerToHighlight","_update","writer","children","viewItem","modelRange","_markMismatchedRemovedTags","_step","markerNameToElements","insertions","setData","string","-new","observeMarkers","_appendChild","from","clear","forEach","init","_threeWayMerge","removeMarker:suggestion","checkAttribute","clearForceDisabled","suggestion","_markInsertions","isBlock","_makeModelFromViewString","forward","previousPosition","destroy","repository","toViewElement","getItems","markerName","editingDowncast","range","elementToAttribute","slice","conversion","attributes","commands","isBefore","get","revisionHistoryLabel","change","markerToData","isRemoved","deletion","merge","marked","pop","push","isNavigationMode","catch","processor","mapper","newRevisionId","loadRevisionData","revision","elementEnd","isAdded","ck-suggestion-marker-","<p></p>","set","type","_cleanMarkers","getAttribute","error","dataDowncast","data","keys","view","highest","getWalker","first","getRootNames","addMarker:suggestion:insertion","getIndex","ck-suggestion-marker-merge","isRemoveSuggestion","attribute:vid","vid","markersEnd","_makeModelFromTape","remove","isAddSuggestion","document","addClass","start","diffData","unshift","isContent","_setConversion","parse","downcastDispatcher","next","dataToMarker","change:isReady","backward","getRevision","enableReadOnlyMode","htmlProcessor","done","_removeRevisionMarkers","pluginName","listenTo","markerRange","_removeUnsupportedChanges","ck-suggestion-marker-split","toViewPosition","softBreak","removeMarker","_balloon","showPreviousChange","isEnabled","vid_end","RevisionsRepository","_getViewObj","offsetSize","restoreRevisionCallback","isLimit","editing","RevisionViewer","hasClass","locale","changes","maxOffset","_data","isCollapsed","getRoot","ck-suggestion-preview-marker","model","compare","activeView","revision-viewer","isReady","pairId","toData","markers","setAttribute","useFillerType","_fixObsoleteTags","_getRevisionsRange","text","_markMarkers","markersStart","reconvertMarker","startsWith","_findChangeIdFromDomTarget","_refreshStartEndIndex","_setDistance","change:isReadOnly","high","readOnlyMode","plugins","target","revision-end","getChild","mouseover","getCustomProperty","_changeView","add","_makeTape","createUIElement","refresh","stopListening","adapter","ck-editor__editable__overlay","_initInteractions","endIndex","includes","nodeAfter","unbindElementFromMarkerName","isInline","filter","map","_getViewForChange","_target","_processTape","_getChangeFromId","test","_cleanUp","bindElementToMarker","isIncorrect","isAfter","_joinTapes","uiElement","ck-suggestion-marker","schema","diff","insert","stop","toViewRange","nextSibling","item","isAtStart","all","revision:","config","data-revision-","activeChange"];var jn,Cn;jn=Dn,Cn=222,function(e){for(;--e;)jn.push(jn.shift())}(++Cn);const Fn=function(e,t){return Dn[e-=0]};class Ln extends e.Plugin{static get[Fn("0xcf")](){return Fn("0xe1")}static get requires(){return[r.Users,sn.ContextualBalloon,Xi]}constructor(...e){super(...e),this[Fn("0x85")]=this.editor[Fn("0x101")][Fn("0x91")](Fn("0xdb")),this.set(Fn("0x28"),null),this[Fn("0xa6")](Fn("0xec"),null),this[Fn("0xa6")](Fn("0x1d"),null),this[Fn("0xa6")](Fn("0xee"),!1),this[Fn("0xa6")](Fn("0xd9"),!0),this.on(Fn("0x5e"),((e,t,i)=>{this[Fn("0x28")]=null,this.activeView=null,this[Fn("0x4c")][Fn("0xe0")].view[Fn("0x93")]((e=>{for(const t of this.editor.editing[Fn("0xae")][Fn("0xbd")][Fn("0x40")])i?e.removeClass(Fn("0x7"),t):e.addClass(Fn("0x7"),t)}))})),this[Fn("0x5d")](Fn("0x9b")).to(this,Fn("0x28"),(e=>null!==e)),this.bind("currentChangeNumber").to(this,Fn("0xee"),this,Fn("0x1d"),this,Fn("0x28"),((e,t,i)=>e&&i?t[Fn("0xe4")].getIndex(i):0)),this[Fn("0x5d")]("numberOfChanges").to(this,Fn("0xee"),this,Fn("0x1d"),((e,t)=>e?t[Fn("0xe4")][Fn("0x51")]:0)),this._changeView=null,this[Fn("0x4f")]=new Map,this[Fn("0x6")]=null,this[Fn("0xd7")]=this.editor[Fn("0x101")][Fn("0x91")](sn.ContextualBalloon)}[Fn("0x79")](){const e=this[Fn("0x4c")];e[Fn("0xac")][Fn("0xcc")][Fn("0xf3")](Fn("0x98"));const t=new Zn(e,{direction:Fn("0xc9")}),i=new Zn(e,{direction:Fn("0x82")});e[Fn("0x8f")][Fn("0x1")](Fn("0xd8"),t),e[Fn("0x8f")][Fn("0x1")](Fn("0x31"),i),e[Fn("0x8f")][Fn("0x1")]("restoreRevision",new zn(e)),this.on("change:numberOfChanges",(()=>{t.refresh(),i[Fn("0x4")]()})),this[Fn("0xc3")](),this[Fn("0x8")](),e[Fn("0xcb")](Fn("0xed"))}async getRevisionData(e){await this[Fn("0xa0")](e);const t={};for(const i in e[Fn("0xc0")]){const n=this[Fn("0xce")](JSON[Fn("0xc4")](e.diffData[i][Fn("0x70")])),r=this[Fn("0x4c")][Fn("0xe0")][Fn("0xae")].document,s=new o.ViewDocumentFragment(r,n.map((e=>this._getViewObj(e))));t[i]=this[Fn("0x4c")][Fn("0xac")][Fn("0x9d")][Fn("0xf0")](s)}return t}_removeRevisionMarkers(e){return(e=e.filter((e=>!e[Fn("0x5c")]||Fn("0x42")!==e.name&&Fn("0x103")!==e[Fn("0x5c")]))).forEach((e=>{Fn("0x72")!=typeof e&&(e[Fn("0x6a")]=this._removeRevisionMarkers(e[Fn("0x6a")]),e[Fn("0x8e")]=e.attributes[Fn("0xe")]((e=>!e[0][Fn("0xfa")](Fn("0x27")))))})),e}[Fn("0xeb")](e,t,i=!1){if(!this[Fn("0xd9")])return;const n=this.diff,r=this.repository,o="string"==typeof e?r[Fn("0xca")](e):e,s=Fn("0x72")==typeof t?r[Fn("0xca")](t):t,a=o.id,c=s?s.id:null;if(!i&&this.diff&&this[Fn("0x1d")][Fn("0x9f")]===a&&this[Fn("0x1d")].oldRevisionId===c)return Promise.resolve();this[Fn("0xee")]=!1,this[Fn("0xec")]=null,this[Fn("0x28")]=null,this[Fn("0x1d")]=new Nn(a,c);const u=this._getRevisionsRange(o,s,!0).map((e=>this[Fn("0xa0")](e)));return u.push(new Promise((e=>{setTimeout(e,20)}))),Promise[Fn("0x24")](u)[Fn("0x36")]((()=>{if(!this.isEnabled)return;this._cleanUp();const e=this[Fn("0x34")](a,c);this.diff._setData(e);for(const e of this[Fn("0x1d")][Fn("0xe4")])this[Fn("0x4f")][Fn("0xa6")](e.id,e);this[Fn("0x4c")][Fn("0xea")].enqueueChange({isUndoable:!1},(t=>{for(const i of Object[Fn("0xad")](e[Fn("0xea")])){const n=this.editor[Fn("0xea")][Fn("0xbd")][Fn("0xe8")](i);t[Fn("0xbb")](t.createRangeIn(n)),t.insert(e[Fn("0xea")][i],n,0)}})),this.isReady=!0}))[Fn("0x9c")]((e=>{console[Fn("0xaa")](e),this[Fn("0x15")](),n?this.diff=n:this.editor[Fn("0x71")](Fn("0xa5")),this.isReady=!0}))}[Fn("0x84")](){this[Fn("0xec")]=null,this._changeView&&this[Fn("0x0")].destroy()}addRevisionData(e,t){const i=this[Fn("0x85")].createRevision(e);return i.on(Fn("0x68"),((e,n,r)=>t(n,r,i))),this[Fn("0x85")].addRevision(i),i}[Fn("0xa0")](e){if(!e||e[Fn("0xc0")])return Promise[Fn("0x3c")]();{const t=this.editor[Fn("0x26")][Fn("0x91")]("collaboration.channelId");return this[Fn("0x6")][Fn("0xca")]({channelId:t,revisionId:e.id})[Fn("0x36")]((t=>{e._update({diffData:t[Fn("0xc0")]},!0)}))}}[Fn("0x15")](){this[Fn("0x28")]=null,this[Fn("0xa8")](),this[Fn("0x0")]&&this[Fn("0x0")].destroy(),this[Fn("0x0")]=null,this[Fn("0x4f")][Fn("0x77")]()}[Fn("0x2")](e){const t=Array[Fn("0x76")](e[Fn("0xf1")])[Fn("0xe")]((([e,t])=>e[Fn("0xfa")](Fn("0x25"))&&!t[Fn("0xe7")])),i=Array[Fn("0x76")](this.editor.model.createRangeIn(e)[Fn("0xb0")]({singleCharacters:!0}));if(0!=t.length)for(const e of i){const[i,n]=t[0],[,r,o]=i.split(":");if(n[Fn("0x41")][Fn("0x3b")](e[Fn("0x47")])&&t[Fn("0x57")](),(e[Fn("0x83")].isEqual(n[Fn("0xbf")])||e[Fn("0x83")].isAfter(n[Fn("0xbf")]))&&(Fn("0x66")==r?e[Fn("0xa3")]={userId:o}:Fn("0x96")==r&&(e[Fn("0x95")]={userId:o})),0==t.length)break}return i}[Fn("0xfc")](e){const t=new Map;for(let i=0;i<e[Fn("0x51")];i++)Fn("0xf6")===e[i][Fn("0xa7")]?(e[i][Fn("0x22")][Fn("0x4d")]=i,e[i][Fn("0x22")].endIndex=i):(Fn("0x3d")===e[i].type?e[i][Fn("0x22")][Fn("0x4d")]=i:Fn("0xa2")===e[i][Fn("0xa7")]&&(e[i][Fn("0x22")].endIndex=i),t.set(e[i].id,i));for(const i of t[Fn("0x29")]())Fn("0x3d")===e[i][Fn("0xa7")]?e[i].item[Fn("0x9")]=t[Fn("0x91")](e[i].pairId):Fn("0xa2")===e[i][Fn("0xa7")]&&(e[i][Fn("0x22")][Fn("0x4d")]=t.get(e[i][Fn("0xef")]))}[Fn("0x12")](e){for(let t=0;t<e.length;t++){if(Fn("0x3d")===e[t].type)e[t][Fn("0x22")].startIndex=t;else if("elementEnd"===e[t].type){e[t][Fn("0x22")][Fn("0x9")]=t;const i=e[t].item[Fn("0x4d")];e[i].pairId=e[t].id,e[t][Fn("0xef")]=e[i].id}else e[t][Fn("0x22")][Fn("0x4d")]=t,e[t].item[Fn("0x9")]=t,e[t].pairId=null;e[t][Fn("0xf8")]||(e[t][Fn("0xf8")]=[],e[t][Fn("0xb9")]=[])}}[Fn("0x7f")](e,t){const i=e[Fn("0xe")]((e=>!e[Fn("0xa3")]));for(let e=0;e<t.length;e++)t[e].isAdded&&(i[e][Fn("0xa3")]=t[e][Fn("0xa3")])}[Fn("0x81")](e){const t=JSON[Fn("0xc4")](e),i=this[Fn("0x4c")][Fn("0xe0")][Fn("0xae")][Fn("0xbd")],n=new o.ViewDocumentFragment(i,t[Fn("0xf")]((e=>this._getViewObj(e))));return this[Fn("0x4c")][Fn("0xac")].toModel(n)}[Fn("0xdc")](e){const t=this.editor.editing[Fn("0xae")][Fn("0xbd")];if(Fn("0x72")==typeof e)return new o.ViewText(t,e);{const i=e.children.map((e=>this[Fn("0xdc")](e)));return new o.ViewElement(t,e[Fn("0x5c")],e.attributes,i)}}_getDiff(e,t=null){const i=this[Fn("0x85")][Fn("0xca")](e),n=t?this[Fn("0x85")][Fn("0xca")](t):null,r=this[Fn("0xf5")](i,n),o=r[r[Fn("0x51")]-1],s=new Map;for(const e of r){e[Fn("0xea")]={};for(const t of e[Fn("0x63")])s[Fn("0xa6")](t.id,t);for(const t of this[Fn("0x4c")].model[Fn("0xbd")][Fn("0xb2")]())e[Fn("0xc0")][t]||(e[Fn("0xc0")][t]={insertions:"[]",deletions:"[]"}),e[Fn("0xea")][t]={insertions:this[Fn("0x81")](e[Fn("0xc0")][t][Fn("0x70")]),deletions:this[Fn("0x81")](e[Fn("0xc0")][t][Fn("0x5b")])}}const a={model:{},changes:[]};for(const e of this[Fn("0x4c")].model[Fn("0xbd")].getRootNames()){let t=null,n=0;const c=new Map(Array[Fn("0x76")](i[Fn("0xea")][e][Fn("0x70")][Fn("0xf1")])[Fn("0xe")]((([e])=>!e[Fn("0xfa")](Fn("0x25")))));let u=0;for(const o of r){const r=this[Fn("0x2")](o.model[e][Fn("0x70")]);o==i?(t=r,n=t[Fn("0x51")],t[Fn("0x78")]((e=>{e.id=u++})),this[Fn("0x12")](t)):this[Fn("0x7f")](t,r);const s=t.filter((e=>!e[Fn("0xa3")]))[Fn("0xf")]((e=>e.id));let a=0;const d=this[Fn("0x2")](o.model[e][Fn("0x5b")]);d.forEach((e=>{e.isRemoved?e.id=n++:e.id=s[a++]})),this[Fn("0x12")](d),this[Fn("0xfd")](t,"isAdded"),this[Fn("0xfd")](d,"isRemoved"),o==i&&this[Fn("0xf7")](t,c),t=this[Fn("0x19")](t,d),this._refreshStartEndIndex(t),this[Fn("0xfd")](t,"isRemoved")}t=t[Fn("0xe")]((e=>!(e.isAdded&&e[Fn("0x95")])));const d=new Map(o.model[e].deletions.markers),l=new Set(c[Fn("0xad")]());for(const e of d.keys())l[Fn("0x3f")](e);this[Fn("0x2a")](t,l),this[Fn("0xf4")](t),t=this[Fn("0x59")](t),t=this[Fn("0x6d")](t),t=this[Fn("0xd2")](t);const{root:h,changes:f}=this[Fn("0xba")](t,s);a[Fn("0xea")][e]=h,a[Fn("0xe4")]=a[Fn("0xe4")].concat(f)}return a}[Fn("0xf7")](e,t){for(let i=0;i<e[Fn("0x51")];i++)for(const[n,r]of t)r[Fn("0xbf")].isEqual(e[i][Fn("0x83")])&&e[i][Fn("0xf8")].push(n),r.end[Fn("0x3b")](e[i][Fn("0x47")])&&e[i][Fn("0xb9")][Fn("0x9a")](n)}[Fn("0x19")](e,t){let i=[],n=0,r=0;for(;n<e[Fn("0x51")]||r<t.length;){const o=e[n]||{},s=t[r]||{};if(o.id==s.id)n++,r++,i[Fn("0x9a")](o);else if(s.isRemoved&&o[Fn("0xa3")]){const{commonTape:o,iEnd:s,jEnd:a}=this[Fn("0x7a")](e,n,t,r);i=i[Fn("0x30")](o),n=s,r=a}else s[Fn("0x95")]?(r++,i[Fn("0x9a")](s)):(n++,i[Fn("0x9a")](o))}return i}[Fn("0x2a")](e,t){const i=[];for(let o=0;o<e[Fn("0x51")];o++){for(let r=0;r<e[o][Fn("0xf8")][Fn("0x51")];r++){const s=e[o][Fn("0xf8")][r];if(!t[Fn("0x37")](s))continue;const{group:a,type:c,authorId:u}=n(s);Fn("0x7e")!=a||Fn("0x66")!=c&&Fn("0x96")!=c||(i[Fn("0xc1")]({type:c,name:s,userId:u}),e[o].markersStart[Fn("0x35")](r,1),r--)}r(e[o]);for(let r=0;r<e[o].markersEnd.length;r++){const s=e[o].markersEnd[r];if(!t.has(s))continue;const{group:a,type:c}=n(s);if(Fn("0x7e")!=a||Fn("0x66")!=c&&"deletion"!=c)continue;e[o][Fn("0xb9")][Fn("0x35")](r,1),r--;const u=i[Fn("0x46")]((e=>e.name==s));u>-1&&i[Fn("0x35")](u,1)}}function n(e){const t=e.split(":");return{group:t[0],type:t[1],subType:t[Fn("0x51")]>=5?t[2]:null,id:t.length<5?t[2]:t[3],authorId:t[Fn("0x51")]<5?t[3]:t[4],markerCount:6==t[Fn("0x51")]?t[5]:null}}function r(e){for(let t=0;t<i[Fn("0x51")];t++){if(e.isAdded&&Fn("0x66")==i[t][Fn("0xa7")])return e[Fn("0xbc")]=i[t],void delete e[Fn("0xa3")];if(!e[Fn("0xa3")]&&!e[Fn("0x95")]&&Fn("0x96")==i[t][Fn("0xa7")])return void(e.isRemoveSuggestion=i[t])}}}_setDistance(e,t){let i=0,n=!1;const r=new Map;for(const o of e)o[t]?n&&(i++,n=!1):(i++,n=!0),r[Fn("0xa6")](o.id,i);for(let i=0;i<e.length;i++){if(Fn("0x95")==t&&e[i][Fn("0xa3")]||Fn("0xa3")==t&&e[i][Fn("0x95")])continue;if("text"==e[i][Fn("0xa7")]){e[i][Fn("0x58")]=0;continue}const n=r[Fn("0x91")](e[i][Fn("0xef")]),o=r.get(e[i].id);e[i][Fn("0x58")]=n-o}}[Fn("0xf5")](e,t,i=!1){const n=[];let r=this[Fn("0x85")][Fn("0xb4")](e),o=this[Fn("0x85")].getIndex(t);for(-1==o&&(o=this.repository._revisions[Fn("0x51")],i=!1);r<o;)n[Fn("0x9a")](this[Fn("0x85")][Fn("0xca")](r)),r++;return i&&n.push(this[Fn("0x85")][Fn("0xca")](r)),n}[Fn("0x7a")](e,t,i,n){const r=this[Fn("0x4c")][Fn("0xea")][Fn("0x1c")];let o=t;for(;e[o]&&e[o][Fn("0xa3")];)o++;let s=n;for(;i[s]&&i[s][Fn("0x95")];)s++;c(e,t,o),c(i,n,s);const a=i[Fn("0x8c")](n,s)[Fn("0x30")](e[Fn("0x8c")](t,o));return a[Fn("0x48")](((e,t)=>e.side!=t[Fn("0x39")]?e[Fn("0x39")]-t.side:e.level!=t.level?e[Fn("0x2f")]-t[Fn("0x2f")]:e[Fn("0x58")]!=t[Fn("0x58")]?t.distance-e[Fn("0x58")]:!!e[Fn("0xa3")]!=!!t[Fn("0xa3")]?-1==e.side||0==e[Fn("0x39")]?e[Fn("0xa3")]?-1:1:e[Fn("0xa3")]?1:-1:e[Fn("0x45")]-t[Fn("0x45")])),{commonTape:a,iEnd:o,jEnd:s};function c(e,t,i){let n=-1,o=Number.POSITIVE_INFINITY,s=!0;for(let a=t;a<i;a++)if(r[Fn("0xd")](e[a][Fn("0x22")])||(s=!1),e[a][Fn("0x22")].startIndex<t&&(n=a),e[a][Fn("0x22")][Fn("0x9")]>=i){o=a;break}s&&(n=i-1);for(let r=t;r<i;r++)e[r][Fn("0x39")]=r<=n?-1:r<o?0:1,e[r][Fn("0x45")]=r;let a=0;for(let i=t;i<=n;i++)0==e[i][Fn("0x58")]?e[i][Fn("0x2f")]=a:(a++,e[i].level=a,a++);for(let n=t;n<i;n++)0==e[n][Fn("0x39")]&&(e[n][Fn("0x2f")]=a);a=0;for(let t=i-1;t>=o;t--)0==e[t][Fn("0x58")]?e[t][Fn("0x2f")]=a:(a--,e[t][Fn("0x2f")]=a,a--)}}[Fn("0xf4")](e){const t=new Map,i=this.editor[Fn("0xea")][Fn("0x1c")];for(let n=1;n<e[Fn("0x51")];n++){let r,o,s;const a=e[n],c=e[n-1];if("text"==a[Fn("0xa7")])continue;if(a[Fn("0xa7")]!=c[Fn("0xa7")])continue;if(!i.isBlock(c[Fn("0x22")])||i[Fn("0xdf")](c.item))continue;if(!i[Fn("0x80")](a.item)||i[Fn("0xdf")](a[Fn("0x22")]))continue;if((e[n][Fn("0xa3")]||e[n].isAddSuggestion)&&e[n-1][Fn("0x95")])r=e[n],o=e[n-1],s=n-1;else{if(!e[n][Fn("0x95")]||!e[n-1][Fn("0xa3")]&&!e[n-1].isAddSuggestion)continue;r=e[n-1],o=e[n],s=n}const u=r[Fn("0x2f")]==o[Fn("0x2f")],d=Math[Fn("0x4b")](r[Fn("0x2f")])<Math.abs(o[Fn("0x2f")])&&0==o[Fn("0x58")];(u||d)&&(t[Fn("0xa6")](o.id,r.id),e[Fn("0x35")](s,1),n--,r[Fn("0xa3")]=!1)}for(let i=0;i<e.length;i++)t.has(e[i][Fn("0xef")])&&(e[i].pairId=t.get(e[i][Fn("0xef")]))}[Fn("0x59")](e){const t=new Set(e[Fn("0xf")]((e=>e.id)));for(let i=0;i<e[Fn("0x51")];i++)t[Fn("0x37")](e[i].pairId)||0==e[i][Fn("0x58")]||(e[i].isIncorrect=!0);return e[Fn("0xe")]((e=>!e[Fn("0x17")]))}[Fn("0x6d")](e){const t=new Set;for(let i=0;i<e[Fn("0x51")];i++){if(t.has(e[i].id)&&e[i][Fn("0x95")]&&(e[i].isIncorrect=!0),e[i][Fn("0x17")])continue;if(0==e[i].distance)continue;if("elementStart"!=e[i][Fn("0xa7")])continue;if(null==e[i][Fn("0xef")])continue;let n=i+1,r=0;for(;e[n].id!=e[i][Fn("0xef")];)Fn("0x3d")==e[n][Fn("0xa7")]?r++:Fn("0xa2")==e[n].type&&r--,n++;if(0!=r)if(e[i][Fn("0x95")])e[i][Fn("0x17")]=!0;else for(;n!=i;)e[n][Fn("0x95")]&&0!=e[n][Fn("0x58")]&&(e[n][Fn("0x17")]=!0,t.add(e[n][Fn("0xef")])),n--}return e.filter((e=>!e[Fn("0x17")]))}[Fn("0xd2")](e){const t=this[Fn("0x4c")][Fn("0xea")].schema;for(let i=0;i<e[Fn("0x51")];i++){if(!(e[i][Fn("0xa3")]||e[i][Fn("0xbc")]||e[i][Fn("0x95")]||e[i][Fn("0xb6")]))continue;if(0==e[i][Fn("0x58")])continue;const n=e[i][Fn("0x22")];t.isBlock(n)||t[Fn("0xdf")](n)||(e[i][Fn("0xa3")]&&delete e[i][Fn("0xa3")],e[i][Fn("0xbc")]&&delete e[i][Fn("0xbc")],e[i].isRemoveSuggestion&&delete e[i][Fn("0xb6")],e[i][Fn("0x95")]&&(e[i].isIncorrect=!0))}return e[Fn("0xe")]((e=>!e[Fn("0x17")]))}[Fn("0xba")](e,t){const i=new o.DocumentFragment,n=[],r=new Map,s=this[Fn("0x4c")][Fn("0xea")],a=s[Fn("0x1c")],c=[i],u={},d={isAdded:[],isRemoved:[],isAddSuggestion:[],isRemoveSuggestion:[]};let l=null;const h=[0];for(let t=0;t<e[Fn("0x51")];t++){let n,a;if(Fn("0x3d")===e[t][Fn("0xa7")]){n=s[Fn("0x4e")](i,h);const r=new o.Element(e[t].item[Fn("0x5c")],e[t].item[Fn("0x43")]());c[0][Fn("0x75")](r),h[Fn("0x9a")](0),c[Fn("0xc1")](r),a=s[Fn("0x4e")](i,h),l=null}else if(Fn("0xa2")===e[t][Fn("0xa7")])c.shift(),n=s.createPositionFromPath(i,h),h[Fn("0x99")](),h[h.length-1]++,a=s.createPositionFromPath(i,h),l=null;else{if(n=s[Fn("0x4e")](i,h),l&&m(l,e[t][Fn("0x22")]))l[Fn("0xe6")]+=e[t][Fn("0x22")].data;else{const i=new o.Text(e[t][Fn("0x22")][Fn("0xac")],e[t][Fn("0x22")][Fn("0x43")]());c[0][Fn("0x75")](i),l=i}h[h[Fn("0x51")]-1]+=e[t][Fn("0x22")][Fn("0xdd")],a=s[Fn("0x4e")](i,h)}for(const i of e[t][Fn("0xf8")])r[Fn("0xa6")](i,{start:n,end:null});f(Fn("0xb6"),t,n,a),f(Fn("0xbc"),t,n,a),f(Fn("0x95"),t,n,a),f(Fn("0xa3"),t,n,a);for(const i of e[t].markersEnd)r.get(i)[Fn("0x41")]=a}for(const[e,t]of r){const n=this[Fn("0x4c")][Fn("0xea")].createRange(t[Fn("0xbf")],t[Fn("0x41")]);i[Fn("0xf1")][Fn("0xa6")](e,n)}return n.sort(((e,t)=>{const n=i.markers[Fn("0x91")](Fn("0x25")+e.id),r=i[Fn("0xf1")].get(Fn("0x25")+t.id);return n[Fn("0xbf")][Fn("0x90")](r.start)?-1:n[Fn("0xbf")].isAfter(r[Fn("0xbf")])?1:n[Fn("0x41")][Fn("0x90")](r[Fn("0x41")])?-1:n.end[Fn("0x18")](r[Fn("0x41")])?1:Fn("0x1")===e[Fn("0xa7")]?-1:1})),{root:i,changes:n};function f(t,i,n,r){const o=!!e[i][t],s=o?e[i][t].userId:null,c=i===e[Fn("0x51")]-1,l=d[t][0],h=a[Fn("0x54")](e[i].item);!u[t]&&o?u[t]={start:n,tapeItem:e[i],userId:s,type:t}:u[t]&&!o?(u[t][Fn("0x41")]=n,v(u[t]),u[t]=null):u[t]&&o&&u[t].userId!==s&&(u[t][Fn("0x41")]=n,l&&l.userId===u[t][Fn("0x4a")]||v(u[t]),u[t]={start:n,tapeItem:e[i],userId:s,type:t}),u[t]&&h&&(Fn("0x3d")!==e[i].type||l&&l[Fn("0x4a")]===s||d[t][Fn("0xc1")]({userId:s,object:e[i][Fn("0x22")],change:u[t]}),Fn("0xa2")===e[i].type&&l&&l.object===e[i][Fn("0x22")]&&(d[t][Fn("0x57")](),u[t]=l[Fn("0x93")])),u[t]&&c&&(u[t].end=r,v(u[t]),u[t]=null)}function v({start:e,end:r,tapeItem:o,userId:a,type:c}){const u=o.item,d=s[Fn("0x1c")][Fn("0x80")](u)&&!s[Fn("0x1c")][Fn("0xdf")](u),l=e[Fn("0xb")]==r[Fn("0x2b")]&&r[Fn("0x23")];if(d&&l)return;const h=s.createRange(e,r),f=t[Fn("0x91")](a),v=new On({author:f,type:Fn("0xa3")==c||Fn("0xbc")==c?Fn("0x1"):Fn("0xbb"),data:{isSuggestion:"isAddSuggestion"==c||"isRemoveSuggestion"==c},createdAt:new Date});n.push(v),i[Fn("0xf1")].set(Fn("0x25")+v.id,h)}function m(e,t){const i=e[Fn("0x43")](),n=t[Fn("0x43")]();for(const e of i){if(e[1]!==t.getAttribute(e[0]))return!1;n[Fn("0xc6")]()}return n.next()[Fn("0xcd")]}}[Fn("0xc3")](){this[Fn("0x4c")][Fn("0x8d")][Fn("0x64")]("upcast")[Fn("0xc7")]({view:Fn("0xa1")}),this[Fn("0x4c")][Fn("0x8d")].for(Fn("0x89"))[Fn("0x67")]({model:Fn("0xa1"),view:e=>{const t=e[Fn("0x88")][Fn("0x32")](":")[1],i=this[Fn("0x13")](t);if(!i)return null;const n=Fn("0x1")==i.type?Fn("0x66"):Fn("0x96"),r=[Fn("0x1b"),Fn("0xa4")+n];return i.data[Fn("0x61")]&&r[Fn("0x9a")](Fn("0xa4")+n+"-new"),this.activeChange==i&&r[Fn("0x9a")](Fn("0x2c")),{classes:r,attributes:{"data-change-id":t}}}}),this[Fn("0x4c")][Fn("0x8d")][Fn("0x64")](Fn("0x49"))[Fn("0x1")]((e=>{e.on("element:pre",((e,t,i)=>{const n=t[Fn("0x6b")][Fn("0x104")](0);if(!n||!n.is("element","code"))return;if(!i.consumable.consume(n,{attributes:["vid_start",Fn("0xda")]}))return;const r=t[Fn("0x6c")][Fn("0xbf")][Fn("0xb")];i[Fn("0x69")][Fn("0xf2")](Fn("0x52"),n[Fn("0xa9")](Fn("0x52")),r),i[Fn("0x69")][Fn("0xf2")](Fn("0xda"),n[Fn("0xa9")]("vid_end"),r)}),{priority:"low"})})),this[Fn("0x4c")][Fn("0x8d")][Fn("0x64")](Fn("0x49"))[Fn("0x1")]((e=>{e.on(Fn("0x62"),((e,t,i)=>{if(!i[Fn("0x60")].consume(t[Fn("0x6b")],{attributes:[Fn("0x52"),Fn("0xda")]}))return;if(t[Fn("0x6c")][Fn("0xe7")])return;const n=t[Fn("0x6c")][Fn("0xbf")][Fn("0xb")];n[Fn("0x50")](Fn("0x52"))||n[Fn("0x50")]("vid")||(i.writer[Fn("0xf2")]("vid_start",t.viewItem[Fn("0xa9")](Fn("0x52")),n),i[Fn("0x69")][Fn("0xf2")](Fn("0xda"),t[Fn("0x6b")][Fn("0xa9")](Fn("0xda")),n))}),{priority:Fn("0x56")})})),this[Fn("0x4c")][Fn("0x8d")][Fn("0x64")](Fn("0x49"))[Fn("0x8b")]({view:{name:Fn("0x65"),attributes:{vid:!0}},model:{key:"vid",value:e=>e.getAttribute(Fn("0xb8"))}}),this[Fn("0x4c")][Fn("0xea")][Fn("0x1c")].on(Fn("0x7c"),((e,[,t])=>{[Fn("0x52"),"vid_end","vid"][Fn("0xa")](t)&&(e.return=!0,e[Fn("0x1f")]())}),{priority:Fn("0xaf")}),this[Fn("0x4c")][Fn("0x8d")][Fn("0x64")](Fn("0xab"))[Fn("0x1")]((e=>{e.on(Fn("0xb7"),((e,t,i)=>{if(" "!=t[Fn("0x22")][Fn("0xac")]||t[Fn("0x22")][Fn("0x2b")][Fn("0xe5")]>1)return;if(!i[Fn("0x60")][Fn("0x33")](t[Fn("0x22")],e[Fn("0x5c")]))return;const n=i[Fn("0x69")],r=i[Fn("0x9e")][Fn("0x20")](t[Fn("0x8a")]);n.wrap(r,n[Fn("0x2d")](Fn("0x65")))}))})),this[Fn("0x4c")][Fn("0x8d")][Fn("0x64")](Fn("0xab"))[Fn("0x94")]({model:Fn("0xa1")}),this[Fn("0x4c")][Fn("0xe0")][Fn("0xc5")].on("addMarker:revision",function(e){const t=e.plugins[Fn("0x91")](Fn("0xe1"));return(i,n,r)=>{const o=n[Fn("0x88")][Fn("0x32")](":")[1],s=t[Fn("0x13")](o);if(!s)return null;const a=Fn("0x1")==s[Fn("0xa7")]?Fn("0x32"):Fn("0x97");if(!r[Fn("0x60")][Fn("0x14")](n[Fn("0xd1")],i[Fn("0x5c")]))return;const c=n[Fn("0xd1")][Fn("0xb0")](),u=n.markerRange.start,d=e[Fn("0xea")][Fn("0x1c")];let l=null,h=null,f=!1,v=!1;for(const e of c){const t=e[Fn("0x22")];f=f||d[Fn("0xc2")](t);const i=r[Fn("0x9e")][Fn("0x86")](t);if(i&&i[Fn("0x106")](Fn("0x53")))return;Fn("0xa2")==e[Fn("0xa7")]&&d[Fn("0x80")](t)&&!d[Fn("0xdf")](t)&&(t.nextSibling||u[Fn("0x55")]?l&&l[Fn("0x2b")]==t||(l=t,m(e.previousPosition),v=!0):h=h||e[Fn("0x83")])}function m(e){const i=r[Fn("0x69")][Fn("0x3")]("span",{class:"ck-suggestion-marker-"+a}),o=r[Fn("0x9e")][Fn("0xd4")](e);s.data.isSuggestion&&r[Fn("0x69")][Fn("0xbe")](Fn("0xa4")+a+"-new",i),t.activeChange==s&&r.writer[Fn("0xbe")](Fn("0x2c"),i),r.writer[Fn("0x1e")](o,i),r[Fn("0x9e")][Fn("0x16")](i,n[Fn("0x88")])}f||v||!h||m(h)}}(this[Fn("0x4c")]),{priority:Fn("0xff")}),this[Fn("0x4c")][Fn("0xe0")][Fn("0xc5")].on(Fn("0x38"),((e,t,i)=>{const n=i[Fn("0x9e")][Fn("0x6f")](t[Fn("0x88")]);if(n)for(const e of n)(e[Fn("0xe2")](Fn("0xd3"))||e.hasClass(Fn("0xb5")))&&(i.mapper[Fn("0xc")](e,t[Fn("0x88")]),i[Fn("0x69")][Fn("0xbb")](e))}),{priority:Fn("0xff")}),this[Fn("0x4c")].editing[Fn("0xc5")].on("addMarker:revision",((e,t,i)=>{const n=t[Fn("0x88")].split(":")[1],r=this[Fn("0x13")](n);if(!r)return null;const o=Fn("0x1")==r.type?Fn("0x32"):Fn("0x97");if(i[Fn("0x60")][Fn("0x14")](t.markerRange,e[Fn("0x5c")]))for(const e of t.markerRange[Fn("0x87")]()){if(!e.is(Fn("0x62"),Fn("0xd5")))continue;const n=i[Fn("0x69")][Fn("0x3")](Fn("0x65"),{class:Fn("0xa4")+o}),s=i.mapper.toViewPosition(this[Fn("0x4c")][Fn("0xea")].createPositionBefore(e));r[Fn("0xac")][Fn("0x61")]&&i[Fn("0x69")][Fn("0xbe")]("ck-suggestion-marker-"+o+Fn("0x73"),n),this[Fn("0x28")]==r&&i[Fn("0x69")].addClass("ck-suggestion-marker--active",n),i[Fn("0x69")].insert(s,n),i[Fn("0x9e")][Fn("0x16")](n,t.markerName)}}),{priority:"high"}),this[Fn("0x4c")][Fn("0x8d")].for("upcast").dataToMarker({view:Fn("0x7e")}),this[Fn("0x4c")][Fn("0x8d")][Fn("0x64")]("dataDowncast").markerToData({model:Fn("0x7e")}),this[Fn("0x4c")].conversion[Fn("0x64")](Fn("0x89"))[Fn("0x67")]({model:Fn("0x7e"),view:e=>{const t=e[Fn("0x88")].split(":")[1];return Fn("0x66")!=t&&Fn("0x96")!=t?null:{classes:[Fn("0xe9"),Fn("0x3a")+t]}}}),this.editor[Fn("0xe0")][Fn("0xc5")].on(Fn("0x2e"),Pn(this[Fn("0x4c")],Fn("0x97")),{priority:Fn("0xff")}),this[Fn("0x4c")][Fn("0xe0")][Fn("0xc5")].on(Fn("0xb3"),Pn(this[Fn("0x4c")],Fn("0x32")),{priority:Fn("0xff")}),this.editor[Fn("0xe0")][Fn("0xc5")].on(Fn("0x7b"),((e,t,i)=>{const n=i.mapper[Fn("0x6f")](t[Fn("0x88")]);if(n)for(const e of n)e.is(Fn("0x1a"))&&(i[Fn("0x9e")][Fn("0xc")](e,t[Fn("0x88")]),i.writer.remove(e))}),{priority:Fn("0xff")})}[Fn("0x13")](e){return this[Fn("0x4f")][Fn("0x91")](e)}[Fn("0x10")](e){this[Fn("0x0")]&&this[Fn("0x0")][Fn("0x84")](),this[Fn("0x0")]=new kn(this[Fn("0x4c")][Fn("0xe3")],e);const t=this[Fn("0x4c")][Fn("0xea")][Fn("0xf1")][Fn("0x91")](Fn("0x25")+e.id);return this[Fn("0x0")][Fn("0x11")]=()=>(0,r.getMarkerDomElement)(this[Fn("0x4c")][Fn("0xe0")],t),this[Fn("0x0")]}[Fn("0x8")](){this[Fn("0x4c")].model[Fn("0xbd")][Fn("0x5f")][Fn("0x74")]("revision"),this.on("change:activeView",((e,t,i,n)=>{n&&this[Fn("0xd7")][Fn("0xbb")](n),i&&(this[Fn("0xd7")][Fn("0x1")]({view:i,stackId:Fn("0x92"),position:{target:i._target}}),this[Fn("0xd7")].showStack("revisionHistoryLabel"))})),this.on("change:activeChange",((e,t,i,n)=>{this[Fn("0xec")]=i?this[Fn("0x10")](i):null,this[Fn("0x4c")][Fn("0xea")][Fn("0x93")]((()=>{const e=this.editor[Fn("0xe0")];n&&e[Fn("0xf9")]("revision:"+n.id),i&&e.reconvertMarker(Fn("0x25")+i.id)}))})),this[Fn("0xd0")](this.editor[Fn("0xe0")][Fn("0xae")].document,Fn("0x105"),((e,t)=>{if(this[Fn("0x28")])return;const i=this[Fn("0xfb")](t[Fn("0x102")]),n=this[Fn("0x4f")][Fn("0x91")](i);this[Fn("0xec")]=n?this[Fn("0x10")](n):null})),this[Fn("0xd0")](this[Fn("0x4c")][Fn("0xe0")][Fn("0xae")][Fn("0xbd")],Fn("0x3e"),((e,t)=>{const i=this[Fn("0xfb")](t[Fn("0x102")]),n=this[Fn("0x4f")][Fn("0x91")](i);this[Fn("0x28")]=n||null}))}[Fn("0xfb")](e){do{const t=e[Fn("0xa9")]("data-change-id");if(t)return t;e=e[Fn("0x2b")]}while(e);return null}[Fn("0xa8")](){this[Fn("0x4c")][Fn("0xea")][Fn("0x93")]((e=>{for(const t of this[Fn("0x4c")].model[Fn("0xf1")])e[Fn("0xd6")](t)}))}}function Pn(e,t){return(i,n,r)=>{if(!r[Fn("0x60")][Fn("0x14")](n[Fn("0xd1")],i[Fn("0x5c")]))return;const o=n.markerRange[Fn("0xb0")](),s=n[Fn("0xd1")][Fn("0xbf")],a=e[Fn("0xea")][Fn("0x1c")];let c=null,u=null,d=!1,l=!1;for(const e of o){const t=e[Fn("0x22")];d=d||a[Fn("0xc2")](t);const i=r.mapper.toViewElement(t);if(i&&i[Fn("0x106")]("addHighlight"))return;"elementEnd"==e.type&&a.isBlock(t)&&!a.isLimit(t)&&(t[Fn("0x21")]||s[Fn("0x55")]?c&&c[Fn("0x2b")]==t||(c=t,h(e.previousPosition),l=!0):u=u||e[Fn("0x83")])}function h(e){const i=r[Fn("0x9e")][Fn("0xd4")](e),o=r[Fn("0x69")][Fn("0x3")](Fn("0x65"),{class:Fn("0x3a")+t});r[Fn("0x69")].insert(i,o),r[Fn("0x9e")][Fn("0x16")](o,n[Fn("0x88")])}d||l||!u||h(u)}}(0,t.mix)(Ln,t.ObservableMixin);class zn extends e.Command{constructor(e){super(e);const t=e[Fn("0x101")][Fn("0x91")](Ln);this.stopListening(e,Fn("0xfe")),this[Fn("0x7d")](Fn("0x100")),this.listenTo(t,Fn("0xc8"),(()=>this.refresh())),this[Fn("0xd0")](t,"change:isEnabled",(()=>this[Fn("0x4")]()))}[Fn("0x5a")](){const e=this.editor,t=e[Fn("0x101")][Fn("0x91")](Ln),i=t.isReady?t[Fn("0x1d")].newRevisionId:null;e[Fn("0x26")][Fn("0x91")](Fn("0x44"))[Fn("0xde")](i)}refresh(){const{isReady:e,isEnabled:t}=this[Fn("0x4c")][Fn("0x101")][Fn("0x91")](Ln);this.isEnabled=e&&t}}class Zn extends e.Command{constructor(e,{direction:t}){super(e);const i=e[Fn("0x101")][Fn("0x91")](Ln);this[Fn("0x5")](e,Fn("0xfe")),this[Fn("0x7d")](Fn("0x100")),this._step="forward"===t?1:-1,this[Fn("0xd0")](i,"change:isReady",(()=>this[Fn("0x4")]())),this[Fn("0xd0")](i,Fn("0x5e"),(()=>this[Fn("0x4")]()))}[Fn("0x5a")](){const e=this[Fn("0x4c")],i=e[Fn("0x101")][Fn("0x91")](Ln),{isNavigationMode:n,currentChangeNumber:o}=i;i[Fn("0x28")]=n?i[Fn("0x1d")].changes.get(o+this[Fn("0x6e")]):i[Fn("0x1d")][Fn("0xe4")][Fn("0xb1")];const s=e[Fn("0xea")][Fn("0xf1")][Fn("0x91")](Fn("0x25")+i[Fn("0x28")].id),a=(0,r.getMarkerDomElement)(e.editing,s);(0,t.scrollViewportToShowTarget)({target:a,viewportOffset:40})}[Fn("0x4")](){const{isNavigationMode:e,currentChangeNumber:t,numberOfChanges:i,isReady:n,isEnabled:r}=this[Fn("0x4c")][Fn("0x101")][Fn("0x91")](Ln);this[Fn("0xd9")]=!!(r&&n&&i)&&(!e||(1===this[Fn("0x6e")]?t<i-1:t>0))}}var Un=i(983),Hn=i.n(Un),Bn=i(418),qn=i.n(Bn),Wn=i(164),Jn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};hn()(Wn.Z,Jn);Wn.Z.locals;class Gn extends sn.View{constructor(e){super(e);const t=e.t,i=this.bindTemplate,n=new sn.ButtonView(e),r=new sn.ButtonView(e);this.set("isNavigationMode",!1),this.set("isReady",!1),this.set("currentChangeNumber",0),this.set("numberOfChanges",0),this.set("isForwardNavigationEnabled",!1),this.set("isBackwardNavigationEnabled",!1),this.bind("_isStatusLabelVisible").to(this,"isReady",this,"numberOfChanges",((e,t)=>e&&t>0)),this.bind("_statusText").to(this,"isReady",this,"currentChangeNumber",this,"numberOfChanges",this,"isNavigationMode",((e,i,n,r)=>{if(!e)return t("Loading...");if(!n)return t("No changes");const o=t({string:"%0 change",plural:"%0 changes",id:"NUMBER_OF_CHANGES"},n);return r?t({string:"%0 of %1",id:"X_OF_Y_CHANGES"},[i+1,n]):o})),n.set({label:t("Show previous change"),tooltip:!0,icon:Hn()}),r.set({label:t("Show next change"),tooltip:!0,icon:qn()}),n.bind("isEnabled").to(this,"isBackwardNavigationEnabled"),r.bind("isEnabled").to(this,"isForwardNavigationEnabled"),n.on("execute",(()=>this.fire("execute","backward"))),r.on("execute",(()=>this.fire("execute","forward"))),this.setTemplate({tag:"div",attributes:{class:["ck","ck-revision-history-ui","ck-revision-history-ui__changes-navigation"]},children:[{tag:"span",attributes:{class:["ck-revision-history-ui__changes-navigation__wrapper"]},children:[{tag:"span",attributes:{class:["ck-revision-history-ui__changes-navigation__label",i.if("_isStatusLabelVisible","ck-hidden",(e=>!e))]},children:[{text:i.to("isNavigationMode",(e=>e?t({string:"Edit",id:"EDIT_X_OF_Y_REVISIONS"})+": ":t("Total")+": "))}]},{text:i.to("_statusText")}]},new sn.ToolbarSeparatorView,{tag:"div",attributes:{class:["ck-revision-history-ui__changes-navigation__navigation"]},children:[n,r]}]})}}var Yn=i(368),$n={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};hn()(Yn.Z,$n);Yn.Z.locals;const Kn=["editor","view","pluginName","roots","removeClass","show","document","ck-editor__editable__loading-overlay","hide","editing","change"];var Qn,Xn;Qn=Kn,Xn=213,function(e){for(;--e;)Qn.push(Qn.shift())}(++Xn);const er=function(e,t){return Kn[e-=0]};class tr extends e.Plugin{static get[er("0x9")](){return"RevisionViewerLoadingOverlay"}[er("0x1")](){const e=this[er("0x7")][er("0x5")][er("0x8")];e.change((t=>{for(const i of e.document[er("0xa")])t.addClass("ck-editor__editable__loading-overlay",i)}))}[er("0x4")](){const e=this[er("0x7")].editing[er("0x8")];e[er("0x6")]((t=>{for(const i of e[er("0x2")][er("0xa")])t[er("0x0")](er("0x3"),i)}))}}var ir=i(490),nr=i.n(ir);class rr extends e.Plugin{static get pluginName(){return"RevisionViewerUI"}static get requires(){return[Ln,tr]}init(){const e=this.editor,t=e.plugins.get(Ln),i=e.plugins.get(tr),n=e.t;e.ui.componentFactory.add("exitToEditing",(t=>{const i=new sn.ButtonView(t);return i.set({label:n("Back to editing"),icon:nr(),withText:!0,tooltip:!0,class:"ck-revision-history-ui__back-to-editing"}),this.listenTo(i,"execute",(()=>{e.config.get("revisionHistory").closeRevisionViewerCallback()})),i})),e.ui.componentFactory.add("restoreRevision",(t=>{const i=new sn.ButtonView(t);return i.set({label:n("Restore this revision"),withText:!0,tooltip:!0}),i.bind("isEnabled").to(e.commands.get("restoreRevision")),this.listenTo(i,"execute",(()=>e.execute("restoreRevision"))),i})),e.ui.componentFactory.add("changesNavigation",(i=>{const n=new Gn(i),r=e.commands.get("showPreviousChange"),o=e.commands.get("showNextChange");return n.bind("isBackwardNavigationEnabled").to(r,"isEnabled"),n.bind("isForwardNavigationEnabled").to(o,"isEnabled"),n.bind("isReady","currentChangeNumber","numberOfChanges","isNavigationMode").to(t),this.listenTo(n,"execute",((t,i)=>{e.execute("forward"===i?"showNextChange":"showPreviousChange")})),n})),i.show(),t.on("change:isReady",((e,t,n)=>{n?i.hide():i.show()}))}}var or=i(957),sr={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};hn()(or.Z,sr);or.Z.locals;class ar extends sn.LabeledFieldView{constructor(...e){super(...e);const t=this.t;this.set({label:t("Revision name")}),this.extendTemplate({tag:"span",attributes:{class:["ck-revision-history-sidebar__revision-name"]}})}}var cr=i(874),ur=i.n(cr),dr=i(522),lr={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};hn()(dr.Z,lr);dr.Z.locals;class hr extends sn.View{constructor(e,t,i){super(e);const n=e.t,r=new sn.IconView(e);r.set({content:ur(),viewBox:"0 0 11 10"});const o=["ck","ck-revision-history-sidebar__revision-author"];i&&o.push("ck-revision-history-sidebar__revision-author_creator");const s=[{tag:"span",attributes:{class:["ck","ck-revision-history-sidebar__revision-author__name"],title:n(i?"Revision creator":"Revision author")},children:[r,t.name]}];this.setTemplate({tag:"li",attributes:{class:o},children:s})}}var fr,vr,mr=["long","toLocaleDateString","toLocaleTimeString","numeric"];fr=mr,vr=483,function(e){for(;--e;)fr.push(fr.shift())}(++vr);var xr=function(e,t){return mr[e-=0]};var gr=i(677),pr=i.n(gr),yr=i(834),br={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};hn()(yr.Z,br);yr.Z.locals;var kr=i(525),_r={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};hn()(kr.Z,_r);kr.Z.locals;const wr=["div","ck-disabled","ck-revision-history-sidebar__revision__controls-wrapper","set","ck-revision-history-sidebar__actions_dropdown_open","ck-revision-history-sidebar__revision-wrapper_confirmation_visible","ck-revision-history-sidebar__revision","unhighlight","element","deselect","select","change","bindTemplate","bind","revisionNameView","render","creator","fire","ck-reset","from","isEnabled","fieldView","ck-revision-history-sidebar__revision-authors","revisionActionsView","highlight","length","isConfirm","isSelected","unshift","createdAt","_revision","uiLanguage","value","setTemplate","ck-revision-history-sidebar__revision_selected","filter","span","srcElement","isActionsDropdownOpen","ck-revision-history-sidebar__revision_highlighted","isHighlighted","isReady","authors","_createdAtFormatted","map"];var Sr,Rr;Sr=wr,Rr=104,function(e){for(;--e;)Sr.push(Sr.shift())}(++Rr);const Or=function(e,t){return wr[e-=0]};class Tr extends sn.View{constructor(e,i,n){super(e);const r=this[Or("0x2b")],o=function(e,t){const i=Array[Or("0x5")](t[Or("0x1c")])[Or("0x15")]((e=>e!=t[Or("0x2")]));return t[Or("0x2")]&&i[Or("0xe")](t.creator),i[Or("0x1e")]((i=>new hr(e,i,i==t[Or("0x2")])))}(e,i);this[Or("0x10")]=i,this.id=i.id,this[Or("0x2c")]("name",Or("0xf")).to(i),this[Or("0x22")](Or("0xd"),!1),this.set(Or("0x1a"),!1),this[Or("0x22")]("isActionsDropdownOpen",!1),this.set(Or("0x1b"),!1),this[Or("0x2c")](Or("0x1d")).to(this,Or("0xf"),(t=>{return t?(i=e[Or("0x11")],(n=t)[xr("0x2")](i,{month:xr("0x1"),day:xr("0x0")})+", "+n[xr("0x3")](i,{hour:xr("0x0"),minute:xr("0x0")})):null;var i,n})),this.set(Or("0x6"),!1),this[Or("0x0")]=new ar(e,sn.createLabeledInputText),this[Or("0x0")][Or("0x7")].extendTemplate({attributes:{maxlength:"220"}}),this[Or("0x0")][Or("0x7")][Or("0x2c")]("value","placeholder").to(this,"name",Or("0x1d")),this[Or("0x0")][Or("0x2c")](Or("0x6")).to(this,"isSelected",this,Or("0x6"),((e,t)=>e&&t)),this.revisionActionsView=n&&n[Or("0xb")]?function(e,i){const n=e.bindTemplate,r=e.locale,o=r.t,s=(0,sn.createDropdown)(r);s.panelPosition="sw";const a=function(e,i){const n=function(e,t){const i=e.locale.t,n={"Compare against selected":i("Compare against selected"),"Name this revision":i("Name this revision"),"Restore this revision":i("Restore this revision")};return t.map((e=>{const t=n[e.name];return t&&t!==e.name&&(e.name=t),e}))}(e,i),r=new t.Collection;for(const t of n){const i={type:"button",model:new sn.Model({label:t.name,class:t.class,withText:!0,_action:t.action})};i.model.bind("isVisible").to(e,"isActionsDropdownOpen",(i=>"function"!=typeof t.isVisible||!i||t.isVisible(e))),i.model.bind("isEnabled").to(e,"isActionsDropdownOpen",(i=>"function"!=typeof t.isEnabled||!i||t.isEnabled(e))),r.add(i)}return r}(e,i);return e.bind("isActionsDropdownOpen").to(s,"isOpen"),s.buttonView.set({label:o("Show more items"),tooltip:!0,tooltipPosition:"sw",icon:pr()}),s.extendTemplate({attributes:{class:["ck-revision-history-sidebar__revision__actions",n.if("isActionsDropdownOpen","ck-on")]},on:{click:n.to((e=>e.stopPropagation()))}}),s.on("execute",(t=>{e.isReady&&"function"==typeof t.source._action&&t.source._action(e)})),(0,sn.addListToDropdown)(s,a),s}(this,n):"",this[Or("0x9")][Or("0x2c")](Or("0x6")).to(this),this[Or("0x13")]({tag:Or("0x1f"),attributes:{class:["ck",Or("0x4"),"ck-revision-history-sidebar__revision-wrapper",r.if(Or("0xc"),Or("0x24"))]},children:[{tag:Or("0x1f"),attributes:{class:["ck",Or("0x4"),Or("0x25"),r.if(Or("0x6"),Or("0x20"),(e=>!e)),r.if(Or("0xd"),Or("0x14")),r.if(Or("0x1a"),Or("0x19")),r.if(Or("0x18"),Or("0x23"))]},children:[this[Or("0x0")],{tag:Or("0x16"),attributes:{class:["ck","ck-revision-history-sidebar__revision__date"]},children:[{text:r.to(Or("0x1d"))}]},{tag:Or("0x1f"),attributes:{class:["ck",Or("0x21")]},children:[{tag:"ul",attributes:{class:["ck",Or("0x8")]},children:o}]},this[Or("0x9")]],on:{click:r.to((e=>{e[Or("0x17")].closest(".ck-thread__remove-confirm")||this[Or("0x1b")]&&this[Or("0x6")]&&this[Or("0x3")](Or("0x29"),{id:this.id})}))}}]})}[Or("0x1")](){super[Or("0x1")]();const e=this.revisionNameView[Or("0x7")][Or("0x27")];this.listenTo(e,Or("0x2a"),(()=>{this[Or("0x3")]("setName",{id:this.id,name:e[Or("0x12")]})}))}[Or("0x29")](){this[Or("0xd")]=!0}[Or("0x28")](){this[Or("0xd")]=!1}[Or("0xa")](){this.isHighlighted=!0}[Or("0x26")](){this[Or("0x1a")]=!1}}(0,t.mix)(Tr,r.ConfirmMixin);var Ir=i(810);const Vr=["toRelativeCalendar","local","hasSame","year","startOf","month","day","fromJSDate","week","toJSDate","minus"];var Mr,Nr;Mr=Vr,Nr=261,function(e){for(;--e;)Mr.push(Mr.shift())}(++Nr);const Er=function(e,t){return Vr[e-=0]};function Ar(e,t){e=Ir.ou[Er("0xa")](e).setLocale(t);const i=Ir.ou[Er("0x4")](),n=i[Er("0x2")]({days:1})[Er("0x7")](Er("0x9"));let r,o;return e.hasSame(i,Er("0x9"))?(r=e[Er("0x7")]("day").toJSDate(),o=e[Er("0x3")]()):e.hasSame(n,Er("0x9"))?(r=n[Er("0x1")](),o=e[Er("0x3")]()):e.hasSame(i,Er("0x0"))?(r=e.startOf(Er("0x0")).toJSDate(),o=e.weekdayLong):e[Er("0x5")](i,Er("0x6"))?(r=e[Er("0x7")](Er("0x8"))[Er("0x1")](),o=e.monthLong):(r=e[Er("0x7")](Er("0x6")).toJSDate(),o=e[Er("0x6")]),{startDate:r,localizedPeriodName:o}}var Dr=i(37),jr={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};hn()(Dr.Z,jr);Dr.Z.locals;const Cr=["uiLanguage","div","ck-revision-history-sidebar__time-period","localizedPeriodName","find","locale","ck-revision-history-sidebar__time-period__label","addRevision","delegate","add","_revisionActions","setName","revisionViews","span"];var Fr,Lr;Fr=Cr,Lr=465,function(e){for(;--e;)Fr.push(Fr.shift())}(++Lr);const Pr=function(e,t){return Cr[e-=0]};class zr extends sn.View{constructor(e,t,i){super(e);const n=Ar(t,this[Pr("0x2")][Pr("0xb")])[Pr("0x0")];this.startDate=t,this[Pr("0x7")]=i,this[Pr("0x9")]=this.createCollection(),this[Pr("0x9")][Pr("0x5")]("select").to(this),this[Pr("0x9")].delegate(Pr("0x8")).to(this),this.setTemplate({tag:Pr("0xc"),attributes:{class:["ck",Pr("0xd")]},children:[{tag:Pr("0xa"),attributes:{class:["ck",Pr("0x3")]},children:[{text:n}]},{tag:"div",attributes:{class:["ck","ck-revision-history-sidebar__time-period__revisions"]},children:this[Pr("0x9")]}]})}[Pr("0x4")](e){const t=new Tr(this[Pr("0x2")],e,this[Pr("0x7")]);this.revisionViews[Pr("0x6")](t)}removeRevision(e){const t=this.revisionViews[Pr("0x1")]((t=>t.id===e.id));this[Pr("0x9")].remove(t)}}var Zr=i(29),Ur={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};hn()(Zr.Z,Ur);Zr.Z.locals;class Hr extends sn.View{constructor(e){super(e);const t=e.t,i=new sn.IconView(e);i.content=yn(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset_all","ck-revision-history-sidebar__header"]},children:[i,{tag:"span",attributes:{class:["ck","ck-revision-history-sidebar__header__label"]},children:[t("Revision history")]}]})}}var Br=i(790),qr={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};hn()(Br.Z,qr);Br.Z.locals;const Wr=["setName","removeRevision","isEnabled","createdAt","ck-disabled","get","div","getTime","bindTemplate","startDate","locale","addRevision","createCollection","revisionSelected","map","selectRevision","fire","_getTimePeriodViewByStartDate","setTemplate","some","timePeriodViews","_addRevision","ck-reset","ck-revision-history-sidebar__timeline","_removeRevision","_revisions","deselect","select","_revisionActions","add","highlight","ck-revision-history-sidebar","unhighlight","revisionViews"];var Jr,Gr;Jr=Wr,Gr=296,function(e){for(;--e;)Jr.push(Jr.shift())}(++Gr);const Yr=function(e,t){return Wr[e-=0]};class $r extends sn.View{constructor(e,t,i){super(e);const n=this[Yr("0x12")];this[Yr("0x1e")]=this[Yr("0x16")](),this[Yr("0x1e")].delegate(Yr("0x3")).to(this),this[Yr("0x1e")].delegate(Yr("0xa")).to(this),this[Yr("0x1")]=t,this[Yr("0x4")]=i,this.on("select",((e,t)=>{this[Yr("0x1a")](Yr("0x17"),t)})),this.on(Yr("0xa"),((e,t)=>{this[Yr("0x1a")]("revisionSetName",t)})),this.set(Yr("0xc"),!1),this[Yr("0x1c")]({tag:Yr("0x10"),attributes:{class:["ck",Yr("0x20"),"ck-rounded-corners",Yr("0x7")]},children:[new Hr(e),{tag:Yr("0x10"),attributes:{class:["ck",Yr("0x21"),n.if(Yr("0xc"),Yr("0xe"),(e=>!e))]},children:this[Yr("0x1e")]}]})}render(){super.render();for(const e of this[Yr("0x1")])this[Yr("0x1f")](e);this[Yr("0x1")].on(Yr("0x5"),((e,t)=>{this[Yr("0x1f")](t)})),this._revisions.on("remove",((e,t)=>{this[Yr("0x0")](t)}))}get revisionViews(){return this[Yr("0x1e")][Yr("0x18")]((e=>e.revisionViews[Yr("0x18")]((e=>e)))).flat()}[Yr("0x19")](e){for(const t of this.revisionViews)e&&e.id===t.id?t[Yr("0x3")]():t[Yr("0x2")]()}highlightRevisions(e){for(const t of this[Yr("0x9")])e[Yr("0x1d")]((({id:e})=>e===t.id))?t[Yr("0x6")]():t[Yr("0x8")]()}_addRevision(e){const t=Ar(e[Yr("0xd")]).startDate;let i=this[Yr("0x1e")][Yr("0xf")](0);i&&i.startDate[Yr("0x11")]()===t[Yr("0x11")]()||(i=new zr(this[Yr("0x14")],t,this[Yr("0x4")]),this[Yr("0x1e")].add(i)),i[Yr("0x15")](e)}_removeRevision(e){const t=Ar(e[Yr("0xd")])[Yr("0x13")];this[Yr("0x1b")](t)[Yr("0xb")](e)}[Yr("0x1b")](e){return this.timePeriodViews.find((t=>t.startDate.getTime()===e.getTime()))}}const Kr=["_sidebarView","config","Compare against selected","init","appendChild","isEnabled","_handleDiffChange","setName","isReady","getEarlierVisibleRevision","name","getRevision","diff","requires","nameRevision","RevisionsSidebar","repository","restoreRevision","change:diff","_handleRevisionSelected","restoreRevisionCallback","selectRevision","_createRevisionActions","action","plugins","bind","focus","highlightRevisions","availableRevisionActions","revisionHistory.revisionActions","get","ready","element","isSelected","isVisible","revisionHistory","_revisionsRepository","select","revisionSetName","_handleRevisionSetName","_revisionViewer","compare","remove","fieldView","locale","timePeriodViews","getIndex","Restore this revision","map","listenTo","add","revisionViews","newRevisionId","getRevisionsInDiff","editor","_handleEditorDataReady","render","Name this revision","compareAgainstSelected","defaultRevisionActions"];var Qr,Xr;Qr=Kr,Xr=271,function(e){for(;--e;)Qr.push(Qr.shift())}(++Xr);const eo=function(e,t){return Kr[e-=0]};class to extends e.Plugin{static get pluginName(){return eo("0x2c")}static get[eo("0x2a")](){return[Ln]}constructor(e){super(e),this._revisionViewer=e[eo("0x35")].get(Ln),this[eo("0x5")]=this._revisionViewer[eo("0x2d")],this._sidebarView=null}[eo("0x20")](){const e=this[eo("0x5")]._revisions,t=this._createRevisionActions(),i=this[eo("0x17")][eo("0x1e")][eo("0x3b")]("revisionHistory.viewerSidebarContainer");this._sidebarView=new $r(this[eo("0x17")][eo("0xd")],e,t),this[eo("0x1d")].on("revisionSelected",this[eo("0x30")].bind(this)),this[eo("0x1d")].on(eo("0x7"),this[eo("0x8")][eo("0x36")](this)),this[eo("0x1d")][eo("0x36")](eo("0x22")).to(this[eo("0x9")]),this._sidebarView[eo("0xe")].on("add",((e,t)=>{t[eo("0x14")].on(eo("0x13"),((e,t)=>{t.bind(eo("0x22"),eo("0x25")).to(this[eo("0x9")])}))})),this._sidebarView[eo("0x19")](),this[eo("0x12")](this[eo("0x17")].data,eo("0x0"),this._handleEditorDataReady[eo("0x36")](this)),this.listenTo(this[eo("0x9")],eo("0x2f"),this[eo("0x23")].bind(this)),i[eo("0x21")](this[eo("0x1d")][eo("0x1")])}destroy(){this[eo("0x1d")].element[eo("0xb")](),this[eo("0x1d")].destroy()}[eo("0x18")](){const e=this[eo("0x5")][eo("0x28")](0);if(e){const t=this[eo("0x5")][eo("0x26")](e.id);this._revisionViewer.compare(e,t)}}_handleRevisionSelected(e,t){const i=this[eo("0x5")][eo("0x28")](t.id),n=this[eo("0x5")][eo("0x26")](i.id);this[eo("0x9")][eo("0xa")](i,n)}[eo("0x8")](e,t){this._revisionsRepository[eo("0x28")](t.id)[eo("0x24")](t[eo("0x27")])}[eo("0x23")](e,t,i){const n=this._revisionsRepository[eo("0x16")](i);n.length>2?(this._sidebarView.highlightRevisions(n),this._sidebarView[eo("0x32")](null)):(this._sidebarView[eo("0x38")]([]),this[eo("0x1d")][eo("0x32")](n[0]))}[eo("0x33")](){const e=this.editor,t=to.availableRevisionActions,i=e[eo("0x1e")][eo("0x3b")](eo("0x3a"))||to[eo("0x1c")];if(i.length)return i[eo("0x11")]((i=>{const n="string"==typeof i?Object.assign({},t[i]):i;return n[eo("0x34")]=n[eo("0x34")][eo("0x36")](this,e),n[eo("0x3")]&&(n[eo("0x3")]=n.isVisible.bind(this,e)),n}))}}to[eo("0x39")]={compareAgainstSelected:{name:eo("0x1f"),action:({plugins:e},t)=>{const i=e.get(Ln),n=i[eo("0x2d")];let r=i[eo("0x29")][eo("0x15")],o=t.id;n[eo("0xf")](r)>n.getIndex(o)&&([r,o]=[o,r]),i[eo("0xa")](r,o)},isVisible:({plugins:e},t)=>{const i=e.get(Ln);return!(i.repository[eo("0x16")](i[eo("0x29")]).length>2||t[eo("0x2")])}},restoreRevision:{name:eo("0x10"),action:(e,{id:t})=>{e[eo("0x1e")][eo("0x3b")](eo("0x4"))[eo("0x31")](t)},isVisible:({plugins:e},t)=>!!e[eo("0x3b")](Ln)[eo("0x2d")].getLaterVisibleRevision(t.id)},nameRevision:{name:eo("0x1a"),action:({plugins:e},{id:t,revisionNameView:i})=>{const n=e[eo("0x3b")](Ln),r=n.repository[eo("0x26")](t);n[eo("0xa")](t,r),i[eo("0x37")](),i[eo("0xc")][eo("0x6")]()}}},to[eo("0x1c")]=[eo("0x1b"),eo("0x2e"),eo("0x2b")];const io=["limiterElement","restore","name","rootName","componentFactory","toolbar","render","config","add","focusTracker","init","editable","stickyPanel","element","detachDomRoot","keystrokes","viewportTopOffset","bind","editing","fire","_elementReplacer","setEditableElement","destroy","replace","ready","editor","viewportOffset","attachDomRoot","_toolbarConfig","fillFromConfig","_initToolbar","isFocused","document","getRoot","view"];var no,ro;no=io,ro=389,function(e){for(;--e;)no.push(no.shift())}(++ro);const oo=function(e,t){return io[e-=0]};class so extends e.EditorUI{constructor(e,i){super(e),this[oo("0x1e")]=i,this[oo("0x18")]=(0,sn.normalizeToolbarConfig)(e[oo("0x3")].get("toolbar")),this[oo("0x10")]=new t.ElementReplacer}get element(){return this[oo("0x1e")][oo("0x9")]}[oo("0x6")](e){const t=this.editor,i=this[oo("0x1e")],n=t[oo("0xe")].view,r=i[oo("0x7")],o=n[oo("0x1c")][oo("0x1d")]();r[oo("0x21")]=o[oo("0x22")],i[oo("0x2")]();const s=r[oo("0x9")];this[oo("0x11")](r[oo("0x21")],s),this[oo("0x5")][oo("0x4")](s),i.editable.bind(oo("0x1b")).to(this.focusTracker),n[oo("0x17")](s),this[oo("0x10")][oo("0x13")](e,this.element),this[oo("0x1a")](),this[oo("0xf")](oo("0x14"))}destroy(){const e=this[oo("0x1e")],t=this[oo("0x15")][oo("0xe")].view;this[oo("0x10")][oo("0x20")](),t[oo("0xa")](e.editable.name),e.destroy(),super[oo("0x12")]()}[oo("0x1a")](){const e=this.editor,t=this[oo("0x1e")],i=e[oo("0xe")][oo("0x1e")];t.stickyPanel[oo("0xd")]("isActive").to(this[oo("0x5")],oo("0x1b")),t[oo("0x8")][oo("0x1f")]=t.element,t.stickyPanel[oo("0xd")](oo("0xc")).to(this,oo("0x16"),(({top:e})=>e)),t[oo("0x1")][oo("0x19")](this[oo("0x18")],this[oo("0x0")]),(0,sn.enableToolbarKeyboardFocus)({origin:i,originFocusTracker:this[oo("0x5")],originKeystrokeHandler:e[oo("0xb")],toolbar:t[oo("0x1")]})}}var ao=i(168),co={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};hn()(ao.Z,co);ao.Z.locals;var uo,lo,ho=["editable","toolbar","stickyPanel","main","add"];uo=ho,lo=299,function(e){for(;--e;)uo.push(uo.shift())}(++lo);var fo=function(e,t){return ho[e-=0]};class vo extends sn.BoxedEditorUIView{constructor(e,t,i={}){super(e),this[fo("0x3")]=new sn.StickyPanelView(e),this.toolbar=new sn.ToolbarView(e,{shouldGroupWhenFull:i.shouldToolbarGroupWhenFull}),this[fo("0x1")]=new sn.InlineEditableUIView(e,t)}render(){super.render(),this.stickyPanel.content[fo("0x0")](this[fo("0x2")]),this.top[fo("0x0")](this[fo("0x3")]),this[fo("0x4")][fo("0x0")](this[fo("0x1")])}}const mo=["sourceElement","createRoot","destroy","data","get","init","initPlugins","updateSourceElement","model","editing","initialData","fire","config","view","create","document","ready"];var xo,go;xo=mo,go=170,function(e){for(;--e;)xo.push(xo.shift())}(++go);const po=function(e,t){return mo[e-=0]};class yo extends e.Editor{constructor(e,t){super(t),this[po("0x0")]=e,this[po("0x8")][po("0xf")][po("0x1")]();const i=new vo(this.locale,this[po("0x9")][po("0xd")],{shouldToolbarGroupWhenFull:!0});this.ui=new so(this,i)}destroy(){return this[po("0x7")](),this.ui[po("0x2")](),super[po("0x2")]()}static async[po("0xe")](e,t){const i=new this(e,t);return await i[po("0x6")](),await i.ui[po("0x5")](e),await i[po("0x3")].init(i[po("0xc")][po("0x4")](po("0xa"))),i[po("0xb")](po("0x10")),i}}(0,t.mix)(yo,e.DataApiMixin),(0,t.mix)(yo,e.ElementApiMixin);const bo=["RevisionTracker","RevisionHistoryUI","WebSocketGateway","CommentsRepository","TrackChangesEditing","RestrictedEditingMode","Autosave"];class ko extends e.Plugin{static get pluginName(){return"RevisionHistory"}static get requires(){return[en,bn]}constructor(...e){if(super(...e),!this.editor.config.get("revisionHistory"))throw new t.CKEditorError("revision-history-missing-configuration",this);this._viewerEditor=null,this.editor.config.define("revisionHistory.showRevisionViewerCallback",(e=>this._showRevisionViewer(e))),this.editor.config.define("revisionHistory.closeRevisionViewerCallback",(e=>this._closeRevisionViewer(e))),this.editor.config.define("revisionHistory.restoreRevisionCallback",(e=>this._restoreRevision(e))),this._enhanceShowRevisionViewerCallback(),this._enhanceCloseRevisionViewerCallback()}set adapter(e){this.editor.plugins.get("RevisionTracker").adapter=e}get adapter(){return this.editor.plugins.get("RevisionTracker").adapter}addRevisionData(...e){return this.editor.plugins.get("RevisionTracker").addRevisionData(...e)}getRevision(...e){return this.editor.plugins.get("RevisionsRepository").getRevision(...e)}getRevisions(...e){return this.editor.plugins.get("RevisionsRepository").getRevisions(...e)}_getRevisionViewerEditorConfig(){const i={},n=this.editor,r=n.plugins.get("RevisionTracker"),o=n.plugins.get("Users").users;for(const e of n.config.names())i[e]=n.config.get(e);delete i.context,i.initialData="",i.toolbar=["exitToEditing","restoreRevision","changesNavigation"];const s=this.editor.constructor.builtinPlugins||[],a=i.extraPlugins||[];delete i.extraPlugins;const c=s.concat(i.plugins).concat(a).map((e=>"string"==typeof e?s.find((t=>t.pluginName==e)):e));return i.plugins=Array.from(new Set(c)).filter((e=>_o(e,n.plugins,[]))),i.plugins.push(Ln,rr,class extends e.Plugin{static get requires(){return[Ln,"Users"]}init(){const e=this.editor.plugins.get("Users");for(const t of o)t.isAnonymous||e.getUser(t.id)||e.addUser(t);const i=r.repository.getRevisions();let s=null;const a=this.editor.plugins.get("RevisionViewer");a.adapter=r.adapter,a.bind("isEnabled").to(r),this.editor.commands.get("restoreRevision").bind("isEnabled").to(n,"isReadOnly",(e=>!e));for(const e of i){const i=null===e.creator;if(i&&e.toVersion===e.fromVersion)continue;const n=e.toJSON();a.addRevisionData(n,((n,o,a)=>{if(i){if(s)s._update(n,o);else if(!o){const e=a.toJSON();e.id=(0,t.uid)(),r.saveRevision(e,a.toVersion).then((e=>{s=e}))}}else e._update(n,o)}))}}},to),i}_enhanceShowRevisionViewerCallback(){const e=this.editor.config.get("revisionHistory").showRevisionViewerCallback;this.editor.config.set("revisionHistory.showRevisionViewerCallback",(async()=>{this.editor.enableReadOnlyMode("revision-history-viewer-opened");const t=this.editor.plugins.get("RevisionTracker");this.editor.plugins.has("Autosave")?await this.editor.plugins.get("Autosave").save():await t.update(),this.editor.plugins.has("PaginationLookup")&&this.editor.plugins.get("PaginationLookup")._recalculatePageBreaks();const i=this._getRevisionViewerEditorConfig();return e(i).then((e=>{this._viewerEditor=e,this.editor.plugins.has("Annotations")&&this.editor.plugins.get("Annotations").refreshVisibility()})).catch((e=>{console.error(e),this.editor.isReadOnly=!1}))}))}_enhanceCloseRevisionViewerCallback(){const e=this.editor.config.get("revisionHistory").closeRevisionViewerCallback;this.editor.config.set("revisionHistory.closeRevisionViewerCallback",(()=>(this.editor.plugins.has("PaginationLookup")&&this.editor.plugins.get("PaginationLookup")._recalculatePageBreaks(),e(this._viewerEditor).then((()=>{this.editor.disableReadOnlyMode("revision-history-viewer-opened"),this._viewerEditor=null,this.editor.plugins.has("Annotations")&&(this.editor.plugins.get("Annotations").refreshVisibility(),this.editor.plugins.get("Annotations").refreshPositioning())})))))}_showRevisionViewer(e){const t=this.editor.config.get("revisionHistory.editorContainer"),i=this.editor.config.get("revisionHistory.viewerContainer"),n=this.editor.config.get("revisionHistory.viewerEditorElement");return yo.create(n,e).then((e=>(i.style.display="block",t.style.display="none",e)))}_closeRevisionViewer(e){const t=this.editor.config.get("revisionHistory.editorContainer");return this.editor.config.get("revisionHistory.viewerContainer").style.display="none",t.style.display="",e.destroy()}async _restoreRevision(e){const t=this.editor,i=t.t,n=this._viewerEditor.plugins.get("RevisionViewer"),r=t.plugins.get("RevisionTracker"),o=n.repository.getRevision(e);let s,a;try{s=await n.getRevisionData(o)}catch(e){return void console.error(e)}t.model.change((e=>{for(const i of Array.from(t.model.markers.getMarkersGroup("restrictedEditingException")))e.removeMarker(i)})),n.isReady=!1,t.data.set(s,{suppressErrorInCollaboration:!0});const c=i("Restored");return a=o.name?-1==o.name.indexOf(c)?c+": "+o.name:o.name:c+": "+o.createdAt.toLocaleDateString(t.locale.uiLanguage,{month:"long",day:"numeric"})+", "+o.createdAt.toLocaleTimeString(t.locale.uiLanguage,{hour:"numeric",minute:"numeric"}),await r.saveRevision({name:a}),n.isReady=!0,t.config.get("revisionHistory").closeRevisionViewerCallback()}}function _o(e,t,i){const n="function"==typeof e?e.pluginName||e.name:e;if(i.includes(n))return!0;if(i.push(n),bo.includes(n))return!1;const r=(("function"==typeof e?e:t.has(n)?t.get(n):{}).requires||[]).every((e=>_o(e,t,i)));return r||bo.push(n),r}})(),(window.CKEditor5=window.CKEditor5||{}).revisionHistory=n})();