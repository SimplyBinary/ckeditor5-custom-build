/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x5c30=['values','_markSuggestions','parent','ck-suggestion-marker--active','createAttributeElement','addMarker:suggestion:deletion','level','concat','showNextChange','split','consume','_getDiff','splice','then','has','removeMarker:revision','side','ck-suggestion-preview-marker-','isEqual','resolve','elementStart','mousedown','delete','roots','end','revision-start','getAttributes','revisionHistory','index','findIndex','nextPosition','sort','upcast','userId','abs','editor','startIndex','createPositionFromPath','_changeIdToChange','hasAttribute','length','vid_start','addHighlight','isObject','isAtEnd','low','shift','distance','_removeMissingPairs','execute','deletions','name','bind','change:isEnabled','selection','consumable','isSuggestion','element','authors','for','span','insertion','markerToHighlight','_update','writer','children','viewItem','modelRange','_markMismatchedRemovedTags','_step','markerNameToElements','insertions','setData','string','-new','observeMarkers','_appendChild','from','clear','forEach','init','_threeWayMerge','removeMarker:suggestion','checkAttribute','clearForceDisabled','suggestion','_markInsertions','isBlock','_makeModelFromViewString','forward','previousPosition','destroy','repository','toViewElement','getItems','markerName','editingDowncast','range','elementToAttribute','slice','conversion','attributes','commands','isBefore','get','revisionHistoryLabel','change','markerToData','isRemoved','deletion','merge','marked','pop','push','isNavigationMode','catch','processor','mapper','newRevisionId','loadRevisionData','revision','elementEnd','isAdded','ck-suggestion-marker-','<p></p>','set','type','_cleanMarkers','getAttribute','error','dataDowncast','data','keys','view','highest','getWalker','first','getRootNames','addMarker:suggestion:insertion','getIndex','ck-suggestion-marker-merge','isRemoveSuggestion','attribute:vid','vid','markersEnd','_makeModelFromTape','remove','isAddSuggestion','document','addClass','start','diffData','unshift','isContent','_setConversion','parse','downcastDispatcher','next','dataToMarker','change:isReady','backward','getRevision','enableReadOnlyMode','htmlProcessor','done','_removeRevisionMarkers','pluginName','listenTo','markerRange','_removeUnsupportedChanges','ck-suggestion-marker-split','toViewPosition','softBreak','removeMarker','_balloon','showPreviousChange','isEnabled','vid_end','RevisionsRepository','_getViewObj','offsetSize','restoreRevisionCallback','isLimit','editing','RevisionViewer','hasClass','locale','changes','maxOffset','_data','isCollapsed','getRoot','ck-suggestion-preview-marker','model','compare','activeView','revision-viewer','isReady','pairId','toData','markers','setAttribute','useFillerType','_fixObsoleteTags','_getRevisionsRange','text','_markMarkers','markersStart','reconvertMarker','startsWith','_findChangeIdFromDomTarget','_refreshStartEndIndex','_setDistance','change:isReadOnly','high','readOnlyMode','plugins','target','revision-end','getChild','mouseover','getCustomProperty','_changeView','add','_makeTape','createUIElement','refresh','stopListening','adapter','ck-editor__editable__overlay','_initInteractions','endIndex','includes','nodeAfter','unbindElementFromMarkerName','isInline','filter','map','_getViewForChange','_target','_processTape','_getChangeFromId','test','_cleanUp','bindElementToMarker','isIncorrect','isAfter','_joinTapes','uiElement','ck-suggestion-marker','schema','diff','insert','stop','toViewRange','nextSibling','item','isAtStart','all','revision:','config','data-revision-','activeChange'];(function(_0x1d22d2,_0x5c3015){const _0x41a843=function(_0x333105){while(--_0x333105){_0x1d22d2['push'](_0x1d22d2['shift']());}};_0x41a843(++_0x5c3015);}(_0x5c30,0xde));const _0x41a8=function(_0x1d22d2,_0x5c3015){_0x1d22d2=_0x1d22d2-0x0;let _0x41a843=_0x5c30[_0x1d22d2];return _0x41a843;};import{Plugin as _0x1465d4,Command as _0x424868}from'ckeditor5/src/core';import{ObservableMixin as _0x168b9d,mix as _0x58c6e6,scrollViewportToShowTarget as _0x36c36c}from'ckeditor5/src/utils';import{ContextualBalloon as _0x2a5c80}from'ckeditor5/src/ui';import{DocumentFragment as _0x330fba,Element as _0x674015,Text as _0x13f0e6,ViewDocumentFragment as _0x69e7da,ViewText as _0x4506cb,ViewElement as _0x1883f2}from'ckeditor5/src/engine';import{Users as _0x5c89eb,getMarkerDomElement as _0x2de57a}from'ckeditor5-collaboration/src/collaboration-core';import _0x293847 from'./ui/revisionviewer/changedetailsview';import _0x431f8a from'./revisionsrepository';import _0x6fe6b0 from'./changeitem';import _0x414718 from'./revisiondiff';import'../theme/revisionviewer.css';export default class R extends _0x1465d4{static get[_0x41a8('0xcf')](){return _0x41a8('0xe1');}static get['requires'](){return[_0x5c89eb,_0x2a5c80,_0x431f8a];}constructor(..._0x1a436b){super(..._0x1a436b),this[_0x41a8('0x85')]=this['editor'][_0x41a8('0x101')][_0x41a8('0x91')](_0x41a8('0xdb')),this['set'](_0x41a8('0x28'),null),this[_0x41a8('0xa6')](_0x41a8('0xec'),null),this[_0x41a8('0xa6')](_0x41a8('0x1d'),null),this[_0x41a8('0xa6')](_0x41a8('0xee'),!0x1),this[_0x41a8('0xa6')](_0x41a8('0xd9'),!0x0),this['on'](_0x41a8('0x5e'),(_0x49ace9,_0x256dda,_0x52b2b3)=>{this[_0x41a8('0x28')]=null,this['activeView']=null,this[_0x41a8('0x4c')][_0x41a8('0xe0')]['view'][_0x41a8('0x93')](_0x78da54=>{for(const _0x5f1cf4 of this['editor']['editing'][_0x41a8('0xae')][_0x41a8('0xbd')][_0x41a8('0x40')])_0x52b2b3?_0x78da54['removeClass'](_0x41a8('0x7'),_0x5f1cf4):_0x78da54['addClass'](_0x41a8('0x7'),_0x5f1cf4);});}),this[_0x41a8('0x5d')](_0x41a8('0x9b'))['to'](this,_0x41a8('0x28'),_0x38aaa2=>null!==_0x38aaa2),this['bind']('currentChangeNumber')['to'](this,_0x41a8('0xee'),this,_0x41a8('0x1d'),this,_0x41a8('0x28'),(_0x1d6edc,_0x557efd,_0x56c7c7)=>_0x1d6edc&&_0x56c7c7?_0x557efd[_0x41a8('0xe4')]['getIndex'](_0x56c7c7):0x0),this[_0x41a8('0x5d')]('numberOfChanges')['to'](this,_0x41a8('0xee'),this,_0x41a8('0x1d'),(_0x343391,_0x2793e0)=>_0x343391?_0x2793e0[_0x41a8('0xe4')][_0x41a8('0x51')]:0x0),this['_changeView']=null,this[_0x41a8('0x4f')]=new Map(),this[_0x41a8('0x6')]=null,this[_0x41a8('0xd7')]=this['editor'][_0x41a8('0x101')][_0x41a8('0x91')](_0x2a5c80);}[_0x41a8('0x79')](){const _0x4d376d=this[_0x41a8('0x4c')];_0x4d376d[_0x41a8('0xac')][_0x41a8('0xcc')][_0x41a8('0xf3')](_0x41a8('0x98'));const _0x4afd49=new q(_0x4d376d,{'direction':_0x41a8('0xc9')}),_0x4dd69b=new q(_0x4d376d,{'direction':_0x41a8('0x82')});_0x4d376d[_0x41a8('0x8f')][_0x41a8('0x1')](_0x41a8('0xd8'),_0x4afd49),_0x4d376d[_0x41a8('0x8f')][_0x41a8('0x1')](_0x41a8('0x31'),_0x4dd69b),_0x4d376d[_0x41a8('0x8f')][_0x41a8('0x1')]('restoreRevision',new L(_0x4d376d)),this['on']('change:numberOfChanges',()=>{_0x4afd49['refresh'](),_0x4dd69b[_0x41a8('0x4')]();}),this[_0x41a8('0xc3')](),this[_0x41a8('0x8')](),_0x4d376d[_0x41a8('0xcb')](_0x41a8('0xed'));}async['getRevisionData'](_0x3dd3f5){await this[_0x41a8('0xa0')](_0x3dd3f5);const _0x10adba={};for(const _0x2a065a in _0x3dd3f5[_0x41a8('0xc0')]){const _0x545837=this[_0x41a8('0xce')](JSON[_0x41a8('0xc4')](_0x3dd3f5['diffData'][_0x2a065a][_0x41a8('0x70')])),_0x29dd53=this[_0x41a8('0x4c')][_0x41a8('0xe0')][_0x41a8('0xae')]['document'],_0x197c93=new _0x69e7da(_0x29dd53,_0x545837['map'](_0x1b2ee3=>this['_getViewObj'](_0x1b2ee3)));_0x10adba[_0x2a065a]=this[_0x41a8('0x4c')][_0x41a8('0xac')][_0x41a8('0x9d')][_0x41a8('0xf0')](_0x197c93);}return _0x10adba;}['_removeRevisionMarkers'](_0xbb350b){return(_0xbb350b=_0xbb350b['filter'](_0x49e444=>!_0x49e444[_0x41a8('0x5c')]||_0x41a8('0x42')!==_0x49e444['name']&&_0x41a8('0x103')!==_0x49e444[_0x41a8('0x5c')]))['forEach'](_0x4eb7ef=>{_0x41a8('0x72')!=typeof _0x4eb7ef&&(_0x4eb7ef[_0x41a8('0x6a')]=this['_removeRevisionMarkers'](_0x4eb7ef[_0x41a8('0x6a')]),_0x4eb7ef[_0x41a8('0x8e')]=_0x4eb7ef['attributes'][_0x41a8('0xe')](_0x2f1c86=>!_0x2f1c86[0x0][_0x41a8('0xfa')](_0x41a8('0x27'))));}),_0xbb350b;}[_0x41a8('0xeb')](_0x425578,_0xb7738,_0x1f3788=!0x1){if(!this[_0x41a8('0xd9')])return;const _0x5bba96=this['diff'],_0x2c1af4=this['repository'],_0x3c6611='string'==typeof _0x425578?_0x2c1af4[_0x41a8('0xca')](_0x425578):_0x425578,_0x274673=_0x41a8('0x72')==typeof _0xb7738?_0x2c1af4[_0x41a8('0xca')](_0xb7738):_0xb7738,_0xb49338=_0x3c6611['id'],_0x1d0a31=_0x274673?_0x274673['id']:null;if(!_0x1f3788&&this['diff']&&this[_0x41a8('0x1d')][_0x41a8('0x9f')]===_0xb49338&&this[_0x41a8('0x1d')]['oldRevisionId']===_0x1d0a31)return Promise['resolve']();this[_0x41a8('0xee')]=!0x1,this[_0x41a8('0xec')]=null,this[_0x41a8('0x28')]=null,this[_0x41a8('0x1d')]=new _0x414718(_0xb49338,_0x1d0a31);const _0x1fdb67=this['_getRevisionsRange'](_0x3c6611,_0x274673,!0x0)['map'](_0x805dae=>this[_0x41a8('0xa0')](_0x805dae));return _0x1fdb67['push'](new Promise(_0x581408=>{setTimeout(_0x581408,0x14);})),Promise[_0x41a8('0x24')](_0x1fdb67)[_0x41a8('0x36')](()=>{if(!this['isEnabled'])return;this['_cleanUp']();const _0x38db36=this[_0x41a8('0x34')](_0xb49338,_0x1d0a31);this['diff']['_setData'](_0x38db36);for(const _0x179633 of this[_0x41a8('0x1d')][_0x41a8('0xe4')])this[_0x41a8('0x4f')][_0x41a8('0xa6')](_0x179633['id'],_0x179633);this[_0x41a8('0x4c')][_0x41a8('0xea')]['enqueueChange']({'isUndoable':!0x1},_0x1b2717=>{for(const _0x130874 of Object[_0x41a8('0xad')](_0x38db36[_0x41a8('0xea')])){const _0x584e2d=this['editor'][_0x41a8('0xea')][_0x41a8('0xbd')][_0x41a8('0xe8')](_0x130874);_0x1b2717[_0x41a8('0xbb')](_0x1b2717['createRangeIn'](_0x584e2d)),_0x1b2717['insert'](_0x38db36[_0x41a8('0xea')][_0x130874],_0x584e2d,0x0);}}),this['isReady']=!0x0;})[_0x41a8('0x9c')](_0x1ab2f8=>{console[_0x41a8('0xaa')](_0x1ab2f8),this[_0x41a8('0x15')](),_0x5bba96?this['diff']=_0x5bba96:this['editor'][_0x41a8('0x71')](_0x41a8('0xa5')),this['isReady']=!0x0;});}[_0x41a8('0x84')](){this[_0x41a8('0xec')]=null,this['_changeView']&&this[_0x41a8('0x0')]['destroy']();}['addRevisionData'](_0x580b04,_0x21767f){const _0x499867=this[_0x41a8('0x85')]['createRevision'](_0x580b04);return _0x499867['on'](_0x41a8('0x68'),(_0x55e722,_0x56f7a0,_0x2a1928)=>_0x21767f(_0x56f7a0,_0x2a1928,_0x499867)),this[_0x41a8('0x85')]['addRevision'](_0x499867),_0x499867;}[_0x41a8('0xa0')](_0x1222f8){if(!_0x1222f8||_0x1222f8[_0x41a8('0xc0')])return Promise[_0x41a8('0x3c')]();{const _0x3e4b39=this['editor'][_0x41a8('0x26')][_0x41a8('0x91')]('collaboration.channelId');return this[_0x41a8('0x6')][_0x41a8('0xca')]({'channelId':_0x3e4b39,'revisionId':_0x1222f8['id']})[_0x41a8('0x36')](_0x4a8c7=>{_0x1222f8['_update']({'diffData':_0x4a8c7[_0x41a8('0xc0')]},!0x0);});}}[_0x41a8('0x15')](){this[_0x41a8('0x28')]=null,this[_0x41a8('0xa8')](),this[_0x41a8('0x0')]&&this[_0x41a8('0x0')]['destroy'](),this[_0x41a8('0x0')]=null,this[_0x41a8('0x4f')][_0x41a8('0x77')]();}[_0x41a8('0x2')](_0x131f04){const _0x22e42a=Array[_0x41a8('0x76')](_0x131f04[_0x41a8('0xf1')])[_0x41a8('0xe')](([_0x674fc3,_0x32df52])=>_0x674fc3[_0x41a8('0xfa')](_0x41a8('0x25'))&&!_0x32df52[_0x41a8('0xe7')]),_0x2f0c9e=Array[_0x41a8('0x76')](this['editor']['model']['createRangeIn'](_0x131f04)[_0x41a8('0xb0')]({'singleCharacters':!0x0}));if(0x0!=_0x22e42a['length'])for(const _0x289814 of _0x2f0c9e){const [_0x4bdc8a,_0x443801]=_0x22e42a[0x0],[,_0x9aeb2a,_0x46a341]=_0x4bdc8a['split'](':');if(_0x443801[_0x41a8('0x41')][_0x41a8('0x3b')](_0x289814[_0x41a8('0x47')])&&_0x22e42a[_0x41a8('0x57')](),(_0x289814[_0x41a8('0x83')]['isEqual'](_0x443801[_0x41a8('0xbf')])||_0x289814[_0x41a8('0x83')]['isAfter'](_0x443801[_0x41a8('0xbf')]))&&(_0x41a8('0x66')==_0x9aeb2a?_0x289814[_0x41a8('0xa3')]={'userId':_0x46a341}:_0x41a8('0x96')==_0x9aeb2a&&(_0x289814[_0x41a8('0x95')]={'userId':_0x46a341})),0x0==_0x22e42a['length'])break;}return _0x2f0c9e;}[_0x41a8('0xfc')](_0x266cf7){const _0x457509=new Map();for(let _0x38bd78=0x0;_0x38bd78<_0x266cf7[_0x41a8('0x51')];_0x38bd78++)_0x41a8('0xf6')===_0x266cf7[_0x38bd78][_0x41a8('0xa7')]?(_0x266cf7[_0x38bd78][_0x41a8('0x22')][_0x41a8('0x4d')]=_0x38bd78,_0x266cf7[_0x38bd78][_0x41a8('0x22')]['endIndex']=_0x38bd78):(_0x41a8('0x3d')===_0x266cf7[_0x38bd78]['type']?_0x266cf7[_0x38bd78][_0x41a8('0x22')][_0x41a8('0x4d')]=_0x38bd78:_0x41a8('0xa2')===_0x266cf7[_0x38bd78][_0x41a8('0xa7')]&&(_0x266cf7[_0x38bd78][_0x41a8('0x22')]['endIndex']=_0x38bd78),_0x457509['set'](_0x266cf7[_0x38bd78]['id'],_0x38bd78));for(const _0x396111 of _0x457509[_0x41a8('0x29')]())_0x41a8('0x3d')===_0x266cf7[_0x396111][_0x41a8('0xa7')]?_0x266cf7[_0x396111]['item'][_0x41a8('0x9')]=_0x457509[_0x41a8('0x91')](_0x266cf7[_0x396111]['pairId']):_0x41a8('0xa2')===_0x266cf7[_0x396111][_0x41a8('0xa7')]&&(_0x266cf7[_0x396111][_0x41a8('0x22')][_0x41a8('0x4d')]=_0x457509['get'](_0x266cf7[_0x396111][_0x41a8('0xef')]));}[_0x41a8('0x12')](_0x24a791){for(let _0x20300c=0x0;_0x20300c<_0x24a791['length'];_0x20300c++){if(_0x41a8('0x3d')===_0x24a791[_0x20300c]['type'])_0x24a791[_0x20300c][_0x41a8('0x22')]['startIndex']=_0x20300c;else{if('elementEnd'===_0x24a791[_0x20300c]['type']){_0x24a791[_0x20300c][_0x41a8('0x22')][_0x41a8('0x9')]=_0x20300c;const _0x379250=_0x24a791[_0x20300c]['item'][_0x41a8('0x4d')];_0x24a791[_0x379250]['pairId']=_0x24a791[_0x20300c]['id'],_0x24a791[_0x20300c][_0x41a8('0xef')]=_0x24a791[_0x379250]['id'];}else _0x24a791[_0x20300c][_0x41a8('0x22')][_0x41a8('0x4d')]=_0x20300c,_0x24a791[_0x20300c]['item'][_0x41a8('0x9')]=_0x20300c,_0x24a791[_0x20300c]['pairId']=null;}_0x24a791[_0x20300c][_0x41a8('0xf8')]||(_0x24a791[_0x20300c][_0x41a8('0xf8')]=[],_0x24a791[_0x20300c][_0x41a8('0xb9')]=[]);}}[_0x41a8('0x7f')](_0x259e18,_0x3ed95a){const _0x50ac92=_0x259e18[_0x41a8('0xe')](_0x3d54f7=>!_0x3d54f7[_0x41a8('0xa3')]);for(let _0x3bac8a=0x0;_0x3bac8a<_0x3ed95a['length'];_0x3bac8a++)_0x3ed95a[_0x3bac8a]['isAdded']&&(_0x50ac92[_0x3bac8a][_0x41a8('0xa3')]=_0x3ed95a[_0x3bac8a][_0x41a8('0xa3')]);}[_0x41a8('0x81')](_0x308c81){const _0x213c61=JSON[_0x41a8('0xc4')](_0x308c81),_0x391f20=this[_0x41a8('0x4c')][_0x41a8('0xe0')][_0x41a8('0xae')][_0x41a8('0xbd')],_0xb56dd0=new _0x69e7da(_0x391f20,_0x213c61[_0x41a8('0xf')](_0x1a1889=>this['_getViewObj'](_0x1a1889)));return this[_0x41a8('0x4c')][_0x41a8('0xac')]['toModel'](_0xb56dd0);}[_0x41a8('0xdc')](_0x35bbe9){const _0x53c096=this['editor']['editing'][_0x41a8('0xae')][_0x41a8('0xbd')];if(_0x41a8('0x72')==typeof _0x35bbe9)return new _0x4506cb(_0x53c096,_0x35bbe9);{const _0x1bbae0=_0x35bbe9['children']['map'](_0x3634fb=>this[_0x41a8('0xdc')](_0x3634fb));return new _0x1883f2(_0x53c096,_0x35bbe9[_0x41a8('0x5c')],_0x35bbe9['attributes'],_0x1bbae0);}}['_getDiff'](_0xe05b7b,_0x2ee1bd=null){const _0x23fd7b=this[_0x41a8('0x85')][_0x41a8('0xca')](_0xe05b7b),_0x54aa6a=_0x2ee1bd?this[_0x41a8('0x85')][_0x41a8('0xca')](_0x2ee1bd):null,_0xa6d591=this[_0x41a8('0xf5')](_0x23fd7b,_0x54aa6a),_0xf0b511=_0xa6d591[_0xa6d591[_0x41a8('0x51')]-0x1],_0x5a619a=new Map();for(const _0x3de0fa of _0xa6d591){_0x3de0fa[_0x41a8('0xea')]={};for(const _0x2a1f7e of _0x3de0fa[_0x41a8('0x63')])_0x5a619a[_0x41a8('0xa6')](_0x2a1f7e['id'],_0x2a1f7e);for(const _0x25577d of this[_0x41a8('0x4c')]['model'][_0x41a8('0xbd')][_0x41a8('0xb2')]())_0x3de0fa[_0x41a8('0xc0')][_0x25577d]||(_0x3de0fa[_0x41a8('0xc0')][_0x25577d]={'insertions':'[]','deletions':'[]'}),_0x3de0fa[_0x41a8('0xea')][_0x25577d]={'insertions':this[_0x41a8('0x81')](_0x3de0fa[_0x41a8('0xc0')][_0x25577d][_0x41a8('0x70')]),'deletions':this[_0x41a8('0x81')](_0x3de0fa[_0x41a8('0xc0')][_0x25577d][_0x41a8('0x5b')])};}const _0x21fb6c={'model':{},'changes':[]};for(const _0x36ef64 of this[_0x41a8('0x4c')]['model'][_0x41a8('0xbd')]['getRootNames']()){let _0x172149=null,_0x5bba83=0x0;const _0x1d168f=new Map(Array[_0x41a8('0x76')](_0x23fd7b[_0x41a8('0xea')][_0x36ef64][_0x41a8('0x70')][_0x41a8('0xf1')])[_0x41a8('0xe')](([_0x65380d])=>!_0x65380d[_0x41a8('0xfa')](_0x41a8('0x25'))));let _0x29702d=0x0;for(const _0x19f90f of _0xa6d591){const _0xd3b586=this[_0x41a8('0x2')](_0x19f90f['model'][_0x36ef64][_0x41a8('0x70')]);_0x19f90f==_0x23fd7b?(_0x172149=_0xd3b586,_0x5bba83=_0x172149[_0x41a8('0x51')],_0x172149[_0x41a8('0x78')](_0x5eced2=>{_0x5eced2['id']=_0x29702d++;}),this[_0x41a8('0x12')](_0x172149)):this[_0x41a8('0x7f')](_0x172149,_0xd3b586);const _0x273115=_0x172149['filter'](_0x32a1dd=>!_0x32a1dd[_0x41a8('0xa3')])[_0x41a8('0xf')](_0x156790=>_0x156790['id']);let _0x12918f=0x0;const _0x103566=this[_0x41a8('0x2')](_0x19f90f['model'][_0x36ef64][_0x41a8('0x5b')]);_0x103566['forEach'](_0x282a09=>{_0x282a09['isRemoved']?_0x282a09['id']=_0x5bba83++:_0x282a09['id']=_0x273115[_0x12918f++];}),this[_0x41a8('0x12')](_0x103566),this[_0x41a8('0xfd')](_0x172149,'isAdded'),this[_0x41a8('0xfd')](_0x103566,'isRemoved'),_0x19f90f==_0x23fd7b&&this[_0x41a8('0xf7')](_0x172149,_0x1d168f),_0x172149=this[_0x41a8('0x19')](_0x172149,_0x103566),this['_refreshStartEndIndex'](_0x172149),this[_0x41a8('0xfd')](_0x172149,'isRemoved');}_0x172149=_0x172149[_0x41a8('0xe')](_0x49f653=>!(_0x49f653['isAdded']&&_0x49f653[_0x41a8('0x95')]));const _0x198e4b=new Map(_0xf0b511['model'][_0x36ef64]['deletions']['markers']),_0x39d5dc=new Set(_0x1d168f[_0x41a8('0xad')]());for(const _0x52fb8e of _0x198e4b['keys']())_0x39d5dc[_0x41a8('0x3f')](_0x52fb8e);this[_0x41a8('0x2a')](_0x172149,_0x39d5dc),this[_0x41a8('0xf4')](_0x172149),_0x172149=this[_0x41a8('0x59')](_0x172149),_0x172149=this[_0x41a8('0x6d')](_0x172149),_0x172149=this[_0x41a8('0xd2')](_0x172149);const {root:_0x484ac7,changes:_0x2dce9e}=this[_0x41a8('0xba')](_0x172149,_0x5a619a);_0x21fb6c[_0x41a8('0xea')][_0x36ef64]=_0x484ac7,_0x21fb6c[_0x41a8('0xe4')]=_0x21fb6c[_0x41a8('0xe4')]['concat'](_0x2dce9e);}return _0x21fb6c;}[_0x41a8('0xf7')](_0x372e39,_0x4aebab){for(let _0x54175f=0x0;_0x54175f<_0x372e39[_0x41a8('0x51')];_0x54175f++)for(const [_0x476448,_0x366c9b]of _0x4aebab)_0x366c9b[_0x41a8('0xbf')]['isEqual'](_0x372e39[_0x54175f][_0x41a8('0x83')])&&_0x372e39[_0x54175f][_0x41a8('0xf8')]['push'](_0x476448),_0x366c9b['end'][_0x41a8('0x3b')](_0x372e39[_0x54175f][_0x41a8('0x47')])&&_0x372e39[_0x54175f][_0x41a8('0xb9')][_0x41a8('0x9a')](_0x476448);}[_0x41a8('0x19')](_0x52ea6f,_0x2ec6a3){let _0x502a19=[],_0x5a87b6=0x0,_0x629b2=0x0;for(;_0x5a87b6<_0x52ea6f[_0x41a8('0x51')]||_0x629b2<_0x2ec6a3['length'];){const _0xc16a3a=_0x52ea6f[_0x5a87b6]||{},_0xcb38b4=_0x2ec6a3[_0x629b2]||{};if(_0xc16a3a['id']==_0xcb38b4['id'])_0x5a87b6++,_0x629b2++,_0x502a19[_0x41a8('0x9a')](_0xc16a3a);else{if(_0xcb38b4['isRemoved']&&_0xc16a3a[_0x41a8('0xa3')]){const {commonTape:_0x4c4a62,iEnd:_0x4e1929,jEnd:_0x1bbf61}=this[_0x41a8('0x7a')](_0x52ea6f,_0x5a87b6,_0x2ec6a3,_0x629b2);_0x502a19=_0x502a19[_0x41a8('0x30')](_0x4c4a62),_0x5a87b6=_0x4e1929,_0x629b2=_0x1bbf61;}else _0xcb38b4[_0x41a8('0x95')]?(_0x629b2++,_0x502a19[_0x41a8('0x9a')](_0xcb38b4)):(_0x5a87b6++,_0x502a19[_0x41a8('0x9a')](_0xc16a3a));}}return _0x502a19;}[_0x41a8('0x2a')](_0x2b7643,_0x3b5eb5){const _0x255e6d=[];for(let _0x3dcd4d=0x0;_0x3dcd4d<_0x2b7643[_0x41a8('0x51')];_0x3dcd4d++){for(let _0x38c3c2=0x0;_0x38c3c2<_0x2b7643[_0x3dcd4d][_0x41a8('0xf8')][_0x41a8('0x51')];_0x38c3c2++){const _0x2aa742=_0x2b7643[_0x3dcd4d][_0x41a8('0xf8')][_0x38c3c2];if(!_0x3b5eb5[_0x41a8('0x37')](_0x2aa742))continue;const {group:_0x30ad04,type:_0x3202fc,authorId:_0x114e01}=_0x380294(_0x2aa742);_0x41a8('0x7e')!=_0x30ad04||_0x41a8('0x66')!=_0x3202fc&&_0x41a8('0x96')!=_0x3202fc||(_0x255e6d[_0x41a8('0xc1')]({'type':_0x3202fc,'name':_0x2aa742,'userId':_0x114e01}),_0x2b7643[_0x3dcd4d]['markersStart'][_0x41a8('0x35')](_0x38c3c2,0x1),_0x38c3c2--);}_0x1c8532(_0x2b7643[_0x3dcd4d]);for(let _0x582dd8=0x0;_0x582dd8<_0x2b7643[_0x3dcd4d]['markersEnd']['length'];_0x582dd8++){const _0x566c40=_0x2b7643[_0x3dcd4d]['markersEnd'][_0x582dd8];if(!_0x3b5eb5['has'](_0x566c40))continue;const {group:_0x5a8dff,type:_0xe7714f}=_0x380294(_0x566c40);if(_0x41a8('0x7e')!=_0x5a8dff||_0x41a8('0x66')!=_0xe7714f&&'deletion'!=_0xe7714f)continue;_0x2b7643[_0x3dcd4d][_0x41a8('0xb9')][_0x41a8('0x35')](_0x582dd8,0x1),_0x582dd8--;const _0x117ec8=_0x255e6d[_0x41a8('0x46')](_0x5de41f=>_0x5de41f['name']==_0x566c40);_0x117ec8>-0x1&&_0x255e6d[_0x41a8('0x35')](_0x117ec8,0x1);}}function _0x380294(_0x2eac69){const _0x27e3a6=_0x2eac69['split'](':');return{'group':_0x27e3a6[0x0],'type':_0x27e3a6[0x1],'subType':_0x27e3a6[_0x41a8('0x51')]>=0x5?_0x27e3a6[0x2]:null,'id':_0x27e3a6['length']<0x5?_0x27e3a6[0x2]:_0x27e3a6[0x3],'authorId':_0x27e3a6[_0x41a8('0x51')]<0x5?_0x27e3a6[0x3]:_0x27e3a6[0x4],'markerCount':0x6==_0x27e3a6[_0x41a8('0x51')]?_0x27e3a6[0x5]:null};}function _0x1c8532(_0x80de7f){for(let _0x27a292=0x0;_0x27a292<_0x255e6d[_0x41a8('0x51')];_0x27a292++){if(_0x80de7f['isAdded']&&_0x41a8('0x66')==_0x255e6d[_0x27a292][_0x41a8('0xa7')])return _0x80de7f[_0x41a8('0xbc')]=_0x255e6d[_0x27a292],void delete _0x80de7f[_0x41a8('0xa3')];if(!_0x80de7f[_0x41a8('0xa3')]&&!_0x80de7f[_0x41a8('0x95')]&&_0x41a8('0x96')==_0x255e6d[_0x27a292][_0x41a8('0xa7')])return void(_0x80de7f['isRemoveSuggestion']=_0x255e6d[_0x27a292]);}}}['_setDistance'](_0x14d779,_0x288a6a){let _0x13fc36=0x0,_0x14d786=!0x1;const _0x4a3bb9=new Map();for(const _0x44d7eb of _0x14d779)_0x44d7eb[_0x288a6a]?_0x14d786&&(_0x13fc36++,_0x14d786=!0x1):(_0x13fc36++,_0x14d786=!0x0),_0x4a3bb9[_0x41a8('0xa6')](_0x44d7eb['id'],_0x13fc36);for(let _0x66a3b1=0x0;_0x66a3b1<_0x14d779['length'];_0x66a3b1++){if(_0x41a8('0x95')==_0x288a6a&&_0x14d779[_0x66a3b1][_0x41a8('0xa3')]||_0x41a8('0xa3')==_0x288a6a&&_0x14d779[_0x66a3b1][_0x41a8('0x95')])continue;if('text'==_0x14d779[_0x66a3b1][_0x41a8('0xa7')]){_0x14d779[_0x66a3b1][_0x41a8('0x58')]=0x0;continue;}const _0x22aa5e=_0x4a3bb9[_0x41a8('0x91')](_0x14d779[_0x66a3b1][_0x41a8('0xef')]),_0x14aa0b=_0x4a3bb9['get'](_0x14d779[_0x66a3b1]['id']);_0x14d779[_0x66a3b1][_0x41a8('0x58')]=_0x22aa5e-_0x14aa0b;}}[_0x41a8('0xf5')](_0x599b46,_0x4c6063,_0x514b84=!0x1){const _0x57512d=[];let _0xe121fe=this[_0x41a8('0x85')][_0x41a8('0xb4')](_0x599b46),_0x2d223a=this[_0x41a8('0x85')]['getIndex'](_0x4c6063);for(-0x1==_0x2d223a&&(_0x2d223a=this['repository']['_revisions'][_0x41a8('0x51')],_0x514b84=!0x1);_0xe121fe<_0x2d223a;)_0x57512d[_0x41a8('0x9a')](this[_0x41a8('0x85')][_0x41a8('0xca')](_0xe121fe)),_0xe121fe++;return _0x514b84&&_0x57512d['push'](this[_0x41a8('0x85')][_0x41a8('0xca')](_0xe121fe)),_0x57512d;}[_0x41a8('0x7a')](_0x4a55d5,_0x4f6e54,_0x41dcb4,_0x168335){const _0x3651fd=this[_0x41a8('0x4c')][_0x41a8('0xea')][_0x41a8('0x1c')];let _0x599f28=_0x4f6e54;for(;_0x4a55d5[_0x599f28]&&_0x4a55d5[_0x599f28][_0x41a8('0xa3')];)_0x599f28++;let _0x2ec2cc=_0x168335;for(;_0x41dcb4[_0x2ec2cc]&&_0x41dcb4[_0x2ec2cc][_0x41a8('0x95')];)_0x2ec2cc++;_0x561409(_0x4a55d5,_0x4f6e54,_0x599f28),_0x561409(_0x41dcb4,_0x168335,_0x2ec2cc);const _0x3753e2=_0x41dcb4[_0x41a8('0x8c')](_0x168335,_0x2ec2cc)[_0x41a8('0x30')](_0x4a55d5[_0x41a8('0x8c')](_0x4f6e54,_0x599f28));return _0x3753e2[_0x41a8('0x48')]((_0x5e44cc,_0x51e843)=>_0x5e44cc['side']!=_0x51e843[_0x41a8('0x39')]?_0x5e44cc[_0x41a8('0x39')]-_0x51e843['side']:_0x5e44cc['level']!=_0x51e843['level']?_0x5e44cc[_0x41a8('0x2f')]-_0x51e843[_0x41a8('0x2f')]:_0x5e44cc[_0x41a8('0x58')]!=_0x51e843[_0x41a8('0x58')]?_0x51e843['distance']-_0x5e44cc[_0x41a8('0x58')]:!!_0x5e44cc[_0x41a8('0xa3')]!=!!_0x51e843[_0x41a8('0xa3')]?-0x1==_0x5e44cc['side']||0x0==_0x5e44cc[_0x41a8('0x39')]?_0x5e44cc[_0x41a8('0xa3')]?-0x1:0x1:_0x5e44cc[_0x41a8('0xa3')]?0x1:-0x1:_0x5e44cc[_0x41a8('0x45')]-_0x51e843[_0x41a8('0x45')]),{'commonTape':_0x3753e2,'iEnd':_0x599f28,'jEnd':_0x2ec2cc};function _0x561409(_0x4917f3,_0x4e4f2b,_0x4ec33c){let _0x3a6942=-0x1,_0x37e980=Number['POSITIVE_INFINITY'],_0x294aba=!0x0;for(let _0x28206b=_0x4e4f2b;_0x28206b<_0x4ec33c;_0x28206b++)if(_0x3651fd[_0x41a8('0xd')](_0x4917f3[_0x28206b][_0x41a8('0x22')])||(_0x294aba=!0x1),_0x4917f3[_0x28206b][_0x41a8('0x22')]['startIndex']<_0x4e4f2b&&(_0x3a6942=_0x28206b),_0x4917f3[_0x28206b][_0x41a8('0x22')][_0x41a8('0x9')]>=_0x4ec33c){_0x37e980=_0x28206b;break;}_0x294aba&&(_0x3a6942=_0x4ec33c-0x1);for(let _0x4eafe0=_0x4e4f2b;_0x4eafe0<_0x4ec33c;_0x4eafe0++)_0x4917f3[_0x4eafe0][_0x41a8('0x39')]=_0x4eafe0<=_0x3a6942?-0x1:_0x4eafe0<_0x37e980?0x0:0x1,_0x4917f3[_0x4eafe0][_0x41a8('0x45')]=_0x4eafe0;let _0xb9b61c=0x0;for(let _0x2cac0a=_0x4e4f2b;_0x2cac0a<=_0x3a6942;_0x2cac0a++)0x0==_0x4917f3[_0x2cac0a][_0x41a8('0x58')]?_0x4917f3[_0x2cac0a][_0x41a8('0x2f')]=_0xb9b61c:(_0xb9b61c++,_0x4917f3[_0x2cac0a]['level']=_0xb9b61c,_0xb9b61c++);for(let _0x1c2e63=_0x4e4f2b;_0x1c2e63<_0x4ec33c;_0x1c2e63++)0x0==_0x4917f3[_0x1c2e63][_0x41a8('0x39')]&&(_0x4917f3[_0x1c2e63][_0x41a8('0x2f')]=_0xb9b61c);_0xb9b61c=0x0;for(let _0x233bd1=_0x4ec33c-0x1;_0x233bd1>=_0x37e980;_0x233bd1--)0x0==_0x4917f3[_0x233bd1][_0x41a8('0x58')]?_0x4917f3[_0x233bd1][_0x41a8('0x2f')]=_0xb9b61c:(_0xb9b61c--,_0x4917f3[_0x233bd1][_0x41a8('0x2f')]=_0xb9b61c,_0xb9b61c--);}}[_0x41a8('0xf4')](_0x426630){const _0x2187fb=new Map(),_0x10bddf=this['editor'][_0x41a8('0xea')][_0x41a8('0x1c')];for(let _0x3ef904=0x1;_0x3ef904<_0x426630[_0x41a8('0x51')];_0x3ef904++){let _0x322987,_0x8d2b02,_0x303ff6;const _0x40f90d=_0x426630[_0x3ef904],_0x56f811=_0x426630[_0x3ef904-0x1];if('text'==_0x40f90d[_0x41a8('0xa7')])continue;if(_0x40f90d[_0x41a8('0xa7')]!=_0x56f811[_0x41a8('0xa7')])continue;if(!_0x10bddf['isBlock'](_0x56f811[_0x41a8('0x22')])||_0x10bddf[_0x41a8('0xdf')](_0x56f811['item']))continue;if(!_0x10bddf[_0x41a8('0x80')](_0x40f90d['item'])||_0x10bddf[_0x41a8('0xdf')](_0x40f90d[_0x41a8('0x22')]))continue;if((_0x426630[_0x3ef904][_0x41a8('0xa3')]||_0x426630[_0x3ef904]['isAddSuggestion'])&&_0x426630[_0x3ef904-0x1][_0x41a8('0x95')])_0x322987=_0x426630[_0x3ef904],_0x8d2b02=_0x426630[_0x3ef904-0x1],_0x303ff6=_0x3ef904-0x1;else{if(!_0x426630[_0x3ef904][_0x41a8('0x95')]||!_0x426630[_0x3ef904-0x1][_0x41a8('0xa3')]&&!_0x426630[_0x3ef904-0x1]['isAddSuggestion'])continue;_0x322987=_0x426630[_0x3ef904-0x1],_0x8d2b02=_0x426630[_0x3ef904],_0x303ff6=_0x3ef904;}const _0x14b19d=_0x322987[_0x41a8('0x2f')]==_0x8d2b02[_0x41a8('0x2f')],_0x58d8d2=Math[_0x41a8('0x4b')](_0x322987[_0x41a8('0x2f')])<Math['abs'](_0x8d2b02[_0x41a8('0x2f')])&&0x0==_0x8d2b02[_0x41a8('0x58')];(_0x14b19d||_0x58d8d2)&&(_0x2187fb[_0x41a8('0xa6')](_0x8d2b02['id'],_0x322987['id']),_0x426630[_0x41a8('0x35')](_0x303ff6,0x1),_0x3ef904--,_0x322987[_0x41a8('0xa3')]=!0x1);}for(let _0x1af1e6=0x0;_0x1af1e6<_0x426630['length'];_0x1af1e6++)_0x2187fb['has'](_0x426630[_0x1af1e6][_0x41a8('0xef')])&&(_0x426630[_0x1af1e6]['pairId']=_0x2187fb['get'](_0x426630[_0x1af1e6][_0x41a8('0xef')]));}[_0x41a8('0x59')](_0x313742){const _0x1288e0=new Set(_0x313742[_0x41a8('0xf')](_0x4c5cf6=>_0x4c5cf6['id']));for(let _0x23d486=0x0;_0x23d486<_0x313742[_0x41a8('0x51')];_0x23d486++)_0x1288e0[_0x41a8('0x37')](_0x313742[_0x23d486]['pairId'])||0x0==_0x313742[_0x23d486][_0x41a8('0x58')]||(_0x313742[_0x23d486]['isIncorrect']=!0x0);return _0x313742[_0x41a8('0xe')](_0x5ced61=>!_0x5ced61[_0x41a8('0x17')]);}[_0x41a8('0x6d')](_0xfce22a){const _0x415fc3=new Set();for(let _0x298913=0x0;_0x298913<_0xfce22a[_0x41a8('0x51')];_0x298913++){if(_0x415fc3['has'](_0xfce22a[_0x298913]['id'])&&_0xfce22a[_0x298913][_0x41a8('0x95')]&&(_0xfce22a[_0x298913]['isIncorrect']=!0x0),_0xfce22a[_0x298913][_0x41a8('0x17')])continue;if(0x0==_0xfce22a[_0x298913]['distance'])continue;if('elementStart'!=_0xfce22a[_0x298913][_0x41a8('0xa7')])continue;if(null==_0xfce22a[_0x298913][_0x41a8('0xef')])continue;let _0xe951e7=_0x298913+0x1,_0x8cb93f=0x0;for(;_0xfce22a[_0xe951e7]['id']!=_0xfce22a[_0x298913][_0x41a8('0xef')];)_0x41a8('0x3d')==_0xfce22a[_0xe951e7][_0x41a8('0xa7')]?_0x8cb93f++:_0x41a8('0xa2')==_0xfce22a[_0xe951e7]['type']&&_0x8cb93f--,_0xe951e7++;if(0x0!=_0x8cb93f){if(_0xfce22a[_0x298913][_0x41a8('0x95')])_0xfce22a[_0x298913][_0x41a8('0x17')]=!0x0;else for(;_0xe951e7!=_0x298913;)_0xfce22a[_0xe951e7][_0x41a8('0x95')]&&0x0!=_0xfce22a[_0xe951e7][_0x41a8('0x58')]&&(_0xfce22a[_0xe951e7][_0x41a8('0x17')]=!0x0,_0x415fc3['add'](_0xfce22a[_0xe951e7][_0x41a8('0xef')])),_0xe951e7--;}}return _0xfce22a['filter'](_0x1db995=>!_0x1db995[_0x41a8('0x17')]);}[_0x41a8('0xd2')](_0x5679d5){const _0x3446f6=this[_0x41a8('0x4c')][_0x41a8('0xea')]['schema'];for(let _0x5af2b3=0x0;_0x5af2b3<_0x5679d5[_0x41a8('0x51')];_0x5af2b3++){if(!(_0x5679d5[_0x5af2b3][_0x41a8('0xa3')]||_0x5679d5[_0x5af2b3][_0x41a8('0xbc')]||_0x5679d5[_0x5af2b3][_0x41a8('0x95')]||_0x5679d5[_0x5af2b3][_0x41a8('0xb6')]))continue;if(0x0==_0x5679d5[_0x5af2b3][_0x41a8('0x58')])continue;const _0x5220ff=_0x5679d5[_0x5af2b3][_0x41a8('0x22')];_0x3446f6['isBlock'](_0x5220ff)||_0x3446f6[_0x41a8('0xdf')](_0x5220ff)||(_0x5679d5[_0x5af2b3][_0x41a8('0xa3')]&&delete _0x5679d5[_0x5af2b3][_0x41a8('0xa3')],_0x5679d5[_0x5af2b3][_0x41a8('0xbc')]&&delete _0x5679d5[_0x5af2b3][_0x41a8('0xbc')],_0x5679d5[_0x5af2b3]['isRemoveSuggestion']&&delete _0x5679d5[_0x5af2b3][_0x41a8('0xb6')],_0x5679d5[_0x5af2b3][_0x41a8('0x95')]&&(_0x5679d5[_0x5af2b3]['isIncorrect']=!0x0));}return _0x5679d5[_0x41a8('0xe')](_0x5abfe8=>!_0x5abfe8[_0x41a8('0x17')]);}[_0x41a8('0xba')](_0x1b5c84,_0x348e71){const _0x144a6e=new _0x330fba(),_0x2106f2=[],_0x4a6209=new Map(),_0x5c77b2=this[_0x41a8('0x4c')][_0x41a8('0xea')],_0xfeae64=_0x5c77b2[_0x41a8('0x1c')],_0x4edee9=[_0x144a6e],_0xb97bf={},_0x28e723={'isAdded':[],'isRemoved':[],'isAddSuggestion':[],'isRemoveSuggestion':[]};let _0x483d7a=null;const _0x1082e0=[0x0];for(let _0x1e455c=0x0;_0x1e455c<_0x1b5c84[_0x41a8('0x51')];_0x1e455c++){let _0x16cd4a,_0x370f74;if(_0x41a8('0x3d')===_0x1b5c84[_0x1e455c][_0x41a8('0xa7')]){_0x16cd4a=_0x5c77b2[_0x41a8('0x4e')](_0x144a6e,_0x1082e0);const _0x3dfe0c=new _0x674015(_0x1b5c84[_0x1e455c]['item'][_0x41a8('0x5c')],_0x1b5c84[_0x1e455c]['item'][_0x41a8('0x43')]());_0x4edee9[0x0][_0x41a8('0x75')](_0x3dfe0c),_0x1082e0[_0x41a8('0x9a')](0x0),_0x4edee9[_0x41a8('0xc1')](_0x3dfe0c),_0x370f74=_0x5c77b2[_0x41a8('0x4e')](_0x144a6e,_0x1082e0),_0x483d7a=null;}else{if(_0x41a8('0xa2')===_0x1b5c84[_0x1e455c][_0x41a8('0xa7')])_0x4edee9['shift'](),_0x16cd4a=_0x5c77b2['createPositionFromPath'](_0x144a6e,_0x1082e0),_0x1082e0[_0x41a8('0x99')](),_0x1082e0[_0x1082e0['length']-0x1]++,_0x370f74=_0x5c77b2['createPositionFromPath'](_0x144a6e,_0x1082e0),_0x483d7a=null;else{if(_0x16cd4a=_0x5c77b2[_0x41a8('0x4e')](_0x144a6e,_0x1082e0),_0x483d7a&&_0xecb66e(_0x483d7a,_0x1b5c84[_0x1e455c][_0x41a8('0x22')]))_0x483d7a[_0x41a8('0xe6')]+=_0x1b5c84[_0x1e455c][_0x41a8('0x22')]['data'];else{const _0x423df3=new _0x13f0e6(_0x1b5c84[_0x1e455c][_0x41a8('0x22')][_0x41a8('0xac')],_0x1b5c84[_0x1e455c][_0x41a8('0x22')][_0x41a8('0x43')]());_0x4edee9[0x0][_0x41a8('0x75')](_0x423df3),_0x483d7a=_0x423df3;}_0x1082e0[_0x1082e0[_0x41a8('0x51')]-0x1]+=_0x1b5c84[_0x1e455c][_0x41a8('0x22')][_0x41a8('0xdd')],_0x370f74=_0x5c77b2[_0x41a8('0x4e')](_0x144a6e,_0x1082e0);}}for(const _0x95364 of _0x1b5c84[_0x1e455c][_0x41a8('0xf8')])_0x4a6209[_0x41a8('0xa6')](_0x95364,{'start':_0x16cd4a,'end':null});_0x1cf174(_0x41a8('0xb6'),_0x1e455c,_0x16cd4a,_0x370f74),_0x1cf174(_0x41a8('0xbc'),_0x1e455c,_0x16cd4a,_0x370f74),_0x1cf174(_0x41a8('0x95'),_0x1e455c,_0x16cd4a,_0x370f74),_0x1cf174(_0x41a8('0xa3'),_0x1e455c,_0x16cd4a,_0x370f74);for(const _0x423346 of _0x1b5c84[_0x1e455c]['markersEnd']){_0x4a6209['get'](_0x423346)[_0x41a8('0x41')]=_0x370f74;}}for(const [_0x34fefb,_0x46f3fd]of _0x4a6209){const _0x2202c2=this[_0x41a8('0x4c')][_0x41a8('0xea')]['createRange'](_0x46f3fd[_0x41a8('0xbf')],_0x46f3fd[_0x41a8('0x41')]);_0x144a6e[_0x41a8('0xf1')][_0x41a8('0xa6')](_0x34fefb,_0x2202c2);}return _0x2106f2['sort']((_0x402b48,_0x3c5f3b)=>{const _0x474ac6=_0x144a6e['markers'][_0x41a8('0x91')](_0x41a8('0x25')+_0x402b48['id']),_0x259634=_0x144a6e[_0x41a8('0xf1')]['get'](_0x41a8('0x25')+_0x3c5f3b['id']);return _0x474ac6[_0x41a8('0xbf')][_0x41a8('0x90')](_0x259634['start'])?-0x1:_0x474ac6[_0x41a8('0xbf')]['isAfter'](_0x259634[_0x41a8('0xbf')])?0x1:_0x474ac6[_0x41a8('0x41')][_0x41a8('0x90')](_0x259634[_0x41a8('0x41')])?-0x1:_0x474ac6['end'][_0x41a8('0x18')](_0x259634[_0x41a8('0x41')])?0x1:_0x41a8('0x1')===_0x402b48[_0x41a8('0xa7')]?-0x1:0x1;}),{'root':_0x144a6e,'changes':_0x2106f2};function _0x1cf174(_0x57c401,_0x45cc94,_0x24038b,_0x240a90){const _0x5b21bf=!!_0x1b5c84[_0x45cc94][_0x57c401],_0x5eb122=_0x5b21bf?_0x1b5c84[_0x45cc94][_0x57c401]['userId']:null,_0x5e94ed=_0x45cc94===_0x1b5c84[_0x41a8('0x51')]-0x1,_0x411473=_0x28e723[_0x57c401][0x0],_0x3ded3d=_0xfeae64[_0x41a8('0x54')](_0x1b5c84[_0x45cc94]['item']);!_0xb97bf[_0x57c401]&&_0x5b21bf?_0xb97bf[_0x57c401]={'start':_0x24038b,'tapeItem':_0x1b5c84[_0x45cc94],'userId':_0x5eb122,'type':_0x57c401}:_0xb97bf[_0x57c401]&&!_0x5b21bf?(_0xb97bf[_0x57c401][_0x41a8('0x41')]=_0x24038b,_0x4c0191(_0xb97bf[_0x57c401]),_0xb97bf[_0x57c401]=null):_0xb97bf[_0x57c401]&&_0x5b21bf&&_0xb97bf[_0x57c401]['userId']!==_0x5eb122&&(_0xb97bf[_0x57c401][_0x41a8('0x41')]=_0x24038b,_0x411473&&_0x411473['userId']===_0xb97bf[_0x57c401][_0x41a8('0x4a')]||_0x4c0191(_0xb97bf[_0x57c401]),_0xb97bf[_0x57c401]={'start':_0x24038b,'tapeItem':_0x1b5c84[_0x45cc94],'userId':_0x5eb122,'type':_0x57c401}),_0xb97bf[_0x57c401]&&_0x3ded3d&&(_0x41a8('0x3d')!==_0x1b5c84[_0x45cc94]['type']||_0x411473&&_0x411473[_0x41a8('0x4a')]===_0x5eb122||_0x28e723[_0x57c401][_0x41a8('0xc1')]({'userId':_0x5eb122,'object':_0x1b5c84[_0x45cc94][_0x41a8('0x22')],'change':_0xb97bf[_0x57c401]}),_0x41a8('0xa2')===_0x1b5c84[_0x45cc94]['type']&&_0x411473&&_0x411473['object']===_0x1b5c84[_0x45cc94][_0x41a8('0x22')]&&(_0x28e723[_0x57c401][_0x41a8('0x57')](),_0xb97bf[_0x57c401]=_0x411473[_0x41a8('0x93')])),_0xb97bf[_0x57c401]&&_0x5e94ed&&(_0xb97bf[_0x57c401]['end']=_0x240a90,_0x4c0191(_0xb97bf[_0x57c401]),_0xb97bf[_0x57c401]=null);}function _0x4c0191({start:_0x1117b6,end:_0x3da87d,tapeItem:_0x39ec46,userId:_0x2ee8d3,type:_0x508438}){const _0x434a33=_0x39ec46['item'],_0x5c9fe3=_0x5c77b2[_0x41a8('0x1c')][_0x41a8('0x80')](_0x434a33)&&!_0x5c77b2[_0x41a8('0x1c')][_0x41a8('0xdf')](_0x434a33),_0x2d7ddc=_0x1117b6[_0x41a8('0xb')]==_0x3da87d[_0x41a8('0x2b')]&&_0x3da87d[_0x41a8('0x23')];if(_0x5c9fe3&&_0x2d7ddc)return;const _0x16c338=_0x5c77b2['createRange'](_0x1117b6,_0x3da87d),_0x7293c6=_0x348e71[_0x41a8('0x91')](_0x2ee8d3),_0x403113=new _0x6fe6b0({'author':_0x7293c6,'type':_0x41a8('0xa3')==_0x508438||_0x41a8('0xbc')==_0x508438?_0x41a8('0x1'):_0x41a8('0xbb'),'data':{'isSuggestion':'isAddSuggestion'==_0x508438||'isRemoveSuggestion'==_0x508438},'createdAt':new Date()});_0x2106f2['push'](_0x403113),_0x144a6e[_0x41a8('0xf1')]['set'](_0x41a8('0x25')+_0x403113['id'],_0x16c338);}function _0xecb66e(_0x19c1fb,_0x4c7594){const _0x38b1dc=_0x19c1fb[_0x41a8('0x43')](),_0x15d333=_0x4c7594[_0x41a8('0x43')]();for(const _0x20602d of _0x38b1dc){if(_0x20602d[0x1]!==_0x4c7594['getAttribute'](_0x20602d[0x0]))return!0x1;_0x15d333[_0x41a8('0xc6')]();}return _0x15d333['next']()[_0x41a8('0xcd')];}}[_0x41a8('0xc3')](){this[_0x41a8('0x4c')][_0x41a8('0x8d')][_0x41a8('0x64')]('upcast')[_0x41a8('0xc7')]({'view':_0x41a8('0xa1')}),this[_0x41a8('0x4c')][_0x41a8('0x8d')]['for'](_0x41a8('0x89'))[_0x41a8('0x67')]({'model':_0x41a8('0xa1'),'view':_0x29f9a0=>{const _0x308599=_0x29f9a0[_0x41a8('0x88')][_0x41a8('0x32')](':')[0x1],_0x4e8ae7=this[_0x41a8('0x13')](_0x308599);if(!_0x4e8ae7)return null;const _0x4b2b18=_0x41a8('0x1')==_0x4e8ae7['type']?_0x41a8('0x66'):_0x41a8('0x96'),_0x5250eb=[_0x41a8('0x1b'),_0x41a8('0xa4')+_0x4b2b18];return _0x4e8ae7['data'][_0x41a8('0x61')]&&_0x5250eb[_0x41a8('0x9a')](_0x41a8('0xa4')+_0x4b2b18+'-new'),this['activeChange']==_0x4e8ae7&&_0x5250eb[_0x41a8('0x9a')](_0x41a8('0x2c')),{'classes':_0x5250eb,'attributes':{'data-change-id':_0x308599}};}}),this[_0x41a8('0x4c')][_0x41a8('0x8d')][_0x41a8('0x64')](_0x41a8('0x49'))[_0x41a8('0x1')](_0x4643cb=>{_0x4643cb['on']('element:pre',(_0x5c143c,_0xba4ccd,_0x1cfe2b)=>{const _0x4470d7=_0xba4ccd[_0x41a8('0x6b')][_0x41a8('0x104')](0x0);if(!_0x4470d7||!_0x4470d7['is']('element','code'))return;if(!_0x1cfe2b['consumable']['consume'](_0x4470d7,{'attributes':['vid_start',_0x41a8('0xda')]}))return;const _0x41c4f7=_0xba4ccd[_0x41a8('0x6c')][_0x41a8('0xbf')][_0x41a8('0xb')];_0x1cfe2b[_0x41a8('0x69')][_0x41a8('0xf2')](_0x41a8('0x52'),_0x4470d7[_0x41a8('0xa9')](_0x41a8('0x52')),_0x41c4f7),_0x1cfe2b[_0x41a8('0x69')][_0x41a8('0xf2')](_0x41a8('0xda'),_0x4470d7[_0x41a8('0xa9')]('vid_end'),_0x41c4f7);},{'priority':'low'});}),this[_0x41a8('0x4c')][_0x41a8('0x8d')][_0x41a8('0x64')](_0x41a8('0x49'))[_0x41a8('0x1')](_0x29fd89=>{_0x29fd89['on'](_0x41a8('0x62'),(_0x5c29c1,_0x2e033b,_0x2198eb)=>{if(!_0x2198eb[_0x41a8('0x60')]['consume'](_0x2e033b[_0x41a8('0x6b')],{'attributes':[_0x41a8('0x52'),_0x41a8('0xda')]}))return;if(_0x2e033b[_0x41a8('0x6c')][_0x41a8('0xe7')])return;const _0x247537=_0x2e033b[_0x41a8('0x6c')][_0x41a8('0xbf')][_0x41a8('0xb')];_0x247537[_0x41a8('0x50')](_0x41a8('0x52'))||_0x247537[_0x41a8('0x50')]('vid')||(_0x2198eb['writer'][_0x41a8('0xf2')]('vid_start',_0x2e033b['viewItem'][_0x41a8('0xa9')](_0x41a8('0x52')),_0x247537),_0x2198eb[_0x41a8('0x69')][_0x41a8('0xf2')](_0x41a8('0xda'),_0x2e033b[_0x41a8('0x6b')][_0x41a8('0xa9')](_0x41a8('0xda')),_0x247537));},{'priority':_0x41a8('0x56')});}),this[_0x41a8('0x4c')][_0x41a8('0x8d')][_0x41a8('0x64')](_0x41a8('0x49'))[_0x41a8('0x8b')]({'view':{'name':_0x41a8('0x65'),'attributes':{'vid':!0x0}},'model':{'key':'vid','value':_0x181c74=>_0x181c74['getAttribute'](_0x41a8('0xb8'))}}),this[_0x41a8('0x4c')][_0x41a8('0xea')][_0x41a8('0x1c')]['on'](_0x41a8('0x7c'),(_0x37a354,[,_0x65d9d])=>{[_0x41a8('0x52'),'vid_end','vid'][_0x41a8('0xa')](_0x65d9d)&&(_0x37a354['return']=!0x0,_0x37a354[_0x41a8('0x1f')]());},{'priority':_0x41a8('0xaf')}),this[_0x41a8('0x4c')][_0x41a8('0x8d')][_0x41a8('0x64')](_0x41a8('0xab'))[_0x41a8('0x1')](_0x2cfdb1=>{_0x2cfdb1['on'](_0x41a8('0xb7'),(_0x16dc13,_0x251d83,_0x3ad858)=>{if('\x20'!=_0x251d83[_0x41a8('0x22')][_0x41a8('0xac')]||_0x251d83[_0x41a8('0x22')][_0x41a8('0x2b')][_0x41a8('0xe5')]>0x1)return;if(!_0x3ad858[_0x41a8('0x60')][_0x41a8('0x33')](_0x251d83[_0x41a8('0x22')],_0x16dc13[_0x41a8('0x5c')]))return;const _0x2d4932=_0x3ad858[_0x41a8('0x69')],_0x3a6f58=_0x3ad858[_0x41a8('0x9e')][_0x41a8('0x20')](_0x251d83[_0x41a8('0x8a')]);_0x2d4932['wrap'](_0x3a6f58,_0x2d4932[_0x41a8('0x2d')](_0x41a8('0x65')));});}),this[_0x41a8('0x4c')][_0x41a8('0x8d')][_0x41a8('0x64')](_0x41a8('0xab'))[_0x41a8('0x94')]({'model':_0x41a8('0xa1')}),this[_0x41a8('0x4c')][_0x41a8('0xe0')][_0x41a8('0xc5')]['on']('addMarker:revision',function(_0x43f569){const _0xed3d02=_0x43f569['plugins'][_0x41a8('0x91')](_0x41a8('0xe1'));return(_0x2af29c,_0x46b929,_0x5e6baa)=>{const _0x1d8e7a=_0x46b929[_0x41a8('0x88')][_0x41a8('0x32')](':')[0x1],_0xb3d5c=_0xed3d02[_0x41a8('0x13')](_0x1d8e7a);if(!_0xb3d5c)return null;const _0x2a78ab=_0x41a8('0x1')==_0xb3d5c[_0x41a8('0xa7')]?_0x41a8('0x32'):_0x41a8('0x97');if(!_0x5e6baa[_0x41a8('0x60')][_0x41a8('0x14')](_0x46b929[_0x41a8('0xd1')],_0x2af29c[_0x41a8('0x5c')]))return;const _0x295022=_0x46b929[_0x41a8('0xd1')][_0x41a8('0xb0')](),_0x45e332=_0x46b929['markerRange']['start'],_0x5ad2c5=_0x43f569[_0x41a8('0xea')][_0x41a8('0x1c')];let _0x179ee4=null,_0x463b5d=null,_0x2cb3a8=!0x1,_0x10f585=!0x1;for(const _0x566ac1 of _0x295022){const _0x212206=_0x566ac1[_0x41a8('0x22')];_0x2cb3a8=_0x2cb3a8||_0x5ad2c5[_0x41a8('0xc2')](_0x212206);const _0x1a97b4=_0x5e6baa[_0x41a8('0x9e')][_0x41a8('0x86')](_0x212206);if(_0x1a97b4&&_0x1a97b4[_0x41a8('0x106')](_0x41a8('0x53')))return;_0x41a8('0xa2')==_0x566ac1[_0x41a8('0xa7')]&&(_0x5ad2c5[_0x41a8('0x80')](_0x212206)&&!_0x5ad2c5[_0x41a8('0xdf')](_0x212206)&&(_0x212206['nextSibling']||_0x45e332[_0x41a8('0x55')]?_0x179ee4&&_0x179ee4[_0x41a8('0x2b')]==_0x212206||(_0x179ee4=_0x212206,_0x440500(_0x566ac1['previousPosition']),_0x10f585=!0x0):_0x463b5d=_0x463b5d||_0x566ac1[_0x41a8('0x83')]));}function _0x440500(_0x50613b){const _0x2cd3b5=_0x5e6baa[_0x41a8('0x69')][_0x41a8('0x3')]('span',{'class':'ck-suggestion-marker-'+_0x2a78ab}),_0x449527=_0x5e6baa[_0x41a8('0x9e')][_0x41a8('0xd4')](_0x50613b);_0xb3d5c['data']['isSuggestion']&&_0x5e6baa[_0x41a8('0x69')][_0x41a8('0xbe')](_0x41a8('0xa4')+_0x2a78ab+'-new',_0x2cd3b5),_0xed3d02['activeChange']==_0xb3d5c&&_0x5e6baa['writer'][_0x41a8('0xbe')](_0x41a8('0x2c'),_0x2cd3b5),_0x5e6baa['writer'][_0x41a8('0x1e')](_0x449527,_0x2cd3b5),_0x5e6baa[_0x41a8('0x9e')][_0x41a8('0x16')](_0x2cd3b5,_0x46b929[_0x41a8('0x88')]);}_0x2cb3a8||_0x10f585||!_0x463b5d||_0x440500(_0x463b5d);};}(this[_0x41a8('0x4c')]),{'priority':_0x41a8('0xff')}),this[_0x41a8('0x4c')][_0x41a8('0xe0')][_0x41a8('0xc5')]['on'](_0x41a8('0x38'),(_0x4a055f,_0x2a9cb7,_0x44292f)=>{const _0x29dd86=_0x44292f[_0x41a8('0x9e')][_0x41a8('0x6f')](_0x2a9cb7[_0x41a8('0x88')]);if(_0x29dd86)for(const _0x2bdb6f of _0x29dd86)(_0x2bdb6f[_0x41a8('0xe2')](_0x41a8('0xd3'))||_0x2bdb6f['hasClass'](_0x41a8('0xb5')))&&(_0x44292f['mapper'][_0x41a8('0xc')](_0x2bdb6f,_0x2a9cb7[_0x41a8('0x88')]),_0x44292f[_0x41a8('0x69')][_0x41a8('0xbb')](_0x2bdb6f));},{'priority':_0x41a8('0xff')}),this[_0x41a8('0x4c')]['editing'][_0x41a8('0xc5')]['on']('addMarker:revision',(_0x3be21e,_0x59e15e,_0x30e5b1)=>{const _0x3af2f4=_0x59e15e[_0x41a8('0x88')]['split'](':')[0x1],_0x5aa69f=this[_0x41a8('0x13')](_0x3af2f4);if(!_0x5aa69f)return null;const _0x1d9775=_0x41a8('0x1')==_0x5aa69f['type']?_0x41a8('0x32'):_0x41a8('0x97');if(_0x30e5b1[_0x41a8('0x60')][_0x41a8('0x14')](_0x59e15e['markerRange'],_0x3be21e[_0x41a8('0x5c')]))for(const _0x1e1ac7 of _0x59e15e['markerRange'][_0x41a8('0x87')]()){if(!_0x1e1ac7['is'](_0x41a8('0x62'),_0x41a8('0xd5')))continue;const _0x1f911d=_0x30e5b1[_0x41a8('0x69')][_0x41a8('0x3')](_0x41a8('0x65'),{'class':_0x41a8('0xa4')+_0x1d9775}),_0x9f7755=_0x30e5b1['mapper']['toViewPosition'](this[_0x41a8('0x4c')][_0x41a8('0xea')]['createPositionBefore'](_0x1e1ac7));_0x5aa69f[_0x41a8('0xac')][_0x41a8('0x61')]&&_0x30e5b1[_0x41a8('0x69')][_0x41a8('0xbe')]('ck-suggestion-marker-'+_0x1d9775+_0x41a8('0x73'),_0x1f911d),this[_0x41a8('0x28')]==_0x5aa69f&&_0x30e5b1[_0x41a8('0x69')]['addClass']('ck-suggestion-marker--active',_0x1f911d),_0x30e5b1[_0x41a8('0x69')]['insert'](_0x9f7755,_0x1f911d),_0x30e5b1[_0x41a8('0x9e')][_0x41a8('0x16')](_0x1f911d,_0x59e15e['markerName']);}},{'priority':'high'}),this[_0x41a8('0x4c')][_0x41a8('0x8d')]['for']('upcast')['dataToMarker']({'view':_0x41a8('0x7e')}),this[_0x41a8('0x4c')][_0x41a8('0x8d')][_0x41a8('0x64')]('dataDowncast')['markerToData']({'model':_0x41a8('0x7e')}),this[_0x41a8('0x4c')]['conversion'][_0x41a8('0x64')](_0x41a8('0x89'))[_0x41a8('0x67')]({'model':_0x41a8('0x7e'),'view':_0xba4412=>{const _0x54ad5e=_0xba4412[_0x41a8('0x88')]['split'](':')[0x1];return _0x41a8('0x66')!=_0x54ad5e&&_0x41a8('0x96')!=_0x54ad5e?null:{'classes':[_0x41a8('0xe9'),_0x41a8('0x3a')+_0x54ad5e]};}}),this['editor'][_0x41a8('0xe0')][_0x41a8('0xc5')]['on'](_0x41a8('0x2e'),J(this[_0x41a8('0x4c')],_0x41a8('0x97')),{'priority':_0x41a8('0xff')}),this[_0x41a8('0x4c')][_0x41a8('0xe0')][_0x41a8('0xc5')]['on'](_0x41a8('0xb3'),J(this[_0x41a8('0x4c')],_0x41a8('0x32')),{'priority':_0x41a8('0xff')}),this['editor'][_0x41a8('0xe0')][_0x41a8('0xc5')]['on'](_0x41a8('0x7b'),(_0x1c8637,_0x3c04be,_0x4cb6a0)=>{const _0x14302f=_0x4cb6a0['mapper'][_0x41a8('0x6f')](_0x3c04be[_0x41a8('0x88')]);if(_0x14302f)for(const _0x243dba of _0x14302f)_0x243dba['is'](_0x41a8('0x1a'))&&(_0x4cb6a0[_0x41a8('0x9e')][_0x41a8('0xc')](_0x243dba,_0x3c04be[_0x41a8('0x88')]),_0x4cb6a0['writer']['remove'](_0x243dba));},{'priority':_0x41a8('0xff')});}[_0x41a8('0x13')](_0x144af1){return this[_0x41a8('0x4f')][_0x41a8('0x91')](_0x144af1);}[_0x41a8('0x10')](_0x11a801){this[_0x41a8('0x0')]&&this[_0x41a8('0x0')][_0x41a8('0x84')](),this[_0x41a8('0x0')]=new _0x293847(this[_0x41a8('0x4c')][_0x41a8('0xe3')],_0x11a801);const _0x307191=this[_0x41a8('0x4c')][_0x41a8('0xea')][_0x41a8('0xf1')][_0x41a8('0x91')](_0x41a8('0x25')+_0x11a801['id']);return this[_0x41a8('0x0')][_0x41a8('0x11')]=()=>_0x2de57a(this[_0x41a8('0x4c')][_0x41a8('0xe0')],_0x307191),this[_0x41a8('0x0')];}[_0x41a8('0x8')](){this[_0x41a8('0x4c')]['model'][_0x41a8('0xbd')][_0x41a8('0x5f')][_0x41a8('0x74')]('revision'),this['on']('change:activeView',(_0x4e8bb1,_0xed27a,_0x198ec7,_0x55ba1b)=>{_0x55ba1b&&this[_0x41a8('0xd7')][_0x41a8('0xbb')](_0x55ba1b),_0x198ec7&&(this[_0x41a8('0xd7')][_0x41a8('0x1')]({'view':_0x198ec7,'stackId':_0x41a8('0x92'),'position':{'target':_0x198ec7['_target']}}),this[_0x41a8('0xd7')]['showStack']('revisionHistoryLabel'));}),this['on']('change:activeChange',(_0x561dc0,_0x472d7e,_0x2af700,_0x5de54a)=>{this[_0x41a8('0xec')]=_0x2af700?this[_0x41a8('0x10')](_0x2af700):null,this[_0x41a8('0x4c')][_0x41a8('0xea')][_0x41a8('0x93')](()=>{const _0x1a6064=this['editor'][_0x41a8('0xe0')];_0x5de54a&&_0x1a6064[_0x41a8('0xf9')]('revision:'+_0x5de54a['id']),_0x2af700&&_0x1a6064['reconvertMarker'](_0x41a8('0x25')+_0x2af700['id']);});}),this[_0x41a8('0xd0')](this['editor'][_0x41a8('0xe0')][_0x41a8('0xae')]['document'],_0x41a8('0x105'),(_0x3d0a0,_0xd1055)=>{if(this[_0x41a8('0x28')])return;const _0x1c5ca0=this[_0x41a8('0xfb')](_0xd1055[_0x41a8('0x102')]),_0x1dd9cf=this[_0x41a8('0x4f')][_0x41a8('0x91')](_0x1c5ca0);this[_0x41a8('0xec')]=_0x1dd9cf?this[_0x41a8('0x10')](_0x1dd9cf):null;}),this[_0x41a8('0xd0')](this[_0x41a8('0x4c')][_0x41a8('0xe0')][_0x41a8('0xae')][_0x41a8('0xbd')],_0x41a8('0x3e'),(_0x420999,_0x158e09)=>{const _0x4b6f03=this[_0x41a8('0xfb')](_0x158e09[_0x41a8('0x102')]),_0x499a03=this[_0x41a8('0x4f')][_0x41a8('0x91')](_0x4b6f03);this[_0x41a8('0x28')]=_0x499a03||null;});}[_0x41a8('0xfb')](_0x45e9db){do{const _0x31f5a7=_0x45e9db[_0x41a8('0xa9')]('data-change-id');if(_0x31f5a7)return _0x31f5a7;_0x45e9db=_0x45e9db[_0x41a8('0x2b')];}while(_0x45e9db);return null;}[_0x41a8('0xa8')](){this[_0x41a8('0x4c')][_0x41a8('0xea')][_0x41a8('0x93')](_0x3671aa=>{for(const _0x23b2d1 of this[_0x41a8('0x4c')]['model'][_0x41a8('0xf1')])_0x3671aa[_0x41a8('0xd6')](_0x23b2d1);});}}function J(_0x582b1a,_0x4fe015){return(_0x311d83,_0x4f102e,_0x160e24)=>{if(!_0x160e24[_0x41a8('0x60')][_0x41a8('0x14')](_0x4f102e[_0x41a8('0xd1')],_0x311d83[_0x41a8('0x5c')]))return;const _0x42e4b6=_0x4f102e['markerRange'][_0x41a8('0xb0')](),_0x82fd4=_0x4f102e[_0x41a8('0xd1')][_0x41a8('0xbf')],_0x47f59c=_0x582b1a[_0x41a8('0xea')][_0x41a8('0x1c')];let _0x5ec57a=null,_0x3bbac5=null,_0x2c4a71=!0x1,_0x58c271=!0x1;for(const _0x2e1b4e of _0x42e4b6){const _0x2e80f1=_0x2e1b4e[_0x41a8('0x22')];_0x2c4a71=_0x2c4a71||_0x47f59c[_0x41a8('0xc2')](_0x2e80f1);const _0x53887c=_0x160e24['mapper']['toViewElement'](_0x2e80f1);if(_0x53887c&&_0x53887c[_0x41a8('0x106')]('addHighlight'))return;'elementEnd'==_0x2e1b4e['type']&&(_0x47f59c['isBlock'](_0x2e80f1)&&!_0x47f59c['isLimit'](_0x2e80f1)&&(_0x2e80f1[_0x41a8('0x21')]||_0x82fd4[_0x41a8('0x55')]?_0x5ec57a&&_0x5ec57a[_0x41a8('0x2b')]==_0x2e80f1||(_0x5ec57a=_0x2e80f1,_0x5776b4(_0x2e1b4e['previousPosition']),_0x58c271=!0x0):_0x3bbac5=_0x3bbac5||_0x2e1b4e[_0x41a8('0x83')]));}function _0x5776b4(_0x4bb8e9){const _0x543f94=_0x160e24[_0x41a8('0x9e')][_0x41a8('0xd4')](_0x4bb8e9),_0x1af61d=_0x160e24[_0x41a8('0x69')][_0x41a8('0x3')](_0x41a8('0x65'),{'class':_0x41a8('0x3a')+_0x4fe015});_0x160e24[_0x41a8('0x69')]['insert'](_0x543f94,_0x1af61d),_0x160e24[_0x41a8('0x9e')][_0x41a8('0x16')](_0x1af61d,_0x4f102e[_0x41a8('0x88')]);}_0x2c4a71||_0x58c271||!_0x3bbac5||_0x5776b4(_0x3bbac5);};}_0x58c6e6(R,_0x168b9d);class L extends _0x424868{constructor(_0x2eb0ec){super(_0x2eb0ec);const _0x2b506f=_0x2eb0ec[_0x41a8('0x101')][_0x41a8('0x91')](R);this['stopListening'](_0x2eb0ec,_0x41a8('0xfe')),this[_0x41a8('0x7d')](_0x41a8('0x100')),this['listenTo'](_0x2b506f,_0x41a8('0xc8'),()=>this['refresh']()),this[_0x41a8('0xd0')](_0x2b506f,'change:isEnabled',()=>this[_0x41a8('0x4')]());}[_0x41a8('0x5a')](){const _0x50571d=this['editor'],_0x2e9674=_0x50571d[_0x41a8('0x101')][_0x41a8('0x91')](R),_0x47c67a=_0x2e9674['isReady']?_0x2e9674[_0x41a8('0x1d')]['newRevisionId']:null;_0x50571d[_0x41a8('0x26')][_0x41a8('0x91')](_0x41a8('0x44'))[_0x41a8('0xde')](_0x47c67a);}['refresh'](){const {isReady:_0xb6bc98,isEnabled:_0x353f45}=this[_0x41a8('0x4c')][_0x41a8('0x101')][_0x41a8('0x91')](R);this['isEnabled']=_0xb6bc98&&_0x353f45;}}class q extends _0x424868{constructor(_0x319097,{direction:_0x3fa144}){super(_0x319097);const _0x432097=_0x319097[_0x41a8('0x101')][_0x41a8('0x91')](R);this[_0x41a8('0x5')](_0x319097,_0x41a8('0xfe')),this[_0x41a8('0x7d')](_0x41a8('0x100')),this['_step']='forward'===_0x3fa144?0x1:-0x1,this[_0x41a8('0xd0')](_0x432097,'change:isReady',()=>this[_0x41a8('0x4')]()),this[_0x41a8('0xd0')](_0x432097,_0x41a8('0x5e'),()=>this[_0x41a8('0x4')]());}[_0x41a8('0x5a')](){const _0x216f97=this[_0x41a8('0x4c')],_0x28ad93=_0x216f97[_0x41a8('0x101')][_0x41a8('0x91')](R),{isNavigationMode:_0xbfff61,currentChangeNumber:_0x51889c}=_0x28ad93;_0x28ad93[_0x41a8('0x28')]=_0xbfff61?_0x28ad93[_0x41a8('0x1d')]['changes']['get'](_0x51889c+this[_0x41a8('0x6e')]):_0x28ad93[_0x41a8('0x1d')][_0x41a8('0xe4')][_0x41a8('0xb1')];const _0x41fe15=_0x216f97[_0x41a8('0xea')][_0x41a8('0xf1')][_0x41a8('0x91')](_0x41a8('0x25')+_0x28ad93[_0x41a8('0x28')]['id']),_0x150ca6=_0x2de57a(_0x216f97['editing'],_0x41fe15);_0x36c36c({'target':_0x150ca6,'viewportOffset':0x28});}[_0x41a8('0x4')](){const {isNavigationMode:_0xe4d681,currentChangeNumber:_0x5a1de8,numberOfChanges:_0x517edc,isReady:_0x45d8b3,isEnabled:_0x2288bb}=this[_0x41a8('0x4c')][_0x41a8('0x101')][_0x41a8('0x91')](R);this[_0x41a8('0xd9')]=!!(_0x2288bb&&_0x45d8b3&&_0x517edc)&&(!_0xe4d681||(0x1===this[_0x41a8('0x6e')]?_0x5a1de8<_0x517edc-0x1:_0x5a1de8>0x0));}}