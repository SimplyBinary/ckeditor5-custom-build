/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x33f0=['readOnlyMode','nextSibling','marked','_markInsertions','restoreRevisionCallback','_makeModelFromViewString','revision','enqueueChange','isIncorrect','roots','test','index','htmlProcessor','toViewPosition','_getRevisionsRange','span','isRemoved','vid_end','endIndex','_getViewObj','ck-suggestion-marker-','bindElementToMarker','_data','string','target','setAttribute','insertions','elementEnd','vid_start','destroy','bind','code','getAttribute','observeMarkers','diffData','listenTo','downcastDispatcher','_markMarkers','refresh','includes','createRangeIn','changes','ck-suggestion-marker-merge','_getViewForChange','config','push','consume','_threeWayMerge','numberOfChanges','distance','showPreviousChange','attribute:vid','data-change-id','attributes','start','stopListening','getRevisionData','setData','commands','suggestion','splice','add','processor','getRootNames','currentChangeNumber','elementStart','resolve','_appendChild','<p></p>','backward','_removeUnsupportedChanges','editingDowncast','change','maxOffset','removeMarker:revision','offsetSize','_findChangeIdFromDomTarget','markers','get','_getChangeFromId','startIndex','all','view','nextPosition','diff','_cleanUp','consumable','revision-start','-new','reconvertMarker','isReady','writer','deletion','ck-editor__editable__overlay','next','activeChange','vid','abs','ck-suggestion-preview-marker','userId','document','item','softBreak','conversion','getChild','unshift','isAtEnd','for','slice','_fixObsoleteTags','isBefore','change:numberOfChanges','execute','upcast','viewItem','keys','markerToData','getIndex','isInline','showNextChange','_changeView','set','_update','isAdded','authors','values','type','isContent','change:isReady','forEach','data','isSuggestion','_removeMissingPairs','parse','locale','RevisionsRepository','text','delete','dataDowncast','newRevisionId','_markMismatchedRemovedTags','_balloon','done','shift','_setDistance','_cleanMarkers','mousedown','useFillerType','revision-end','markersStart','nodeAfter','markerNameToElements','children','previousPosition','merge','clear','parent','modelRange','addClass','isAfter','editing','toData','has','getRoot','change:activeView','createPositionBefore','low','revision:','split','length','level','pluginName','getRevision','compare','first','revisionHistoryLabel','toModel','addMarker:revision','highest','startsWith','getCustomProperty','insert','revisionHistory','isLimit','model','_refreshStartEndIndex','wrap','map','side','addRevision','_makeTape','then','markersEnd','getItems','toViewRange','element','clearForceDisabled','editor','toViewElement','removeMarker','_removeRevisionMarkers','stop','deletions','end','change:isEnabled','_processTape','schema','isAddSuggestion','loadRevisionData','createPositionFromPath','forward','hasClass','mapper','ck-suggestion-preview-marker-','getAttributes','high','isRemoveSuggestion','error','filter','createUIElement','change:isReadOnly','activeView','isObject','restoreRevision','_step','sort','createRange','pairId','data-revision-','_changeIdToChange','insertion','_target','uiElement','ck-suggestion-marker--active','isEnabled','showStack','markerName','_setConversion','_joinTapes','_revisions','markerRange','adapter','repository','range','dataToMarker','change:activeChange','addHighlight','POSITIVE_INFINITY','unbindElementFromMarkerName','object','concat','plugins','hasAttribute','remove','_initInteractions','isBlock','pop','_getDiff','_makeModelFromTape','markerToHighlight','isEqual','getWalker','isAtStart','from','RevisionViewer','name','removeMarker:suggestion'];(function(_0x1f37d0,_0x33f094){const _0x3683b3=function(_0x259cff){while(--_0x259cff){_0x1f37d0['push'](_0x1f37d0['shift']());}};_0x3683b3(++_0x33f094);}(_0x33f0,0xe7));const _0x3683=function(_0x1f37d0,_0x33f094){_0x1f37d0=_0x1f37d0-0x0;let _0x3683b3=_0x33f0[_0x1f37d0];return _0x3683b3;};import{Plugin as _0x18b0df,Command as _0x4aaa93}from'ckeditor5/src/core';import{ObservableMixin as _0x47cfb5,mix as _0xa2a605,scrollViewportToShowTarget as _0x2bf980}from'ckeditor5/src/utils';import{ContextualBalloon as _0x2040f6}from'ckeditor5/src/ui';import{DocumentFragment as _0x56c45c,Element as _0x1b2555,Text as _0x2d360a,ViewDocumentFragment as _0x15e778,ViewText as _0x567a3a,ViewElement as _0x144076,ViewContainerElement as _0x290635,ViewAttributeElement as _0x348f76,ViewEmptyElement as _0x4557f8,ViewRawElement as _0xe6832,ViewUIElement as _0x349562}from'ckeditor5/src/engine';import{Users as _0x2ed604,getMarkerDomElement as _0x4b2ed6}from'ckeditor5-collaboration/src/collaboration-core';import _0x7a460 from'./ui/revisionviewer/changedetailsview';import _0x2a402c from'./revisionsrepository';import _0x2f83f8 from'./changeitem';import _0x52cb5d from'./revisiondiff';import'../theme/revisionviewer.css';const T={'c':_0x290635,'a':_0x348f76,'e':_0x4557f8,'r':_0xe6832,'u':_0x349562};export default class d extends _0x18b0df{static get[_0x3683('0xcf')](){return'RevisionViewer';}static get['requires'](){return[_0x2ed604,_0x2040f6,_0x2a402c];}constructor(..._0x4a6c1c){super(..._0x4a6c1c),this[_0x3683('0xb')]=this[_0x3683('0xe9')][_0x3683('0x14')][_0x3683('0x72')](_0x3683('0xab')),this[_0x3683('0x9d')]('activeChange',null),this[_0x3683('0x9d')]('activeView',null),this[_0x3683('0x9d')]('diff',null),this[_0x3683('0x9d')](_0x3683('0x7e'),!0x1),this[_0x3683('0x9d')](_0x3683('0x3'),!0x0),this['on']('change:isEnabled',(_0x50260d,_0x28142c,_0x459a7c)=>{this[_0x3683('0x83')]=null,this[_0x3683('0x101')]=null,this[_0x3683('0xe9')][_0x3683('0xc4')][_0x3683('0x76')][_0x3683('0x6c')](_0x5bb5ec=>{for(const _0xaf6286 of this[_0x3683('0xe9')][_0x3683('0xc4')][_0x3683('0x76')][_0x3683('0x88')][_0x3683('0x2d')])_0x459a7c?_0x5bb5ec['removeClass']('ck-editor__editable__overlay',_0xaf6286):_0x5bb5ec[_0x3683('0xc2')](_0x3683('0x81'),_0xaf6286);});}),this[_0x3683('0x42')]('isNavigationMode')['to'](this,_0x3683('0x83'),_0x2f1f1a=>null!==_0x2f1f1a),this['bind'](_0x3683('0x64'))['to'](this,'isReady',this,'diff',this,'activeChange',(_0xe2d2c3,_0x24518b,_0x28c8da)=>_0xe2d2c3&&_0x28c8da?_0x24518b[_0x3683('0x4d')]['getIndex'](_0x28c8da):0x0),this['bind'](_0x3683('0x54'))['to'](this,_0x3683('0x7e'),this,'diff',(_0xde5f09,_0x92ed57)=>_0xde5f09?_0x92ed57['changes'][_0x3683('0xcd')]:0x0),this['_changeView']=null,this['_changeIdToChange']=new Map(),this[_0x3683('0xa')]=null,this[_0x3683('0xb1')]=this[_0x3683('0xe9')][_0x3683('0x14')][_0x3683('0x72')](_0x2040f6);}['init'](){const _0x523279=this[_0x3683('0xe9')];_0x523279[_0x3683('0xa6')][_0x3683('0x30')][_0x3683('0xb7')](_0x3683('0x26'));const _0x4b038e=new X(_0x523279,{'direction':_0x3683('0x69')}),_0x4b970c=new X(_0x523279,{'direction':'forward'});_0x523279[_0x3683('0x5e')][_0x3683('0x61')](_0x3683('0x56'),_0x4b038e),_0x523279['commands'][_0x3683('0x61')](_0x3683('0x9b'),_0x4b970c),_0x523279[_0x3683('0x5e')][_0x3683('0x61')](_0x3683('0x103'),new Q(_0x523279)),this['on'](_0x3683('0x93'),()=>{_0x4b038e[_0x3683('0x4a')](),_0x4b970c['refresh']();}),this[_0x3683('0x6')](),this[_0x3683('0x17')](),_0x523279['enableReadOnlyMode']('revision-viewer');}async[_0x3683('0x5c')](_0xd8ec48){await this[_0x3683('0xf4')](_0xd8ec48);const _0x8a9f8f={};for(const _0x35eb30 in _0xd8ec48[_0x3683('0x46')]){const _0x1958cc=this[_0x3683('0xec')](JSON[_0x3683('0xa9')](_0xd8ec48[_0x3683('0x46')][_0x35eb30][_0x3683('0x3e')])),_0x3757fa=this[_0x3683('0xe9')][_0x3683('0xc4')][_0x3683('0x76')][_0x3683('0x88')],_0x7a9275=new _0x15e778(_0x3757fa,_0x1958cc['map'](_0x3f60e7=>this[_0x3683('0x37')](_0x3f60e7)));_0x8a9f8f[_0x35eb30]=this['editor'][_0x3683('0xa6')][_0x3683('0x62')][_0x3683('0xc5')](_0x7a9275);}return _0x8a9f8f;}['_removeRevisionMarkers'](_0x6a2a32){return(_0x6a2a32=_0x6a2a32[_0x3683('0xfe')](_0xaa0855=>!_0xaa0855[_0x3683('0x22')]||_0x3683('0x7b')!==_0xaa0855[_0x3683('0x22')]&&_0x3683('0xb8')!==_0xaa0855['name']))[_0x3683('0xa5')](_0x1da8ef=>{_0x3683('0x3b')!=typeof _0x1da8ef&&(_0x1da8ef[_0x3683('0xbc')]=this['_removeRevisionMarkers'](_0x1da8ef[_0x3683('0xbc')]),_0x1da8ef[_0x3683('0x59')]=_0x1da8ef[_0x3683('0x59')][_0x3683('0xfe')](_0x4768d1=>!_0x4768d1[0x0][_0x3683('0xd7')](_0x3683('0x108'))));}),_0x6a2a32;}[_0x3683('0xd1')](_0x2bedac,_0x2608b6,_0x849978=!0x1){if(!this['isEnabled'])return;const _0x3eb857=this[_0x3683('0x78')],_0x1defff=this[_0x3683('0xb')],_0x1a8d34=_0x3683('0x3b')==typeof _0x2bedac?_0x1defff[_0x3683('0xd0')](_0x2bedac):_0x2bedac,_0x26cff6=_0x3683('0x3b')==typeof _0x2608b6?_0x1defff['getRevision'](_0x2608b6):_0x2608b6,_0x2b94a9=_0x1a8d34['id'],_0x304174=_0x26cff6?_0x26cff6['id']:null;if(!_0x849978&&this['diff']&&this[_0x3683('0x78')]['newRevisionId']===_0x2b94a9&&this[_0x3683('0x78')]['oldRevisionId']===_0x304174)return Promise['resolve']();this[_0x3683('0x7e')]=!0x1,this[_0x3683('0x101')]=null,this[_0x3683('0x83')]=null,this[_0x3683('0x78')]=new _0x52cb5d(_0x2b94a9,_0x304174);const _0x47434b=this[_0x3683('0x32')](_0x1a8d34,_0x26cff6,!0x0)['map'](_0x1aa41c=>this[_0x3683('0xf4')](_0x1aa41c));return _0x47434b[_0x3683('0x51')](new Promise(_0x3e53bc=>{setTimeout(_0x3e53bc,0x14);})),Promise[_0x3683('0x75')](_0x47434b)[_0x3683('0xe3')](()=>{if(!this[_0x3683('0x3')])return;this[_0x3683('0x79')]();const _0x5e0359=this[_0x3683('0x1a')](_0x2b94a9,_0x304174);this[_0x3683('0x78')]['_setData'](_0x5e0359);for(const _0x3dd7ba of this[_0x3683('0x78')][_0x3683('0x4d')])this[_0x3683('0x109')]['set'](_0x3dd7ba['id'],_0x3dd7ba);this['editor']['model'][_0x3683('0x2b')]({'isUndoable':!0x1},_0x34bc56=>{for(const _0x18e002 of Object['keys'](_0x5e0359['model'])){const _0x934155=this[_0x3683('0xe9')]['model']['document'][_0x3683('0xc7')](_0x18e002);_0x34bc56[_0x3683('0x16')](_0x34bc56['createRangeIn'](_0x934155)),_0x34bc56[_0x3683('0xd9')](_0x5e0359[_0x3683('0xdc')][_0x18e002],_0x934155,0x0);}}),this['isReady']=!0x0;})['catch'](_0x180358=>{console[_0x3683('0xfd')](_0x180358),this[_0x3683('0x79')](),_0x3eb857?this[_0x3683('0x78')]=_0x3eb857:this[_0x3683('0xe9')][_0x3683('0x5d')](_0x3683('0x68')),this[_0x3683('0x7e')]=!0x0;});}[_0x3683('0x41')](){this[_0x3683('0x101')]=null,this['_changeView']&&this[_0x3683('0x9c')][_0x3683('0x41')]();}['addRevisionData'](_0x3d50e4,_0x1bc7ee){const _0x2a4555=this[_0x3683('0xb')]['createRevision'](_0x3d50e4);return _0x2a4555['on'](_0x3683('0x9e'),(_0x3908b4,_0x3230f0,_0x18258f)=>_0x1bc7ee(_0x3230f0,_0x18258f,_0x2a4555)),this[_0x3683('0xb')][_0x3683('0xe1')](_0x2a4555),_0x2a4555;}[_0x3683('0xf4')](_0x41d1b5){if(!_0x41d1b5||_0x41d1b5['diffData'])return Promise[_0x3683('0x66')]();{const _0x3ab0aa=this[_0x3683('0xe9')][_0x3683('0x50')]['get']('collaboration.channelId');return this[_0x3683('0xa')][_0x3683('0xd0')]({'channelId':_0x3ab0aa,'revisionId':_0x41d1b5['id']})[_0x3683('0xe3')](_0x5acc47=>{_0x41d1b5[_0x3683('0x9e')]({'diffData':_0x5acc47[_0x3683('0x46')]},!0x0);});}}[_0x3683('0x79')](){this['activeChange']=null,this['_cleanMarkers'](),this[_0x3683('0x9c')]&&this['_changeView'][_0x3683('0x41')](),this['_changeView']=null,this[_0x3683('0x109')][_0x3683('0xbf')]();}[_0x3683('0xe2')](_0x23cec4){const _0xf76f09=Array[_0x3683('0x20')](_0x23cec4[_0x3683('0x71')])[_0x3683('0xfe')](([_0x8ee4e5,_0x4e7e52])=>_0x8ee4e5[_0x3683('0xd7')](_0x3683('0xcb'))&&!_0x4e7e52['isCollapsed']),_0x598414=Array[_0x3683('0x20')](this[_0x3683('0xe9')][_0x3683('0xdc')][_0x3683('0x4c')](_0x23cec4)[_0x3683('0x1e')]({'singleCharacters':!0x0}));if(0x0!=_0xf76f09['length'])for(const _0x5be978 of _0x598414){const [_0x53bb82,_0x2d5ff0]=_0xf76f09[0x0],[,_0x114662,_0x4a0b78]=_0x53bb82['split'](':');if(_0x2d5ff0['end'][_0x3683('0x1d')](_0x5be978[_0x3683('0x77')])&&_0xf76f09[_0x3683('0xb3')](),(_0x5be978[_0x3683('0xbd')][_0x3683('0x1d')](_0x2d5ff0[_0x3683('0x5a')])||_0x5be978['previousPosition']['isAfter'](_0x2d5ff0[_0x3683('0x5a')]))&&('insertion'==_0x114662?_0x5be978['isAdded']={'userId':_0x4a0b78}:_0x3683('0x80')==_0x114662&&(_0x5be978[_0x3683('0x34')]={'userId':_0x4a0b78})),0x0==_0xf76f09[_0x3683('0xcd')])break;}return _0x598414;}[_0x3683('0xdd')](_0x1bffee){const _0x144430=new Map();for(let _0x473fd7=0x0;_0x473fd7<_0x1bffee[_0x3683('0xcd')];_0x473fd7++)_0x3683('0xac')===_0x1bffee[_0x473fd7][_0x3683('0xa2')]?(_0x1bffee[_0x473fd7][_0x3683('0x89')][_0x3683('0x74')]=_0x473fd7,_0x1bffee[_0x473fd7][_0x3683('0x89')][_0x3683('0x36')]=_0x473fd7):(_0x3683('0x65')===_0x1bffee[_0x473fd7]['type']?_0x1bffee[_0x473fd7][_0x3683('0x89')][_0x3683('0x74')]=_0x473fd7:_0x3683('0x3f')===_0x1bffee[_0x473fd7][_0x3683('0xa2')]&&(_0x1bffee[_0x473fd7][_0x3683('0x89')]['endIndex']=_0x473fd7),_0x144430[_0x3683('0x9d')](_0x1bffee[_0x473fd7]['id'],_0x473fd7));for(const _0x2a8ffc of _0x144430[_0x3683('0xa1')]())_0x3683('0x65')===_0x1bffee[_0x2a8ffc][_0x3683('0xa2')]?_0x1bffee[_0x2a8ffc][_0x3683('0x89')][_0x3683('0x36')]=_0x144430['get'](_0x1bffee[_0x2a8ffc]['pairId']):_0x3683('0x3f')===_0x1bffee[_0x2a8ffc][_0x3683('0xa2')]&&(_0x1bffee[_0x2a8ffc][_0x3683('0x89')][_0x3683('0x74')]=_0x144430[_0x3683('0x72')](_0x1bffee[_0x2a8ffc][_0x3683('0x107')]));}['_processTape'](_0x2f3954){for(let _0x45d854=0x0;_0x45d854<_0x2f3954[_0x3683('0xcd')];_0x45d854++){if(_0x3683('0x65')===_0x2f3954[_0x45d854][_0x3683('0xa2')])_0x2f3954[_0x45d854][_0x3683('0x89')][_0x3683('0x74')]=_0x45d854;else{if(_0x3683('0x3f')===_0x2f3954[_0x45d854]['type']){_0x2f3954[_0x45d854][_0x3683('0x89')][_0x3683('0x36')]=_0x45d854;const _0x1e48f9=_0x2f3954[_0x45d854][_0x3683('0x89')][_0x3683('0x74')];_0x2f3954[_0x1e48f9]['pairId']=_0x2f3954[_0x45d854]['id'],_0x2f3954[_0x45d854][_0x3683('0x107')]=_0x2f3954[_0x1e48f9]['id'];}else _0x2f3954[_0x45d854][_0x3683('0x89')][_0x3683('0x74')]=_0x45d854,_0x2f3954[_0x45d854][_0x3683('0x89')][_0x3683('0x36')]=_0x45d854,_0x2f3954[_0x45d854][_0x3683('0x107')]=null;}_0x2f3954[_0x45d854][_0x3683('0xb9')]||(_0x2f3954[_0x45d854]['markersStart']=[],_0x2f3954[_0x45d854][_0x3683('0xe4')]=[]);}}['_markInsertions'](_0x1e97a3,_0x4d8e44){const _0x3bc859=_0x1e97a3[_0x3683('0xfe')](_0x49ea22=>!_0x49ea22[_0x3683('0x9f')]);for(let _0x1d80cc=0x0;_0x1d80cc<_0x4d8e44['length'];_0x1d80cc++)_0x4d8e44[_0x1d80cc][_0x3683('0x9f')]&&(_0x3bc859[_0x1d80cc][_0x3683('0x9f')]=_0x4d8e44[_0x1d80cc][_0x3683('0x9f')]);}[_0x3683('0x29')](_0x3a7215){const _0x2d931b=JSON[_0x3683('0xa9')](_0x3a7215),_0x3fea63=this[_0x3683('0xe9')][_0x3683('0xc4')][_0x3683('0x76')][_0x3683('0x88')],_0x5b3b0a=new _0x15e778(_0x3fea63,_0x2d931b[_0x3683('0xdf')](_0x49358a=>this[_0x3683('0x37')](_0x49358a)));return this['editor'][_0x3683('0xa6')][_0x3683('0xd4')](_0x5b3b0a);}[_0x3683('0x37')](_0x282434){const _0xac2557=this[_0x3683('0xe9')][_0x3683('0xc4')]['view'][_0x3683('0x88')];if(_0x3683('0x3b')==typeof _0x282434)return new _0x567a3a(_0xac2557,_0x282434);{const _0x13e150=_0x282434[_0x3683('0xbc')][_0x3683('0xdf')](_0x518176=>this['_getViewObj'](_0x518176));return new(T[_0x282434['type']]||_0x144076)(_0xac2557,_0x282434[_0x3683('0x22')],_0x282434[_0x3683('0x59')],_0x13e150);}}['_getDiff'](_0x448958,_0x3471a7=null){const _0x2e7763=this[_0x3683('0xb')]['getRevision'](_0x448958),_0x428ffd=_0x3471a7?this['repository'][_0x3683('0xd0')](_0x3471a7):null,_0x12e596=this[_0x3683('0x32')](_0x2e7763,_0x428ffd),_0x1742b7=_0x12e596[_0x12e596[_0x3683('0xcd')]-0x1],_0x496707=new Map();for(const _0x201459 of _0x12e596){_0x201459[_0x3683('0xdc')]={};for(const _0x309456 of _0x201459[_0x3683('0xa0')])_0x496707[_0x3683('0x9d')](_0x309456['id'],_0x309456);for(const _0x352469 of this['editor'][_0x3683('0xdc')][_0x3683('0x88')][_0x3683('0x63')]())_0x201459[_0x3683('0x46')][_0x352469]||(_0x201459[_0x3683('0x46')][_0x352469]={'insertions':'[]','deletions':'[]'}),_0x201459['model'][_0x352469]={'insertions':this[_0x3683('0x29')](_0x201459[_0x3683('0x46')][_0x352469][_0x3683('0x3e')]),'deletions':this['_makeModelFromViewString'](_0x201459['diffData'][_0x352469][_0x3683('0xee')])};}const _0xfca87e={'model':{},'changes':[]};for(const _0x45e406 of this[_0x3683('0xe9')][_0x3683('0xdc')][_0x3683('0x88')][_0x3683('0x63')]()){let _0x3c4def=null,_0x418561=0x0;const _0x4ac401=new Map(Array[_0x3683('0x20')](_0x2e7763['model'][_0x45e406]['insertions']['markers'])[_0x3683('0xfe')](([_0x308567])=>!_0x308567[_0x3683('0xd7')](_0x3683('0xcb'))));let _0x1ba028=0x0;for(const _0x2c6a8b of _0x12e596){const _0x2f57dd=this[_0x3683('0xe2')](_0x2c6a8b[_0x3683('0xdc')][_0x45e406]['insertions']);_0x2c6a8b==_0x2e7763?(_0x3c4def=_0x2f57dd,_0x418561=_0x3c4def[_0x3683('0xcd')],_0x3c4def['forEach'](_0x3b7552=>{_0x3b7552['id']=_0x1ba028++;}),this[_0x3683('0xf1')](_0x3c4def)):this[_0x3683('0x27')](_0x3c4def,_0x2f57dd);const _0x279c6c=_0x3c4def[_0x3683('0xfe')](_0x222ef2=>!_0x222ef2['isAdded'])[_0x3683('0xdf')](_0xfab259=>_0xfab259['id']);let _0x38169a=0x0;const _0x86fc23=this[_0x3683('0xe2')](_0x2c6a8b[_0x3683('0xdc')][_0x45e406]['deletions']);_0x86fc23[_0x3683('0xa5')](_0x2d0f99=>{_0x2d0f99['isRemoved']?_0x2d0f99['id']=_0x418561++:_0x2d0f99['id']=_0x279c6c[_0x38169a++];}),this[_0x3683('0xf1')](_0x86fc23),this[_0x3683('0xb4')](_0x3c4def,'isAdded'),this[_0x3683('0xb4')](_0x86fc23,_0x3683('0x34')),_0x2c6a8b==_0x2e7763&&this[_0x3683('0x49')](_0x3c4def,_0x4ac401),_0x3c4def=this['_joinTapes'](_0x3c4def,_0x86fc23),this['_refreshStartEndIndex'](_0x3c4def),this[_0x3683('0xb4')](_0x3c4def,_0x3683('0x34'));}_0x3c4def=_0x3c4def[_0x3683('0xfe')](_0x483889=>!(_0x483889[_0x3683('0x9f')]&&_0x483889['isRemoved']));const _0x43139b=new Map(_0x1742b7['model'][_0x45e406][_0x3683('0xee')]['markers']),_0xe456bc=new Set(_0x4ac401[_0x3683('0x97')]());for(const _0x28329b of _0x43139b[_0x3683('0x97')]())_0xe456bc[_0x3683('0xad')](_0x28329b);this['_markSuggestions'](_0x3c4def,_0xe456bc),this[_0x3683('0x91')](_0x3c4def),_0x3c4def=this[_0x3683('0xa8')](_0x3c4def),_0x3c4def=this[_0x3683('0xb0')](_0x3c4def),_0x3c4def=this[_0x3683('0x6a')](_0x3c4def);const {root:_0xa64ae9,changes:_0x30b431}=this[_0x3683('0x1b')](_0x3c4def,_0x496707);_0xfca87e['model'][_0x45e406]=_0xa64ae9,_0xfca87e[_0x3683('0x4d')]=_0xfca87e[_0x3683('0x4d')][_0x3683('0x13')](_0x30b431);}return _0xfca87e;}[_0x3683('0x49')](_0x4f5d98,_0x122398){for(let _0x450a75=0x0;_0x450a75<_0x4f5d98[_0x3683('0xcd')];_0x450a75++)for(const [_0x12327c,_0xb21d7a]of _0x122398)_0xb21d7a[_0x3683('0x5a')][_0x3683('0x1d')](_0x4f5d98[_0x450a75][_0x3683('0xbd')])&&_0x4f5d98[_0x450a75]['markersStart'][_0x3683('0x51')](_0x12327c),_0xb21d7a['end'][_0x3683('0x1d')](_0x4f5d98[_0x450a75][_0x3683('0x77')])&&_0x4f5d98[_0x450a75][_0x3683('0xe4')][_0x3683('0x51')](_0x12327c);}[_0x3683('0x7')](_0x5adca,_0x34a7e9){let _0x544ce4=[],_0x463273=0x0,_0x5c201f=0x0;for(;_0x463273<_0x5adca[_0x3683('0xcd')]||_0x5c201f<_0x34a7e9[_0x3683('0xcd')];){const _0x1337ff=_0x5adca[_0x463273]||{},_0x170aa5=_0x34a7e9[_0x5c201f]||{};if(_0x1337ff['id']==_0x170aa5['id'])_0x463273++,_0x5c201f++,_0x544ce4[_0x3683('0x51')](_0x1337ff);else{if(_0x170aa5[_0x3683('0x34')]&&_0x1337ff['isAdded']){const {commonTape:_0x12834f,iEnd:_0x5d52d9,jEnd:_0xdaed70}=this[_0x3683('0x53')](_0x5adca,_0x463273,_0x34a7e9,_0x5c201f);_0x544ce4=_0x544ce4['concat'](_0x12834f),_0x463273=_0x5d52d9,_0x5c201f=_0xdaed70;}else _0x170aa5[_0x3683('0x34')]?(_0x5c201f++,_0x544ce4[_0x3683('0x51')](_0x170aa5)):(_0x463273++,_0x544ce4[_0x3683('0x51')](_0x1337ff));}}return _0x544ce4;}['_markSuggestions'](_0x22c662,_0x46abd5){const _0x7794b8=[];for(let _0xeb21db=0x0;_0xeb21db<_0x22c662['length'];_0xeb21db++){for(let _0x52e288=0x0;_0x52e288<_0x22c662[_0xeb21db][_0x3683('0xb9')][_0x3683('0xcd')];_0x52e288++){const _0xd4351c=_0x22c662[_0xeb21db]['markersStart'][_0x52e288];if(!_0x46abd5[_0x3683('0xc6')](_0xd4351c))continue;const {group:_0xdf3887,type:_0xaad65d,authorId:_0x5f474c}=_0x5e4437(_0xd4351c);'suggestion'!=_0xdf3887||_0x3683('0x10a')!=_0xaad65d&&'deletion'!=_0xaad65d||(_0x7794b8['unshift']({'type':_0xaad65d,'name':_0xd4351c,'userId':_0x5f474c}),_0x22c662[_0xeb21db][_0x3683('0xb9')][_0x3683('0x60')](_0x52e288,0x1),_0x52e288--);}_0x431064(_0x22c662[_0xeb21db]);for(let _0x1a77c2=0x0;_0x1a77c2<_0x22c662[_0xeb21db]['markersEnd'][_0x3683('0xcd')];_0x1a77c2++){const _0x21ed7b=_0x22c662[_0xeb21db][_0x3683('0xe4')][_0x1a77c2];if(!_0x46abd5['has'](_0x21ed7b))continue;const {group:_0x35da50,type:_0x45e4a5}=_0x5e4437(_0x21ed7b);if(_0x3683('0x5f')!=_0x35da50||_0x3683('0x10a')!=_0x45e4a5&&'deletion'!=_0x45e4a5)continue;_0x22c662[_0xeb21db][_0x3683('0xe4')][_0x3683('0x60')](_0x1a77c2,0x1),_0x1a77c2--;const _0x153bc7=_0x7794b8['findIndex'](_0x1cda87=>_0x1cda87['name']==_0x21ed7b);_0x153bc7>-0x1&&_0x7794b8['splice'](_0x153bc7,0x1);}}function _0x5e4437(_0x331883){const _0x586531=_0x331883[_0x3683('0xcc')](':');return{'group':_0x586531[0x0],'type':_0x586531[0x1],'subType':_0x586531[_0x3683('0xcd')]>=0x5?_0x586531[0x2]:null,'id':_0x586531[_0x3683('0xcd')]<0x5?_0x586531[0x2]:_0x586531[0x3],'authorId':_0x586531['length']<0x5?_0x586531[0x3]:_0x586531[0x4],'markerCount':0x6==_0x586531[_0x3683('0xcd')]?_0x586531[0x5]:null};}function _0x431064(_0x5c487a){for(let _0x5f21ca=0x0;_0x5f21ca<_0x7794b8[_0x3683('0xcd')];_0x5f21ca++){if(_0x5c487a[_0x3683('0x9f')]&&_0x3683('0x10a')==_0x7794b8[_0x5f21ca][_0x3683('0xa2')])return _0x5c487a['isAddSuggestion']=_0x7794b8[_0x5f21ca],void delete _0x5c487a['isAdded'];if(!_0x5c487a['isAdded']&&!_0x5c487a[_0x3683('0x34')]&&'deletion'==_0x7794b8[_0x5f21ca]['type'])return void(_0x5c487a[_0x3683('0xfc')]=_0x7794b8[_0x5f21ca]);}}}[_0x3683('0xb4')](_0x1e4c82,_0xfdb2b0){let _0x966bd2=0x0,_0x5e2689=!0x1;const _0x267480=new Map();for(const _0x980d75 of _0x1e4c82)_0x980d75[_0xfdb2b0]?_0x5e2689&&(_0x966bd2++,_0x5e2689=!0x1):(_0x966bd2++,_0x5e2689=!0x0),_0x267480['set'](_0x980d75['id'],_0x966bd2);for(let _0xeea8d2=0x0;_0xeea8d2<_0x1e4c82[_0x3683('0xcd')];_0xeea8d2++){if('isRemoved'==_0xfdb2b0&&_0x1e4c82[_0xeea8d2][_0x3683('0x9f')]||'isAdded'==_0xfdb2b0&&_0x1e4c82[_0xeea8d2][_0x3683('0x34')])continue;if(_0x3683('0xac')==_0x1e4c82[_0xeea8d2][_0x3683('0xa2')]){_0x1e4c82[_0xeea8d2][_0x3683('0x55')]=0x0;continue;}const _0x1eb75a=_0x267480[_0x3683('0x72')](_0x1e4c82[_0xeea8d2][_0x3683('0x107')]),_0x19a691=_0x267480[_0x3683('0x72')](_0x1e4c82[_0xeea8d2]['id']);_0x1e4c82[_0xeea8d2][_0x3683('0x55')]=_0x1eb75a-_0x19a691;}}[_0x3683('0x32')](_0x245da9,_0x2b0be1,_0x1d19cc=!0x1){const _0x41a073=[];let _0x8be308=this[_0x3683('0xb')]['getIndex'](_0x245da9),_0xcce1c=this[_0x3683('0xb')][_0x3683('0x99')](_0x2b0be1);for(-0x1==_0xcce1c&&(_0xcce1c=this[_0x3683('0xb')][_0x3683('0x8')][_0x3683('0xcd')],_0x1d19cc=!0x1);_0x8be308<_0xcce1c;)_0x41a073['push'](this[_0x3683('0xb')][_0x3683('0xd0')](_0x8be308)),_0x8be308++;return _0x1d19cc&&_0x41a073[_0x3683('0x51')](this['repository'][_0x3683('0xd0')](_0x8be308)),_0x41a073;}['_threeWayMerge'](_0x84ac1a,_0x1d6417,_0x4a1622,_0x570cc2){const _0xed4af8=this['editor'][_0x3683('0xdc')][_0x3683('0xf2')];let _0x182d1d=_0x1d6417;for(;_0x84ac1a[_0x182d1d]&&_0x84ac1a[_0x182d1d][_0x3683('0x9f')];)_0x182d1d++;let _0x1f873f=_0x570cc2;for(;_0x4a1622[_0x1f873f]&&_0x4a1622[_0x1f873f][_0x3683('0x34')];)_0x1f873f++;_0xa5306f(_0x84ac1a,_0x1d6417,_0x182d1d),_0xa5306f(_0x4a1622,_0x570cc2,_0x1f873f);const _0xfb1acc=_0x4a1622[_0x3683('0x90')](_0x570cc2,_0x1f873f)[_0x3683('0x13')](_0x84ac1a['slice'](_0x1d6417,_0x182d1d));return _0xfb1acc[_0x3683('0x105')]((_0x5adbf8,_0x42adc6)=>_0x5adbf8[_0x3683('0xe0')]!=_0x42adc6[_0x3683('0xe0')]?_0x5adbf8[_0x3683('0xe0')]-_0x42adc6[_0x3683('0xe0')]:_0x5adbf8[_0x3683('0xce')]!=_0x42adc6[_0x3683('0xce')]?_0x5adbf8[_0x3683('0xce')]-_0x42adc6[_0x3683('0xce')]:_0x5adbf8['distance']!=_0x42adc6[_0x3683('0x55')]?_0x42adc6['distance']-_0x5adbf8[_0x3683('0x55')]:!!_0x5adbf8[_0x3683('0x9f')]!=!!_0x42adc6[_0x3683('0x9f')]?-0x1==_0x5adbf8[_0x3683('0xe0')]||0x0==_0x5adbf8['side']?_0x5adbf8[_0x3683('0x9f')]?-0x1:0x1:_0x5adbf8[_0x3683('0x9f')]?0x1:-0x1:_0x5adbf8[_0x3683('0x2f')]-_0x42adc6[_0x3683('0x2f')]),{'commonTape':_0xfb1acc,'iEnd':_0x182d1d,'jEnd':_0x1f873f};function _0xa5306f(_0x376d91,_0x39191a,_0x54d8f8){let _0x307978=-0x1,_0x39e554=Number[_0x3683('0x10')],_0x1e2f09=!0x0;for(let _0x1a0878=_0x39191a;_0x1a0878<_0x54d8f8;_0x1a0878++)if(_0xed4af8[_0x3683('0x9a')](_0x376d91[_0x1a0878][_0x3683('0x89')])||(_0x1e2f09=!0x1),_0x376d91[_0x1a0878][_0x3683('0x89')][_0x3683('0x74')]<_0x39191a&&(_0x307978=_0x1a0878),_0x376d91[_0x1a0878][_0x3683('0x89')]['endIndex']>=_0x54d8f8){_0x39e554=_0x1a0878;break;}_0x1e2f09&&(_0x307978=_0x54d8f8-0x1);for(let _0x2d037d=_0x39191a;_0x2d037d<_0x54d8f8;_0x2d037d++)_0x376d91[_0x2d037d][_0x3683('0xe0')]=_0x2d037d<=_0x307978?-0x1:_0x2d037d<_0x39e554?0x0:0x1,_0x376d91[_0x2d037d]['index']=_0x2d037d;let _0x4535bd=0x0;for(let _0x152008=_0x39191a;_0x152008<=_0x307978;_0x152008++)0x0==_0x376d91[_0x152008][_0x3683('0x55')]?_0x376d91[_0x152008]['level']=_0x4535bd:(_0x4535bd++,_0x376d91[_0x152008][_0x3683('0xce')]=_0x4535bd,_0x4535bd++);for(let _0x38c2c5=_0x39191a;_0x38c2c5<_0x54d8f8;_0x38c2c5++)0x0==_0x376d91[_0x38c2c5][_0x3683('0xe0')]&&(_0x376d91[_0x38c2c5][_0x3683('0xce')]=_0x4535bd);_0x4535bd=0x0;for(let _0x392709=_0x54d8f8-0x1;_0x392709>=_0x39e554;_0x392709--)0x0==_0x376d91[_0x392709][_0x3683('0x55')]?_0x376d91[_0x392709][_0x3683('0xce')]=_0x4535bd:(_0x4535bd--,_0x376d91[_0x392709]['level']=_0x4535bd,_0x4535bd--);}}[_0x3683('0x91')](_0x5646d6){const _0x1648fe=new Map(),_0x47a53c=this[_0x3683('0xe9')][_0x3683('0xdc')]['schema'];for(let _0x255080=0x1;_0x255080<_0x5646d6[_0x3683('0xcd')];_0x255080++){let _0x21e071,_0x3e7c3c,_0x346ed6;const _0xcbc916=_0x5646d6[_0x255080],_0x1d9da8=_0x5646d6[_0x255080-0x1];if(_0x3683('0xac')==_0xcbc916['type'])continue;if(_0xcbc916['type']!=_0x1d9da8['type'])continue;if(!_0x47a53c['isBlock'](_0x1d9da8['item'])||_0x47a53c[_0x3683('0xdb')](_0x1d9da8[_0x3683('0x89')]))continue;if(!_0x47a53c[_0x3683('0x18')](_0xcbc916[_0x3683('0x89')])||_0x47a53c[_0x3683('0xdb')](_0xcbc916['item']))continue;if((_0x5646d6[_0x255080][_0x3683('0x9f')]||_0x5646d6[_0x255080][_0x3683('0xf3')])&&_0x5646d6[_0x255080-0x1][_0x3683('0x34')])_0x21e071=_0x5646d6[_0x255080],_0x3e7c3c=_0x5646d6[_0x255080-0x1],_0x346ed6=_0x255080-0x1;else{if(!_0x5646d6[_0x255080][_0x3683('0x34')]||!_0x5646d6[_0x255080-0x1][_0x3683('0x9f')]&&!_0x5646d6[_0x255080-0x1][_0x3683('0xf3')])continue;_0x21e071=_0x5646d6[_0x255080-0x1],_0x3e7c3c=_0x5646d6[_0x255080],_0x346ed6=_0x255080;}const _0x16a181=_0x21e071[_0x3683('0xce')]==_0x3e7c3c[_0x3683('0xce')],_0x516122=Math[_0x3683('0x85')](_0x21e071[_0x3683('0xce')])<Math['abs'](_0x3e7c3c[_0x3683('0xce')])&&0x0==_0x3e7c3c['distance'];(_0x16a181||_0x516122)&&(_0x1648fe['set'](_0x3e7c3c['id'],_0x21e071['id']),_0x5646d6[_0x3683('0x60')](_0x346ed6,0x1),_0x255080--,_0x21e071[_0x3683('0x9f')]=!0x1);}for(let _0x5a6ca5=0x0;_0x5a6ca5<_0x5646d6[_0x3683('0xcd')];_0x5a6ca5++)_0x1648fe['has'](_0x5646d6[_0x5a6ca5][_0x3683('0x107')])&&(_0x5646d6[_0x5a6ca5][_0x3683('0x107')]=_0x1648fe[_0x3683('0x72')](_0x5646d6[_0x5a6ca5][_0x3683('0x107')]));}[_0x3683('0xa8')](_0x44a671){const _0x53b198=new Set(_0x44a671[_0x3683('0xdf')](_0x3cf774=>_0x3cf774['id']));for(let _0x118bb0=0x0;_0x118bb0<_0x44a671['length'];_0x118bb0++)_0x53b198['has'](_0x44a671[_0x118bb0]['pairId'])||0x0==_0x44a671[_0x118bb0][_0x3683('0x55')]||(_0x44a671[_0x118bb0][_0x3683('0x2c')]=!0x0);return _0x44a671['filter'](_0x4f94c1=>!_0x4f94c1['isIncorrect']);}['_markMismatchedRemovedTags'](_0x168f62){const _0x31123e=new Set();for(let _0x2e87b0=0x0;_0x2e87b0<_0x168f62[_0x3683('0xcd')];_0x2e87b0++){if(_0x31123e[_0x3683('0xc6')](_0x168f62[_0x2e87b0]['id'])&&_0x168f62[_0x2e87b0]['isRemoved']&&(_0x168f62[_0x2e87b0]['isIncorrect']=!0x0),_0x168f62[_0x2e87b0][_0x3683('0x2c')])continue;if(0x0==_0x168f62[_0x2e87b0][_0x3683('0x55')])continue;if(_0x3683('0x65')!=_0x168f62[_0x2e87b0][_0x3683('0xa2')])continue;if(null==_0x168f62[_0x2e87b0][_0x3683('0x107')])continue;let _0x2b332a=_0x2e87b0+0x1,_0x2ae1d7=0x0;for(;_0x168f62[_0x2b332a]['id']!=_0x168f62[_0x2e87b0][_0x3683('0x107')];)'elementStart'==_0x168f62[_0x2b332a][_0x3683('0xa2')]?_0x2ae1d7++:'elementEnd'==_0x168f62[_0x2b332a][_0x3683('0xa2')]&&_0x2ae1d7--,_0x2b332a++;if(0x0!=_0x2ae1d7){if(_0x168f62[_0x2e87b0][_0x3683('0x34')])_0x168f62[_0x2e87b0][_0x3683('0x2c')]=!0x0;else for(;_0x2b332a!=_0x2e87b0;)_0x168f62[_0x2b332a][_0x3683('0x34')]&&0x0!=_0x168f62[_0x2b332a][_0x3683('0x55')]&&(_0x168f62[_0x2b332a][_0x3683('0x2c')]=!0x0,_0x31123e[_0x3683('0x61')](_0x168f62[_0x2b332a]['pairId'])),_0x2b332a--;}}return _0x168f62[_0x3683('0xfe')](_0x11ba16=>!_0x11ba16[_0x3683('0x2c')]);}[_0x3683('0x6a')](_0x10025b){const _0x545c18=this[_0x3683('0xe9')][_0x3683('0xdc')][_0x3683('0xf2')];for(let _0x550f3e=0x0;_0x550f3e<_0x10025b[_0x3683('0xcd')];_0x550f3e++){if(!(_0x10025b[_0x550f3e][_0x3683('0x9f')]||_0x10025b[_0x550f3e]['isAddSuggestion']||_0x10025b[_0x550f3e][_0x3683('0x34')]||_0x10025b[_0x550f3e][_0x3683('0xfc')]))continue;if(0x0==_0x10025b[_0x550f3e][_0x3683('0x55')])continue;const _0x248bf9=_0x10025b[_0x550f3e][_0x3683('0x89')];_0x545c18[_0x3683('0x18')](_0x248bf9)||_0x545c18[_0x3683('0xdb')](_0x248bf9)||(_0x10025b[_0x550f3e][_0x3683('0x9f')]&&delete _0x10025b[_0x550f3e][_0x3683('0x9f')],_0x10025b[_0x550f3e][_0x3683('0xf3')]&&delete _0x10025b[_0x550f3e]['isAddSuggestion'],_0x10025b[_0x550f3e][_0x3683('0xfc')]&&delete _0x10025b[_0x550f3e][_0x3683('0xfc')],_0x10025b[_0x550f3e][_0x3683('0x34')]&&(_0x10025b[_0x550f3e]['isIncorrect']=!0x0));}return _0x10025b['filter'](_0x401cef=>!_0x401cef[_0x3683('0x2c')]);}[_0x3683('0x1b')](_0x40a524,_0x273a9a){const _0x4666b4=new _0x56c45c(),_0x1311d0=[],_0x413c08=new Map(),_0x5d8bcd=this[_0x3683('0xe9')][_0x3683('0xdc')],_0x3c698c=_0x5d8bcd['schema'],_0x5ce982=[_0x4666b4],_0x14993d={},_0x2541e4={'isAdded':[],'isRemoved':[],'isAddSuggestion':[],'isRemoveSuggestion':[]};let _0x304ac3=null;const _0x3b9ef9=[0x0];for(let _0x1278ea=0x0;_0x1278ea<_0x40a524[_0x3683('0xcd')];_0x1278ea++){let _0x1c0457,_0x4abc3a;if(_0x3683('0x65')===_0x40a524[_0x1278ea][_0x3683('0xa2')]){_0x1c0457=_0x5d8bcd[_0x3683('0xf5')](_0x4666b4,_0x3b9ef9);const _0x46ee1d=new _0x1b2555(_0x40a524[_0x1278ea]['item']['name'],_0x40a524[_0x1278ea]['item'][_0x3683('0xfa')]());_0x5ce982[0x0][_0x3683('0x67')](_0x46ee1d),_0x3b9ef9[_0x3683('0x51')](0x0),_0x5ce982[_0x3683('0x8d')](_0x46ee1d),_0x4abc3a=_0x5d8bcd[_0x3683('0xf5')](_0x4666b4,_0x3b9ef9),_0x304ac3=null;}else{if(_0x3683('0x3f')===_0x40a524[_0x1278ea][_0x3683('0xa2')])_0x5ce982[_0x3683('0xb3')](),_0x1c0457=_0x5d8bcd[_0x3683('0xf5')](_0x4666b4,_0x3b9ef9),_0x3b9ef9[_0x3683('0x19')](),_0x3b9ef9[_0x3b9ef9[_0x3683('0xcd')]-0x1]++,_0x4abc3a=_0x5d8bcd[_0x3683('0xf5')](_0x4666b4,_0x3b9ef9),_0x304ac3=null;else{if(_0x1c0457=_0x5d8bcd[_0x3683('0xf5')](_0x4666b4,_0x3b9ef9),_0x304ac3&&_0x102ac3(_0x304ac3,_0x40a524[_0x1278ea][_0x3683('0x89')]))_0x304ac3[_0x3683('0x3a')]+=_0x40a524[_0x1278ea]['item'][_0x3683('0xa6')];else{const _0x3e2d09=new _0x2d360a(_0x40a524[_0x1278ea][_0x3683('0x89')]['data'],_0x40a524[_0x1278ea][_0x3683('0x89')][_0x3683('0xfa')]());_0x5ce982[0x0][_0x3683('0x67')](_0x3e2d09),_0x304ac3=_0x3e2d09;}_0x3b9ef9[_0x3b9ef9['length']-0x1]+=_0x40a524[_0x1278ea][_0x3683('0x89')][_0x3683('0x6f')],_0x4abc3a=_0x5d8bcd[_0x3683('0xf5')](_0x4666b4,_0x3b9ef9);}}for(const _0x584f83 of _0x40a524[_0x1278ea][_0x3683('0xb9')])_0x413c08[_0x3683('0x9d')](_0x584f83,{'start':_0x1c0457,'end':null});_0x292202(_0x3683('0xfc'),_0x1278ea,_0x1c0457,_0x4abc3a),_0x292202('isAddSuggestion',_0x1278ea,_0x1c0457,_0x4abc3a),_0x292202(_0x3683('0x34'),_0x1278ea,_0x1c0457,_0x4abc3a),_0x292202(_0x3683('0x9f'),_0x1278ea,_0x1c0457,_0x4abc3a);for(const _0x4911d6 of _0x40a524[_0x1278ea][_0x3683('0xe4')]){_0x413c08['get'](_0x4911d6)[_0x3683('0xef')]=_0x4abc3a;}}for(const [_0x45759d,_0x202587]of _0x413c08){const _0xa535e7=this[_0x3683('0xe9')]['model'][_0x3683('0x106')](_0x202587[_0x3683('0x5a')],_0x202587[_0x3683('0xef')]);_0x4666b4[_0x3683('0x71')][_0x3683('0x9d')](_0x45759d,_0xa535e7);}return _0x1311d0['sort']((_0x395a35,_0x2b283a)=>{const _0xb2b40b=_0x4666b4['markers']['get'](_0x3683('0xcb')+_0x395a35['id']),_0x20a777=_0x4666b4[_0x3683('0x71')][_0x3683('0x72')](_0x3683('0xcb')+_0x2b283a['id']);return _0xb2b40b[_0x3683('0x5a')][_0x3683('0x92')](_0x20a777[_0x3683('0x5a')])?-0x1:_0xb2b40b[_0x3683('0x5a')][_0x3683('0xc3')](_0x20a777[_0x3683('0x5a')])?0x1:_0xb2b40b[_0x3683('0xef')]['isBefore'](_0x20a777[_0x3683('0xef')])?-0x1:_0xb2b40b[_0x3683('0xef')][_0x3683('0xc3')](_0x20a777[_0x3683('0xef')])?0x1:_0x3683('0x61')===_0x395a35[_0x3683('0xa2')]?-0x1:0x1;}),{'root':_0x4666b4,'changes':_0x1311d0};function _0x292202(_0x8be7d0,_0x37edb4,_0xbace78,_0x5ddc59){const _0xd3cfc3=!!_0x40a524[_0x37edb4][_0x8be7d0],_0x4785be=_0xd3cfc3?_0x40a524[_0x37edb4][_0x8be7d0]['userId']:null,_0x13599a=_0x37edb4===_0x40a524[_0x3683('0xcd')]-0x1,_0x5c9864=_0x2541e4[_0x8be7d0][0x0],_0x8ff0c4=_0x3c698c[_0x3683('0x102')](_0x40a524[_0x37edb4]['item']);!_0x14993d[_0x8be7d0]&&_0xd3cfc3?_0x14993d[_0x8be7d0]={'start':_0xbace78,'tapeItem':_0x40a524[_0x37edb4],'userId':_0x4785be,'type':_0x8be7d0}:_0x14993d[_0x8be7d0]&&!_0xd3cfc3?(_0x14993d[_0x8be7d0][_0x3683('0xef')]=_0xbace78,_0x1e1159(_0x14993d[_0x8be7d0]),_0x14993d[_0x8be7d0]=null):_0x14993d[_0x8be7d0]&&_0xd3cfc3&&_0x14993d[_0x8be7d0][_0x3683('0x87')]!==_0x4785be&&(_0x14993d[_0x8be7d0][_0x3683('0xef')]=_0xbace78,_0x5c9864&&_0x5c9864[_0x3683('0x87')]===_0x14993d[_0x8be7d0]['userId']||_0x1e1159(_0x14993d[_0x8be7d0]),_0x14993d[_0x8be7d0]={'start':_0xbace78,'tapeItem':_0x40a524[_0x37edb4],'userId':_0x4785be,'type':_0x8be7d0}),_0x14993d[_0x8be7d0]&&_0x8ff0c4&&(_0x3683('0x65')!==_0x40a524[_0x37edb4][_0x3683('0xa2')]||_0x5c9864&&_0x5c9864[_0x3683('0x87')]===_0x4785be||_0x2541e4[_0x8be7d0][_0x3683('0x8d')]({'userId':_0x4785be,'object':_0x40a524[_0x37edb4][_0x3683('0x89')],'change':_0x14993d[_0x8be7d0]}),_0x3683('0x3f')===_0x40a524[_0x37edb4][_0x3683('0xa2')]&&_0x5c9864&&_0x5c9864[_0x3683('0x12')]===_0x40a524[_0x37edb4][_0x3683('0x89')]&&(_0x2541e4[_0x8be7d0][_0x3683('0xb3')](),_0x14993d[_0x8be7d0]=_0x5c9864[_0x3683('0x6c')])),_0x14993d[_0x8be7d0]&&_0x13599a&&(_0x14993d[_0x8be7d0]['end']=_0x5ddc59,_0x1e1159(_0x14993d[_0x8be7d0]),_0x14993d[_0x8be7d0]=null);}function _0x1e1159({start:_0x39a6bf,end:_0x10c47d,tapeItem:_0x332ba7,userId:_0x39b800,type:_0x2e86fb}){const _0x2e5dac=_0x332ba7['item'],_0x343f1a=_0x5d8bcd[_0x3683('0xf2')][_0x3683('0x18')](_0x2e5dac)&&!_0x5d8bcd[_0x3683('0xf2')][_0x3683('0xdb')](_0x2e5dac),_0x3ab5d7=_0x39a6bf[_0x3683('0xba')]==_0x10c47d['parent']&&_0x10c47d[_0x3683('0x1f')];if(_0x343f1a&&_0x3ab5d7)return;const _0x1050d7=_0x5d8bcd[_0x3683('0x106')](_0x39a6bf,_0x10c47d),_0x145835=_0x273a9a[_0x3683('0x72')](_0x39b800),_0x405338=new _0x2f83f8({'author':_0x145835,'type':_0x3683('0x9f')==_0x2e86fb||_0x3683('0xf3')==_0x2e86fb?_0x3683('0x61'):_0x3683('0x16'),'data':{'isSuggestion':_0x3683('0xf3')==_0x2e86fb||_0x3683('0xfc')==_0x2e86fb},'createdAt':new Date()});_0x1311d0[_0x3683('0x51')](_0x405338),_0x4666b4[_0x3683('0x71')]['set'](_0x3683('0xcb')+_0x405338['id'],_0x1050d7);}function _0x102ac3(_0x1e93c4,_0x5c1bc0){const _0x5b48cf=_0x1e93c4['getAttributes'](),_0x34af67=_0x5c1bc0['getAttributes']();for(const _0x1b9948 of _0x5b48cf){if(_0x1b9948[0x1]!==_0x5c1bc0[_0x3683('0x44')](_0x1b9948[0x0]))return!0x1;_0x34af67[_0x3683('0x82')]();}return _0x34af67[_0x3683('0x82')]()[_0x3683('0xb2')];}}[_0x3683('0x6')](){this['editor'][_0x3683('0x8b')][_0x3683('0x8f')]('upcast')[_0x3683('0xd')]({'view':'revision'}),this['editor'][_0x3683('0x8b')]['for'](_0x3683('0x6b'))[_0x3683('0x1c')]({'model':_0x3683('0x2a'),'view':_0x177a55=>{const _0x4a1ac3=_0x177a55['markerName'][_0x3683('0xcc')](':')[0x1],_0x4a1dd6=this[_0x3683('0x73')](_0x4a1ac3);if(!_0x4a1dd6)return null;const _0x225418=_0x3683('0x61')==_0x4a1dd6[_0x3683('0xa2')]?_0x3683('0x10a'):_0x3683('0x80'),_0x421d34=['ck-suggestion-marker','ck-suggestion-marker-'+_0x225418];return _0x4a1dd6[_0x3683('0xa6')][_0x3683('0xa7')]&&_0x421d34[_0x3683('0x51')]('ck-suggestion-marker-'+_0x225418+_0x3683('0x7c')),this[_0x3683('0x83')]==_0x4a1dd6&&_0x421d34[_0x3683('0x51')]('ck-suggestion-marker--active'),{'classes':_0x421d34,'attributes':{'data-change-id':_0x4a1ac3}};}}),this['editor']['conversion'][_0x3683('0x8f')]('upcast')['add'](_0x52f7b7=>{_0x52f7b7['on']('element:pre',(_0x58565d,_0x5e33a5,_0x5994e8)=>{const _0x3dc1a7=_0x5e33a5[_0x3683('0x96')][_0x3683('0x8c')](0x0);if(!_0x3dc1a7||!_0x3dc1a7['is'](_0x3683('0xe7'),_0x3683('0x43')))return;if(!_0x5994e8[_0x3683('0x7a')][_0x3683('0x52')](_0x3dc1a7,{'attributes':[_0x3683('0x40'),'vid_end']}))return;const _0x29b02b=_0x5e33a5[_0x3683('0xc1')][_0x3683('0x5a')][_0x3683('0xba')];_0x5994e8[_0x3683('0x7f')][_0x3683('0x3d')](_0x3683('0x40'),_0x3dc1a7[_0x3683('0x44')](_0x3683('0x40')),_0x29b02b),_0x5994e8[_0x3683('0x7f')]['setAttribute'](_0x3683('0x35'),_0x3dc1a7[_0x3683('0x44')](_0x3683('0x35')),_0x29b02b);},{'priority':_0x3683('0xca')});}),this[_0x3683('0xe9')]['conversion'][_0x3683('0x8f')]('upcast')[_0x3683('0x61')](_0x362c6a=>{_0x362c6a['on'](_0x3683('0xe7'),(_0x42c1bb,_0x6a5f62,_0x68139b)=>{if(!_0x68139b[_0x3683('0x7a')][_0x3683('0x52')](_0x6a5f62['viewItem'],{'attributes':['vid_start',_0x3683('0x35')]}))return;if(_0x6a5f62[_0x3683('0xc1')]['isCollapsed'])return;const _0x218a74=_0x6a5f62[_0x3683('0xc1')][_0x3683('0x5a')][_0x3683('0xba')];_0x218a74[_0x3683('0x15')]('vid_start')||_0x218a74[_0x3683('0x15')](_0x3683('0x84'))||(_0x68139b[_0x3683('0x7f')][_0x3683('0x3d')]('vid_start',_0x6a5f62[_0x3683('0x96')][_0x3683('0x44')](_0x3683('0x40')),_0x218a74),_0x68139b[_0x3683('0x7f')][_0x3683('0x3d')](_0x3683('0x35'),_0x6a5f62[_0x3683('0x96')][_0x3683('0x44')](_0x3683('0x35')),_0x218a74));},{'priority':_0x3683('0xca')});}),this[_0x3683('0xe9')][_0x3683('0x8b')][_0x3683('0x8f')](_0x3683('0x95'))['elementToAttribute']({'view':{'name':'span','attributes':{'vid':!0x0}},'model':{'key':_0x3683('0x84'),'value':_0x5d4c1f=>_0x5d4c1f[_0x3683('0x44')](_0x3683('0x84'))}}),this['editor'][_0x3683('0xdc')][_0x3683('0xf2')]['on']('checkAttribute',(_0x48096d,[,_0x6fcbaa])=>{['vid_start',_0x3683('0x35'),'vid'][_0x3683('0x4b')](_0x6fcbaa)&&(_0x48096d['return']=!0x0,_0x48096d[_0x3683('0xed')]());},{'priority':_0x3683('0xd6')}),this[_0x3683('0xe9')][_0x3683('0x8b')][_0x3683('0x8f')](_0x3683('0xae'))[_0x3683('0x61')](_0x3da628=>{_0x3da628['on'](_0x3683('0x57'),(_0x516307,_0x21b457,_0x1f2ed9)=>{if('\x20'!=_0x21b457['item']['data']||_0x21b457[_0x3683('0x89')][_0x3683('0xc0')][_0x3683('0x6d')]>0x1)return;if(!_0x1f2ed9[_0x3683('0x7a')]['consume'](_0x21b457[_0x3683('0x89')],_0x516307[_0x3683('0x22')]))return;const _0x55711a=_0x1f2ed9[_0x3683('0x7f')],_0x2654bb=_0x1f2ed9[_0x3683('0xf8')][_0x3683('0xe6')](_0x21b457[_0x3683('0xc')]);_0x55711a[_0x3683('0xde')](_0x2654bb,_0x55711a['createAttributeElement'](_0x3683('0x33')));});}),this['editor']['conversion']['for'](_0x3683('0xae'))[_0x3683('0x98')]({'model':'revision'}),this[_0x3683('0xe9')][_0x3683('0xc4')][_0x3683('0x48')]['on'](_0x3683('0xd5'),function(_0x3aec6b){const _0x34728e=_0x3aec6b[_0x3683('0x14')][_0x3683('0x72')](_0x3683('0x21'));return(_0x14b803,_0xd71433,_0x506afe)=>{const _0x3415ce=_0xd71433[_0x3683('0x5')]['split'](':')[0x1],_0x360a2e=_0x34728e['_getChangeFromId'](_0x3415ce);if(!_0x360a2e)return null;const _0x27fec9=_0x3683('0x61')==_0x360a2e['type']?_0x3683('0xcc'):_0x3683('0xbe');if(!_0x506afe['consumable'][_0x3683('0x2e')](_0xd71433[_0x3683('0x9')],_0x14b803[_0x3683('0x22')]))return;const _0x94c8f6=_0xd71433[_0x3683('0x9')][_0x3683('0x1e')](),_0x375c38=_0xd71433['markerRange'][_0x3683('0x5a')],_0x304f3e=_0x3aec6b[_0x3683('0xdc')][_0x3683('0xf2')];let _0x332eb6=null,_0x3eef90=null,_0x5a51c3=!0x1,_0x122839=!0x1;for(const _0x110c5c of _0x94c8f6){const _0x244735=_0x110c5c[_0x3683('0x89')];_0x5a51c3=_0x5a51c3||_0x304f3e['isContent'](_0x244735);const _0x219fd3=_0x506afe[_0x3683('0xf8')][_0x3683('0xea')](_0x244735);if(_0x219fd3&&_0x219fd3[_0x3683('0xd8')](_0x3683('0xf')))return;_0x3683('0x3f')==_0x110c5c[_0x3683('0xa2')]&&(_0x304f3e['isBlock'](_0x244735)&&!_0x304f3e[_0x3683('0xdb')](_0x244735)&&(_0x244735[_0x3683('0x25')]||_0x375c38[_0x3683('0x8e')]?_0x332eb6&&_0x332eb6[_0x3683('0xc0')]==_0x244735||(_0x332eb6=_0x244735,_0x26fb17(_0x110c5c[_0x3683('0xbd')]),_0x122839=!0x0):_0x3eef90=_0x3eef90||_0x110c5c['previousPosition']));}function _0x26fb17(_0x473c6d){const _0x126fdb=_0x506afe['writer']['createUIElement'](_0x3683('0x33'),{'class':_0x3683('0x38')+_0x27fec9}),_0x3eaec7=_0x506afe[_0x3683('0xf8')][_0x3683('0x31')](_0x473c6d);_0x360a2e[_0x3683('0xa6')][_0x3683('0xa7')]&&_0x506afe[_0x3683('0x7f')][_0x3683('0xc2')](_0x3683('0x38')+_0x27fec9+'-new',_0x126fdb),_0x34728e[_0x3683('0x83')]==_0x360a2e&&_0x506afe[_0x3683('0x7f')][_0x3683('0xc2')]('ck-suggestion-marker--active',_0x126fdb),_0x506afe[_0x3683('0x7f')][_0x3683('0xd9')](_0x3eaec7,_0x126fdb),_0x506afe['mapper']['bindElementToMarker'](_0x126fdb,_0xd71433['markerName']);}_0x5a51c3||_0x122839||!_0x3eef90||_0x26fb17(_0x3eef90);};}(this['editor']),{'priority':_0x3683('0xfb')}),this[_0x3683('0xe9')][_0x3683('0xc4')][_0x3683('0x48')]['on'](_0x3683('0x6e'),(_0xe40d3b,_0x26a7f3,_0x54d99e)=>{const _0x4fb57e=_0x54d99e[_0x3683('0xf8')][_0x3683('0xbb')](_0x26a7f3['markerName']);if(_0x4fb57e)for(const _0x529519 of _0x4fb57e)(_0x529519['hasClass']('ck-suggestion-marker-split')||_0x529519[_0x3683('0xf7')](_0x3683('0x4e')))&&(_0x54d99e[_0x3683('0xf8')][_0x3683('0x11')](_0x529519,_0x26a7f3['markerName']),_0x54d99e[_0x3683('0x7f')][_0x3683('0x16')](_0x529519));},{'priority':'high'}),this['editor'][_0x3683('0xc4')][_0x3683('0x48')]['on'](_0x3683('0xd5'),(_0x354b33,_0x1f0aa1,_0x248c47)=>{const _0x44969e=_0x1f0aa1[_0x3683('0x5')][_0x3683('0xcc')](':')[0x1],_0x40bde0=this[_0x3683('0x73')](_0x44969e);if(!_0x40bde0)return null;const _0xfe19f0=_0x3683('0x61')==_0x40bde0[_0x3683('0xa2')]?_0x3683('0xcc'):_0x3683('0xbe');if(_0x248c47[_0x3683('0x7a')][_0x3683('0x2e')](_0x1f0aa1[_0x3683('0x9')],_0x354b33[_0x3683('0x22')]))for(const _0x10ec00 of _0x1f0aa1['markerRange'][_0x3683('0xe5')]()){if(!_0x10ec00['is'](_0x3683('0xe7'),_0x3683('0x8a')))continue;const _0x23a999=_0x248c47[_0x3683('0x7f')][_0x3683('0xff')](_0x3683('0x33'),{'class':_0x3683('0x38')+_0xfe19f0}),_0x475cd5=_0x248c47[_0x3683('0xf8')]['toViewPosition'](this[_0x3683('0xe9')]['model'][_0x3683('0xc9')](_0x10ec00));_0x40bde0[_0x3683('0xa6')][_0x3683('0xa7')]&&_0x248c47['writer'][_0x3683('0xc2')]('ck-suggestion-marker-'+_0xfe19f0+'-new',_0x23a999),this[_0x3683('0x83')]==_0x40bde0&&_0x248c47[_0x3683('0x7f')]['addClass'](_0x3683('0x2'),_0x23a999),_0x248c47[_0x3683('0x7f')][_0x3683('0xd9')](_0x475cd5,_0x23a999),_0x248c47['mapper'][_0x3683('0x39')](_0x23a999,_0x1f0aa1['markerName']);}},{'priority':'high'}),this['editor'][_0x3683('0x8b')][_0x3683('0x8f')](_0x3683('0x95'))[_0x3683('0xd')]({'view':_0x3683('0x5f')}),this[_0x3683('0xe9')][_0x3683('0x8b')]['for'](_0x3683('0xae'))[_0x3683('0x98')]({'model':_0x3683('0x5f')}),this[_0x3683('0xe9')]['conversion']['for'](_0x3683('0x6b'))['markerToHighlight']({'model':'suggestion','view':_0x40097c=>{const _0x5296af=_0x40097c[_0x3683('0x5')]['split'](':')[0x1];return _0x3683('0x10a')!=_0x5296af&&'deletion'!=_0x5296af?null:{'classes':[_0x3683('0x86'),'ck-suggestion-preview-marker-'+_0x5296af]};}}),this[_0x3683('0xe9')][_0x3683('0xc4')][_0x3683('0x48')]['on']('addMarker:suggestion:deletion',K(this[_0x3683('0xe9')],_0x3683('0xbe')),{'priority':_0x3683('0xfb')}),this[_0x3683('0xe9')]['editing'][_0x3683('0x48')]['on']('addMarker:suggestion:insertion',K(this['editor'],'split'),{'priority':_0x3683('0xfb')}),this['editor'][_0x3683('0xc4')][_0x3683('0x48')]['on'](_0x3683('0x23'),(_0x558302,_0x387825,_0x3fdecf)=>{const _0x523db2=_0x3fdecf['mapper'][_0x3683('0xbb')](_0x387825[_0x3683('0x5')]);if(_0x523db2)for(const _0x2e2159 of _0x523db2)_0x2e2159['is'](_0x3683('0x1'))&&(_0x3fdecf[_0x3683('0xf8')][_0x3683('0x11')](_0x2e2159,_0x387825[_0x3683('0x5')]),_0x3fdecf[_0x3683('0x7f')][_0x3683('0x16')](_0x2e2159));},{'priority':_0x3683('0xfb')});}[_0x3683('0x73')](_0x8e68c3){return this[_0x3683('0x109')]['get'](_0x8e68c3);}[_0x3683('0x4f')](_0x441255){this[_0x3683('0x9c')]&&this[_0x3683('0x9c')][_0x3683('0x41')](),this[_0x3683('0x9c')]=new _0x7a460(this[_0x3683('0xe9')][_0x3683('0xaa')],_0x441255);const _0x56f596=this[_0x3683('0xe9')][_0x3683('0xdc')]['markers'][_0x3683('0x72')](_0x3683('0xcb')+_0x441255['id']);return this[_0x3683('0x9c')][_0x3683('0x0')]=()=>_0x4b2ed6(this[_0x3683('0xe9')][_0x3683('0xc4')],_0x56f596),this[_0x3683('0x9c')];}[_0x3683('0x17')](){this[_0x3683('0xe9')]['model'][_0x3683('0x88')]['selection'][_0x3683('0x45')]('revision'),this['on'](_0x3683('0xc8'),(_0x47620c,_0x2ca591,_0x3c5253,_0x48e510)=>{_0x48e510&&this['_balloon']['remove'](_0x48e510),_0x3c5253&&(this[_0x3683('0xb1')][_0x3683('0x61')]({'view':_0x3c5253,'stackId':_0x3683('0xd3'),'position':{'target':_0x3c5253[_0x3683('0x0')]}}),this[_0x3683('0xb1')][_0x3683('0x4')]('revisionHistoryLabel'));}),this['on'](_0x3683('0xe'),(_0x2dd453,_0x4530b6,_0x20d662,_0x2ea6cb)=>{this[_0x3683('0x101')]=_0x20d662?this[_0x3683('0x4f')](_0x20d662):null,this[_0x3683('0xe9')][_0x3683('0xdc')][_0x3683('0x6c')](()=>{const _0x148d71=this[_0x3683('0xe9')][_0x3683('0xc4')];_0x2ea6cb&&_0x148d71['reconvertMarker'](_0x3683('0xcb')+_0x2ea6cb['id']),_0x20d662&&_0x148d71[_0x3683('0x7d')](_0x3683('0xcb')+_0x20d662['id']);});}),this[_0x3683('0x47')](this['editor'][_0x3683('0xc4')][_0x3683('0x76')]['document'],'mouseover',(_0x419ea6,_0x5a4dd4)=>{if(this[_0x3683('0x83')])return;const _0x428793=this[_0x3683('0x70')](_0x5a4dd4[_0x3683('0x3c')]),_0x19d48f=this[_0x3683('0x109')][_0x3683('0x72')](_0x428793);this['activeView']=_0x19d48f?this[_0x3683('0x4f')](_0x19d48f):null;}),this[_0x3683('0x47')](this[_0x3683('0xe9')][_0x3683('0xc4')][_0x3683('0x76')][_0x3683('0x88')],_0x3683('0xb6'),(_0xb84a67,_0x5d4b59)=>{const _0x5beef2=this[_0x3683('0x70')](_0x5d4b59[_0x3683('0x3c')]),_0x37000f=this[_0x3683('0x109')]['get'](_0x5beef2);this[_0x3683('0x83')]=_0x37000f||null;});}['_findChangeIdFromDomTarget'](_0x13be24){do{const _0x278742=_0x13be24[_0x3683('0x44')](_0x3683('0x58'));if(_0x278742)return _0x278742;_0x13be24=_0x13be24[_0x3683('0xc0')];}while(_0x13be24);return null;}[_0x3683('0xb5')](){this[_0x3683('0xe9')][_0x3683('0xdc')][_0x3683('0x6c')](_0x53912c=>{for(const _0x3c9f53 of this[_0x3683('0xe9')][_0x3683('0xdc')]['markers'])_0x53912c[_0x3683('0xeb')](_0x3c9f53);});}}function K(_0x4b4485,_0x40754f){return(_0x1ae7ba,_0x3d9bb7,_0x6011f8)=>{if(!_0x6011f8['consumable'][_0x3683('0x2e')](_0x3d9bb7[_0x3683('0x9')],_0x1ae7ba[_0x3683('0x22')]))return;const _0x4d28c2=_0x3d9bb7[_0x3683('0x9')][_0x3683('0x1e')](),_0x594711=_0x3d9bb7['markerRange'][_0x3683('0x5a')],_0x5af79a=_0x4b4485[_0x3683('0xdc')][_0x3683('0xf2')];let _0x56421f=null,_0x55314e=null,_0x4ff02b=!0x1,_0x3f2f8e=!0x1;for(const _0x4ebc9a of _0x4d28c2){const _0x511832=_0x4ebc9a[_0x3683('0x89')];_0x4ff02b=_0x4ff02b||_0x5af79a[_0x3683('0xa3')](_0x511832);const _0x302ed6=_0x6011f8['mapper']['toViewElement'](_0x511832);if(_0x302ed6&&_0x302ed6[_0x3683('0xd8')](_0x3683('0xf')))return;_0x3683('0x3f')==_0x4ebc9a[_0x3683('0xa2')]&&(_0x5af79a[_0x3683('0x18')](_0x511832)&&!_0x5af79a['isLimit'](_0x511832)&&(_0x511832[_0x3683('0x25')]||_0x594711['isAtEnd']?_0x56421f&&_0x56421f[_0x3683('0xc0')]==_0x511832||(_0x56421f=_0x511832,_0x5c60ba(_0x4ebc9a[_0x3683('0xbd')]),_0x3f2f8e=!0x0):_0x55314e=_0x55314e||_0x4ebc9a[_0x3683('0xbd')]));}function _0x5c60ba(_0x1702d8){const _0x3a683f=_0x6011f8[_0x3683('0xf8')][_0x3683('0x31')](_0x1702d8),_0x283d48=_0x6011f8[_0x3683('0x7f')][_0x3683('0xff')](_0x3683('0x33'),{'class':_0x3683('0xf9')+_0x40754f});_0x6011f8[_0x3683('0x7f')][_0x3683('0xd9')](_0x3a683f,_0x283d48),_0x6011f8['mapper'][_0x3683('0x39')](_0x283d48,_0x3d9bb7[_0x3683('0x5')]);}_0x4ff02b||_0x3f2f8e||!_0x55314e||_0x5c60ba(_0x55314e);};}_0xa2a605(d,_0x47cfb5);class Q extends _0x4aaa93{constructor(_0x2b9bc4){super(_0x2b9bc4);const _0x21abc1=_0x2b9bc4['plugins'][_0x3683('0x72')](d);this[_0x3683('0x5b')](_0x2b9bc4,_0x3683('0x100')),this[_0x3683('0xe8')](_0x3683('0x24')),this[_0x3683('0x47')](_0x21abc1,_0x3683('0xa4'),()=>this[_0x3683('0x4a')]()),this[_0x3683('0x47')](_0x21abc1,_0x3683('0xf0'),()=>this[_0x3683('0x4a')]());}[_0x3683('0x94')](){const _0x196315=this[_0x3683('0xe9')],_0x1c9943=_0x196315[_0x3683('0x14')][_0x3683('0x72')](d),_0x433008=_0x1c9943[_0x3683('0x7e')]?_0x1c9943[_0x3683('0x78')][_0x3683('0xaf')]:null;_0x196315[_0x3683('0x50')][_0x3683('0x72')](_0x3683('0xda'))[_0x3683('0x28')](_0x433008);}['refresh'](){const {isReady:_0x5a5980,isEnabled:_0x3faf62}=this[_0x3683('0xe9')][_0x3683('0x14')][_0x3683('0x72')](d);this[_0x3683('0x3')]=_0x5a5980&&_0x3faf62;}}class X extends _0x4aaa93{constructor(_0x121317,{direction:_0x22e6ee}){super(_0x121317);const _0x2c8738=_0x121317[_0x3683('0x14')][_0x3683('0x72')](d);this[_0x3683('0x5b')](_0x121317,'change:isReadOnly'),this[_0x3683('0xe8')](_0x3683('0x24')),this[_0x3683('0x104')]=_0x3683('0xf6')===_0x22e6ee?0x1:-0x1,this['listenTo'](_0x2c8738,_0x3683('0xa4'),()=>this[_0x3683('0x4a')]()),this[_0x3683('0x47')](_0x2c8738,'change:isEnabled',()=>this[_0x3683('0x4a')]());}[_0x3683('0x94')](){const _0x21e7c2=this[_0x3683('0xe9')],_0x3e4f05=_0x21e7c2['plugins'][_0x3683('0x72')](d),{isNavigationMode:_0x18941e,currentChangeNumber:_0x449774}=_0x3e4f05;_0x3e4f05[_0x3683('0x83')]=_0x18941e?_0x3e4f05['diff'][_0x3683('0x4d')][_0x3683('0x72')](_0x449774+this[_0x3683('0x104')]):_0x3e4f05[_0x3683('0x78')][_0x3683('0x4d')][_0x3683('0xd2')];const _0x5ca238=_0x21e7c2[_0x3683('0xdc')][_0x3683('0x71')][_0x3683('0x72')](_0x3683('0xcb')+_0x3e4f05['activeChange']['id']),_0x5e92ce=_0x4b2ed6(_0x21e7c2[_0x3683('0xc4')],_0x5ca238);_0x2bf980({'target':_0x5e92ce,'viewportOffset':0x28});}[_0x3683('0x4a')](){const {isNavigationMode:_0x287565,currentChangeNumber:_0x17e3ab,numberOfChanges:_0x2a46f6,isReady:_0x1e8026,isEnabled:_0x1846b4}=this[_0x3683('0xe9')][_0x3683('0x14')][_0x3683('0x72')](d);this[_0x3683('0x3')]=!!(_0x1846b4&&_0x1e8026&&_0x2a46f6)&&(!_0x287565||(0x1===this['_step']?_0x17e3ab<_0x2a46f6-0x1:_0x17e3ab>0x0));}}