/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{Plugin as _0x3eae4f}from'ckeditor5/src/core';import{ButtonView as st}from'ckeditor5/src/ui';import _0x3590d2 from'./changesnavigationview';import _0x5f3569 from'./../../revisionviewer';import _0x43212c from'./revisionviewerloadingoverlay';import te from'@ckeditor/ckeditor5-undo/theme/icons/undo.svg';import'../../../theme/revisionviewer.css';export default class d extends _0x3eae4f{static get['pluginName'](){return'RevisionViewerUI';}static get['requires'](){return[_0x5f3569,_0x43212c];}['init'](){const _0x1852bb=this['editor'],_0x5bc84f=_0x1852bb['plugins']['get'](_0x5f3569),_0x229182=_0x1852bb['plugins']['get'](_0x43212c),t=_0x1852bb['t'];_0x1852bb['ui']['componentFactory']['add']('exitToEditing',_0x4aae97=>{const _0x13aa36=new st(_0x4aae97);return _0x13aa36['set']({'label':t('Back\x20to\x20editing'),'icon':te,'withText':!0x0,'tooltip':!0x0,'class':'ck-revision-history-ui__back-to-editing'}),this['listenTo'](_0x13aa36,'execute',()=>{_0x1852bb['config']['get']('revisionHistory')['closeRevisionViewerCallback']();}),_0x13aa36;}),_0x1852bb['ui']['componentFactory']['add']('restoreRevision',_0x56c50c=>{const _0x29339f=new st(_0x56c50c);return _0x29339f['set']({'label':t('Restore\x20this\x20revision'),'withText':!0x0,'tooltip':!0x0}),_0x29339f['bind']('isEnabled')['to'](_0x1852bb['commands']['get']('restoreRevision')),this['listenTo'](_0x29339f,'execute',()=>_0x1852bb['execute']('restoreRevision')),_0x29339f;}),_0x1852bb['ui']['componentFactory']['add']('changesNavigation',_0x312d50=>{const _0x2cc884=new _0x3590d2(_0x312d50),_0x15e41f=_0x1852bb['commands']['get']('showPreviousChange'),_0x3bb691=_0x1852bb['commands']['get']('showNextChange');return _0x2cc884['bind']('isBackwardNavigationEnabled')['to'](_0x15e41f,'isEnabled'),_0x2cc884['bind']('isForwardNavigationEnabled')['to'](_0x3bb691,'isEnabled'),_0x2cc884['bind']('isReady','currentChangeNumber','numberOfChanges','isNavigationMode')['to'](_0x5bc84f),this['listenTo'](_0x2cc884,'execute',(_0x4d1f9c,_0x3f053a)=>{_0x1852bb['execute']('forward'===_0x3f053a?'showNextChange':'showPreviousChange');}),_0x2cc884;}),_0x229182['show'](),_0x5bc84f['on']('change:isReady',(_0x540dde,_0x4c5533,_0x509e5c)=>{_0x509e5c?_0x229182['hide']():_0x229182['show']();});}}