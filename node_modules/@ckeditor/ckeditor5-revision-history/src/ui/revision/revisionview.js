/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x5798=['creator','.ck-thread__remove-confirm','filter','ck-revision-history-sidebar__revision-wrapper','srcElement','uiLanguage','_revision','fieldView','createdAt','ck-revision-history-sidebar__revision-authors','isSelected','from','render','change','ck-revision-history-sidebar__revision__date','placeholder','isHighlighted','_createdAtFormatted','isEnabled','ck-revision-history-sidebar__revision__controls-wrapper','bindTemplate','isActionsDropdownOpen','ck-disabled','div','unshift','fire','setTemplate','set','span','select','revisionActionsView','ck-revision-history-sidebar__actions_dropdown_open','ck-revision-history-sidebar__revision','isReady','220','extendTemplate','length','value','element','ck-reset','highlight','bind','name','revisionNameView','map'];(function(_0x232a0c,_0x579820){const _0x630e0f=function(_0x446704){while(--_0x446704){_0x232a0c['push'](_0x232a0c['shift']());}};_0x630e0f(++_0x579820);}(_0x5798,0xf7));const _0x630e=function(_0x232a0c,_0x579820){_0x232a0c=_0x232a0c-0x0;let _0x630e0f=_0x5798[_0x232a0c];return _0x630e0f;};import{View as _0x11cca2,createLabeledInputText as _0xb48ca8}from'ckeditor5/src/ui';import{mix as _0x396efa}from'ckeditor5/src/utils';import{ConfirmMixin as _0x1f157b}from'ckeditor5-collaboration/src/collaboration-core';import _0x21b20d from'./revisionnameview';import _0x7089d9 from'./revisionauthorview';import{dateToPrettyFormat as _0x338c9e}from'./utils';import{createActionsDropdownView as _0x57c40b}from'./createrevisionactionsdropdown';import'../../../theme/revision/revision.css';export default class ci extends _0x11cca2{constructor(_0x457b0d,_0x1e355d,_0x500b2e){super(_0x457b0d);const _0x400fb3=this[_0x630e('0x2b')],_0x2ae210=function(_0x144712,_0x38fbd1){const _0x47fd7a=Array[_0x630e('0x22')](_0x38fbd1['authors'])[_0x630e('0x19')](_0x45a9a3=>_0x45a9a3!=_0x38fbd1[_0x630e('0x17')]);return _0x38fbd1[_0x630e('0x17')]&&_0x47fd7a[_0x630e('0x2')](_0x38fbd1[_0x630e('0x17')]),_0x47fd7a[_0x630e('0x16')](_0x38ea48=>new _0x7089d9(_0x144712,_0x38ea48,_0x38ea48==_0x38fbd1[_0x630e('0x17')]));}(_0x457b0d,_0x1e355d);this[_0x630e('0x1d')]=_0x1e355d,this['id']=_0x1e355d['id'],this['bind'](_0x630e('0x14'),_0x630e('0x1f'))['to'](_0x1e355d),this[_0x630e('0x5')](_0x630e('0x21'),!0x1),this[_0x630e('0x5')](_0x630e('0x27'),!0x1),this[_0x630e('0x5')](_0x630e('0x2c'),!0x1),this[_0x630e('0x5')](_0x630e('0xb'),!0x1),this['bind'](_0x630e('0x28'))['to'](this,'createdAt',_0x4e4001=>_0x4e4001?_0x338c9e(_0x457b0d[_0x630e('0x1c')],_0x4e4001):null),this['set']('isEnabled',!0x1),this[_0x630e('0x15')]=new _0x21b20d(_0x457b0d,_0xb48ca8),this['revisionNameView'][_0x630e('0x1e')][_0x630e('0xd')]({'attributes':{'maxlength':_0x630e('0xc')}}),this['revisionNameView']['fieldView'][_0x630e('0x13')]('value',_0x630e('0x26'))['to'](this,'name',_0x630e('0x28')),this[_0x630e('0x15')]['bind'](_0x630e('0x29'))['to'](this,_0x630e('0x21'),this,'isEnabled',(_0x2209a7,_0x559169)=>_0x2209a7&&_0x559169),this['revisionActionsView']=_0x500b2e&&_0x500b2e[_0x630e('0xe')]?_0x57c40b(this,_0x500b2e):'',this[_0x630e('0x8')]['bind'](_0x630e('0x29'))['to'](this),this[_0x630e('0x4')]({'tag':_0x630e('0x1'),'attributes':{'class':['ck',_0x630e('0x11'),_0x630e('0x1a'),_0x400fb3['if']('isConfirm','ck-revision-history-sidebar__revision-wrapper_confirmation_visible')]},'children':[{'tag':'div','attributes':{'class':['ck','ck-reset',_0x630e('0xa'),_0x400fb3['if']('isEnabled',_0x630e('0x0'),_0x313d91=>!_0x313d91),_0x400fb3['if']('isSelected','ck-revision-history-sidebar__revision_selected'),_0x400fb3['if'](_0x630e('0x27'),'ck-revision-history-sidebar__revision_highlighted'),_0x400fb3['if']('isActionsDropdownOpen',_0x630e('0x9'))]},'children':[this[_0x630e('0x15')],{'tag':_0x630e('0x6'),'attributes':{'class':['ck',_0x630e('0x25')]},'children':[{'text':_0x400fb3['to'](_0x630e('0x28'))}]},{'tag':'div','attributes':{'class':['ck',_0x630e('0x2a')]},'children':[{'tag':'ul','attributes':{'class':['ck',_0x630e('0x20')]},'children':_0x2ae210}]},this[_0x630e('0x8')]],'on':{'click':_0x400fb3['to'](_0x1c2a52=>{_0x1c2a52[_0x630e('0x1b')]['closest'](_0x630e('0x18'))||this[_0x630e('0xb')]&&this[_0x630e('0x29')]&&this['fire'](_0x630e('0x7'),{'id':this['id']});})}}]});}[_0x630e('0x23')](){super[_0x630e('0x23')]();const _0x524f90=this['revisionNameView'][_0x630e('0x1e')][_0x630e('0x10')];this['listenTo'](_0x524f90,_0x630e('0x24'),()=>{this[_0x630e('0x3')]('setName',{'id':this['id'],'name':_0x524f90[_0x630e('0xf')]});});}[_0x630e('0x7')](){this[_0x630e('0x21')]=!0x0;}['deselect'](){this[_0x630e('0x21')]=!0x1;}[_0x630e('0x12')](){this[_0x630e('0x27')]=!0x0;}['unhighlight'](){this[_0x630e('0x27')]=!0x1;}}_0x396efa(ci,_0x1f157b);