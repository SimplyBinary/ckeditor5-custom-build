/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{ButtonView as st,FocusCycler as it,LabeledFieldView as _0x3cd68a,View as _0x1ec1b8,ViewCollection as et,createLabeledInputText as _0x2fe080,injectCssTransitionDisabler as rt,submitHandler as ot}from'ckeditor5/src/ui';import{FocusTracker as ht,KeystrokeHandler as ct}from'ckeditor5/src/utils';import nt from'@ckeditor/ckeditor5-core/theme/icons/check.svg';import at from'@ckeditor/ckeditor5-core/theme/icons/cancel.svg';import'../../../theme/revisionhistorysaverevisionform.css';import'@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css';export default class ut extends _0x1ec1b8{constructor(_0x287239){super(_0x287239);const t=_0x287239['t'];this['focusTracker']=new ht(),this['keystrokes']=new ct(),this['set']('revisionNameInputValue',''),this['revisionNameInputView']=this['_createRevisionNameInput'](),this['saveButtonView']=this['_createButton'](t('Save'),nt,'ck-button-save'),this['saveButtonView']['type']='submit',this['cancelButtonView']=this['_createButton'](t('Cancel'),at,'ck-button-cancel','cancel'),this['_focusables']=new et(),this['_focusCycler']=new it({'focusables':this['_focusables'],'focusTracker':this['focusTracker'],'keystrokeHandler':this['keystrokes'],'actions':{'focusPrevious':'shift\x20+\x20tab','focusNext':'tab'}}),this['setTemplate']({'tag':'form','attributes':{'class':['ck','ck-revision-history-save-revision-form','ck-responsive-form'],'tabindex':'-1'},'children':[this['revisionNameInputView'],this['saveButtonView'],this['cancelButtonView']]}),rt(this);}['render'](){super['render'](),ot({'view':this}),([this['revisionNameInputView'],this['saveButtonView'],this['cancelButtonView']]['forEach'](_0x5c9b15=>{this['_focusables']['add'](_0x5c9b15),this['focusTracker']['add'](_0x5c9b15['element']);}),this['keystrokes']['listenTo'](this['element']));const _0x255ad3=_0x24f713=>_0x24f713['stopPropagation']();this['keystrokes']['set']('arrowright',_0x255ad3),this['keystrokes']['set']('arrowleft',_0x255ad3),this['keystrokes']['set']('arrowup',_0x255ad3),this['keystrokes']['set']('arrowdown',_0x255ad3),this['listenTo'](this['revisionNameInputView']['element'],'selectstart',(_0x11955a,_0x9ec08d)=>{_0x9ec08d['stopPropagation']();},{'priority':'high'});}['focus'](){this['_focusCycler']['focusFirst']();}get['revisionName'](){return this['revisionNameInputView']['fieldView']['element']['value']['trim']();}set['revisionName'](_0x2498b6){this['revisionNameInputView']['fieldView']['element']['value']=_0x2498b6['trim']();}['reset'](){this['revisionNameInputView']['fieldView']['element']['value']='';}['_createRevisionNameInput'](){const t=this['locale']['t'],_0x497d89=new _0x3cd68a(this['locale'],_0x2fe080),_0x49b027=_0x497d89['fieldView'];return _0x49b027['extendTemplate']({'attributes':{'maxlength':'220'}}),_0x497d89['label']=t('Name\x20of\x20the\x20revision\x20(optional)'),_0x49b027['on']('input',()=>{this['revisionNameInputValue']=_0x49b027['element']['value']['trim']();}),_0x497d89;}['_createButton'](_0xdf07de,_0x17cbc1,_0x68e97,_0xafd1bc){const _0x11723b=new st(this['locale']);return _0x11723b['set']({'label':_0xdf07de,'icon':_0x17cbc1,'tooltip':!0x0}),_0x11723b['extendTemplate']({'attributes':{'class':_0x68e97}}),_0xafd1bc&&_0x11723b['delegate']('execute')['to'](this,_0xafd1bc),_0x11723b;}}