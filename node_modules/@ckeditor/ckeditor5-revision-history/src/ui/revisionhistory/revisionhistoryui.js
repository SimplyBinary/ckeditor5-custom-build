/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x4b59=['RevisionTracker','pluginName','Open\x20revision\x20history','buttonView','plugins','init','panelView','submit','cancel','remove','length','config','Revision\x20history','render','execute','set','isReadOnly','isReady','Save\x20current\x20revision','add','addMany','saveButtonView','children','revisionHistory','editing','bind','RevisionHistoryUI','isOpen','focus','isEnabled','saveRevision','get','reset','requires'];(function(_0x2db5d6,_0x4b59e9){const _0x339a9f=function(_0x1feab9){while(--_0x1feab9){_0x2db5d6['push'](_0x2db5d6['shift']());}};_0x339a9f(++_0x4b59e9);}(_0x4b59,0x124));const _0x339a=function(_0x2db5d6,_0x4b59e9){_0x2db5d6=_0x2db5d6-0x0;let _0x339a9f=_0x4b59[_0x2db5d6];return _0x339a9f;};import{Plugin as _0x3ac4a7}from'ckeditor5/src/core';import{ListView as _0xdfd444,ListItemView as _0x39f459,ButtonView as _0x2622e2,createDropdown as _0x5a3378}from'ckeditor5/src/ui';import _0x125a6f from'../../revisiontracker';import _0x2a9ac2 from'./revisionhistorysaverevisionformview';import _0x129150 from'../../../theme/icons/revision-history.svg';import{getTranslation as _0x201c09}from'../../utils/common-translations';export default class y extends _0x3ac4a7{static get[_0x339a('0xf')](){return _0x339a('0x6');}static get[_0x339a('0xd')](){return[_0x125a6f];}[_0x339a('0x13')](){const _0xc9c24c=this['editor'],_0x576593=_0xc9c24c['plugins'][_0x339a('0xb')](_0x339a('0xe'));_0xc9c24c['ui']['componentFactory'][_0x339a('0x21')](_0x339a('0x3'),_0x3936dc=>{const _0x1b4532=_0x5a3378(_0x3936dc),_0x301a8b=_0x1b4532[_0x339a('0x14')][_0x339a('0x2')],_0x15c651=new _0xdfd444(_0x3936dc),_0x4789ac=new _0x39f459(_0x3936dc),_0x57f3c3=new _0x2622e2(_0x3936dc),_0x9b8383=new _0x39f459(_0x3936dc),_0x403a0c=new _0x2622e2(_0x3936dc),_0x4be664=new _0x2a9ac2(_0x3936dc);function _0x47e923(){_0x301a8b[_0x339a('0x18')]&&_0x301a8b[_0x339a('0x17')](0x0),_0x301a8b[_0x339a('0x21')](_0x15c651);}function _0x18ed23(){_0x1b4532[_0x339a('0x7')]=!0x1,_0xc9c24c[_0x339a('0x4')]['view'][_0x339a('0x8')]();}return _0x1b4532[_0x339a('0x5')](_0x339a('0x9'))['to'](_0x576593,_0x339a('0x1f'),_0x576593,'isEnabled',_0xc9c24c,_0x339a('0x1e'),(_0x5d043b,_0x1103d2,_0x4d62c2)=>_0x5d043b&&_0x1103d2&&!_0x4d62c2),_0x1b4532[_0x339a('0x11')][_0x339a('0x1d')]({'icon':_0x129150,'label':_0x201c09(_0x3936dc,_0x339a('0x1a')),'tooltip':!0x0}),_0x57f3c3[_0x339a('0x1d')]({'label':_0x201c09(_0x3936dc,_0x339a('0x20')),'withText':!0x0}),_0x57f3c3[_0x339a('0x5')](_0x339a('0x9'))['to'](_0x576593,_0x339a('0x1f'),_0x576593,_0x339a('0x9'),_0xc9c24c,_0x339a('0x1e'),(_0xf9856e,_0x425ebe,_0x4e27d7)=>_0xf9856e&&_0x425ebe&&!_0x4e27d7),_0x57f3c3['on'](_0x339a('0x1c'),()=>function(){_0x301a8b[_0x339a('0x18')]&&_0x301a8b['remove'](0x0),(_0x4be664[_0x339a('0xc')](),_0x301a8b[_0x339a('0x21')](_0x4be664),_0x4be664['focus']());}()),_0x403a0c[_0x339a('0x1d')]({'label':_0x201c09(_0x3936dc,_0x339a('0x10')),'withText':!0x0}),_0x403a0c['bind'](_0x339a('0x9'))['to'](_0x576593,_0x339a('0x1f'),_0xc9c24c,_0x339a('0x1e'),(_0x4636a4,_0x57229c)=>_0x4636a4&&!_0x57229c),_0x403a0c['on']('execute',()=>{_0xc9c24c[_0x339a('0x19')][_0x339a('0xb')](_0x339a('0x3'))['showRevisionViewerCallback'](),_0x18ed23();}),_0x4789ac[_0x339a('0x2')][_0x339a('0x21')](_0x57f3c3),_0x9b8383[_0x339a('0x2')][_0x339a('0x21')](_0x403a0c),_0x15c651['items'][_0x339a('0x0')]([_0x4789ac,_0x9b8383]),_0x1b4532['on']('change:isOpen',()=>_0x47e923()),_0x4be664[_0x339a('0x1')][_0x339a('0x5')](_0x339a('0x9'))['to'](_0x576593,_0x339a('0x1f'),_0x576593,_0x339a('0x9'),_0xc9c24c,_0x339a('0x1e'),(_0xd9beae,_0x341bea,_0x13b1f4)=>_0xd9beae&&_0x341bea&&!_0x13b1f4),_0x4be664['on'](_0x339a('0x15'),()=>(_0xc9c24c[_0x339a('0x12')][_0x339a('0xb')](_0x125a6f)[_0x339a('0xa')]({'name':_0x4be664['revisionName']}),void _0x18ed23())),_0x4be664['on'](_0x339a('0x16'),()=>_0x47e923()),_0x4be664[_0x339a('0x1b')](),_0x47e923(),_0x1b4532;});}}