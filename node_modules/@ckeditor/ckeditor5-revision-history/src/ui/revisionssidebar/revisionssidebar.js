/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0xbf22=['action','Name\x20this\x20revision','Restore\x20this\x20revision','add','repository','map','_handleEditorDataReady','getEarlierVisibleRevision','Compare\x20against\x20selected','getRevision','listenTo','availableRevisionActions','_handleRevisionSelected','getLaterVisibleRevision','remove','compareAgainstSelected','isVisible','string','revisionHistory.revisionActions','setName','_revisionViewer','assign','plugins','RevisionsSidebar','revisionSetName','_handleRevisionSetName','_handleDiffChange','isEnabled','timePeriodViews','revisionViews','highlightRevisions','get','diff','destroy','revisionHistory.viewerSidebarContainer','requires','_revisionsRepository','getRevisionsInDiff','nameRevision','select','appendChild','element','isSelected','_createRevisionActions','length','pluginName','config','ready','editor','selectRevision','newRevisionId','change:diff','getIndex','_sidebarView','bind','init','_revisions','data','restoreRevisionCallback','fieldView','revisionHistory','defaultRevisionActions','focus','compare','render','isReady'];(function(_0x3bf460,_0xbf22d9){const _0xc42cc4=function(_0x3507b0){while(--_0x3507b0){_0x3bf460['push'](_0x3bf460['shift']());}};_0xc42cc4(++_0xbf22d9);}(_0xbf22,0x160));const _0xc42c=function(_0x3bf460,_0xbf22d9){_0x3bf460=_0x3bf460-0x0;let _0xc42cc4=_0xbf22[_0x3bf460];return _0xc42cc4;};import{Plugin as _0x132311}from'ckeditor5/src/core';import _0x5cbe97 from'./revisionssidebarview';import _0x339c50 from'../../revisionviewer';export default class w extends _0x132311{static get[_0xc42c('0x17')](){return _0xc42c('0x1');}static get[_0xc42c('0xd')](){return[_0x339c50];}constructor(_0x5bcc0e){super(_0x5bcc0e),this[_0xc42c('0x40')]=_0x5bcc0e[_0xc42c('0x0')]['get'](_0x339c50),this[_0xc42c('0xe')]=this['_revisionViewer'][_0xc42c('0x30')],this[_0xc42c('0x1f')]=null;}[_0xc42c('0x21')](){const _0x1185a2=this['_revisionsRepository'][_0xc42c('0x22')],_0x33e5af=this[_0xc42c('0x15')](),_0x4fd24f=this[_0xc42c('0x1a')]['config']['get'](_0xc42c('0xc'));this[_0xc42c('0x1f')]=new _0x5cbe97(this[_0xc42c('0x1a')]['locale'],_0x1185a2,_0x33e5af),this[_0xc42c('0x1f')]['on']('revisionSelected',this[_0xc42c('0x38')][_0xc42c('0x20')](this)),this[_0xc42c('0x1f')]['on'](_0xc42c('0x2'),this[_0xc42c('0x3')][_0xc42c('0x20')](this)),this[_0xc42c('0x1f')][_0xc42c('0x20')](_0xc42c('0x5'))['to'](this[_0xc42c('0x40')]),this[_0xc42c('0x1f')][_0xc42c('0x6')]['on'](_0xc42c('0x2f'),(_0x32bc66,_0x209992)=>{_0x209992[_0xc42c('0x7')]['on'](_0xc42c('0x2f'),(_0x2547a1,_0x22d44b)=>{_0x22d44b[_0xc42c('0x20')](_0xc42c('0x5'),_0xc42c('0x2b'))['to'](this[_0xc42c('0x40')]);});}),this['_sidebarView'][_0xc42c('0x2a')](),this['listenTo'](this[_0xc42c('0x1a')][_0xc42c('0x23')],_0xc42c('0x19'),this[_0xc42c('0x32')][_0xc42c('0x20')](this)),this[_0xc42c('0x36')](this[_0xc42c('0x40')],_0xc42c('0x1d'),this[_0xc42c('0x4')][_0xc42c('0x20')](this)),_0x4fd24f[_0xc42c('0x12')](this['_sidebarView'][_0xc42c('0x13')]);}[_0xc42c('0xb')](){this['_sidebarView']['element'][_0xc42c('0x3a')](),this['_sidebarView'][_0xc42c('0xb')]();}['_handleEditorDataReady'](){const _0x296cde=this[_0xc42c('0xe')][_0xc42c('0x35')](0x0);if(_0x296cde){const _0x3c79ec=this[_0xc42c('0xe')][_0xc42c('0x33')](_0x296cde['id']);this[_0xc42c('0x40')][_0xc42c('0x29')](_0x296cde,_0x3c79ec);}}[_0xc42c('0x38')](_0x4043c6,_0x52820e){const _0x3dd651=this[_0xc42c('0xe')][_0xc42c('0x35')](_0x52820e['id']),_0x4eddc4=this['_revisionsRepository'][_0xc42c('0x33')](_0x3dd651['id']);this[_0xc42c('0x40')]['compare'](_0x3dd651,_0x4eddc4);}[_0xc42c('0x3')](_0x50df6c,_0x305182){this[_0xc42c('0xe')][_0xc42c('0x35')](_0x305182['id'])[_0xc42c('0x3f')](_0x305182['name']);}[_0xc42c('0x4')](_0x106939,_0x628487,_0x4495a6){const _0x1a7e7f=this[_0xc42c('0xe')][_0xc42c('0xf')](_0x4495a6);_0x1a7e7f[_0xc42c('0x16')]>0x2?(this[_0xc42c('0x1f')][_0xc42c('0x8')](_0x1a7e7f),this[_0xc42c('0x1f')]['selectRevision'](null)):(this['_sidebarView'][_0xc42c('0x8')]([]),this[_0xc42c('0x1f')][_0xc42c('0x1b')](_0x1a7e7f[0x0]));}[_0xc42c('0x15')](){const _0x4a0726=this[_0xc42c('0x1a')],_0x32301a=w[_0xc42c('0x37')],_0x293169=_0x4a0726[_0xc42c('0x18')][_0xc42c('0x9')](_0xc42c('0x3e'))||w[_0xc42c('0x27')];if(_0x293169[_0xc42c('0x16')])return _0x293169[_0xc42c('0x31')](_0x2cbbd4=>{const _0x35060e=_0xc42c('0x3d')==typeof _0x2cbbd4?Object[_0xc42c('0x41')]({},_0x32301a[_0x2cbbd4]):_0x2cbbd4;return _0x35060e[_0xc42c('0x2c')]=_0x35060e[_0xc42c('0x2c')][_0xc42c('0x20')](this,_0x4a0726),_0x35060e['isVisible']&&(_0x35060e[_0xc42c('0x3c')]=_0x35060e['isVisible'][_0xc42c('0x20')](this,_0x4a0726)),_0x35060e;});}}w['availableRevisionActions']={'compareAgainstSelected':{'name':_0xc42c('0x34'),'action':({plugins:_0x360e06},_0x311d57)=>{const _0x2d98a=_0x360e06[_0xc42c('0x9')](_0x339c50),_0xcd1e87=_0x2d98a[_0xc42c('0x30')];let _0x2f2520=_0x2d98a[_0xc42c('0xa')][_0xc42c('0x1c')],_0x2d9c7e=_0x311d57['id'];_0xcd1e87[_0xc42c('0x1e')](_0x2f2520)>_0xcd1e87[_0xc42c('0x1e')](_0x2d9c7e)&&([_0x2f2520,_0x2d9c7e]=[_0x2d9c7e,_0x2f2520]),_0x2d98a['compare'](_0x2f2520,_0x2d9c7e);},'isVisible':({plugins:_0x232f07},_0x21a900)=>{const _0x5b2d21=_0x232f07[_0xc42c('0x9')](_0x339c50);return!(_0x5b2d21[_0xc42c('0x30')]['getRevisionsInDiff'](_0x5b2d21[_0xc42c('0xa')])[_0xc42c('0x16')]>0x2)&&!_0x21a900[_0xc42c('0x14')];}},'restoreRevision':{'name':_0xc42c('0x2e'),'action':(_0x4c78cf,{id:_0x2b19c7})=>{_0x4c78cf[_0xc42c('0x18')]['get'](_0xc42c('0x26'))[_0xc42c('0x24')](_0x2b19c7);},'isVisible':({plugins:_0x2275c5},_0x3613cb)=>!!_0x2275c5[_0xc42c('0x9')](_0x339c50)[_0xc42c('0x30')][_0xc42c('0x39')](_0x3613cb['id'])},'nameRevision':{'name':_0xc42c('0x2d'),'action':({plugins:_0x53da4d},{id:_0x58edb3,revisionNameView:_0x5f5cb2})=>{const _0x4fe35f=_0x53da4d[_0xc42c('0x9')](_0x339c50),_0x1764f6=_0x4fe35f[_0xc42c('0x30')][_0xc42c('0x33')](_0x58edb3);_0x4fe35f[_0xc42c('0x29')](_0x58edb3,_0x1764f6),_0x5f5cb2[_0xc42c('0x28')](),_0x5f5cb2[_0xc42c('0x25')][_0xc42c('0x11')]();}}},w[_0xc42c('0x27')]=[_0xc42c('0x3b'),'restoreRevision',_0xc42c('0x10')];