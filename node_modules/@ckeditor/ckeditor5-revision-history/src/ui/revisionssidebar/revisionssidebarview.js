/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x4c9d=['unhighlight','ck-revision-history-sidebar','some','revisionViews','getTime','_revisions','remove','bindTemplate','select','find','delegate','removeRevision','flat','ck-disabled','createCollection','add','locale','ck-revision-history-sidebar__timeline','highlight','_addRevision','timePeriodViews','render','_removeRevision','set','fire','setName','startDate','ck-rounded-corners','addRevision','revisionSetName','isEnabled','map','_revisionActions','selectRevision','_getTimePeriodViewByStartDate','get'];(function(_0x17abf8,_0x4c9dc6){const _0x2a4b98=function(_0xa9a417){while(--_0xa9a417){_0x17abf8['push'](_0x17abf8['shift']());}};_0x2a4b98(++_0x4c9dc6);}(_0x4c9d,0xc7));const _0x2a4b=function(_0x17abf8,_0x4c9dc6){_0x17abf8=_0x17abf8-0x0;let _0x2a4b98=_0x4c9d[_0x17abf8];return _0x2a4b98;};import{View as _0x337a7b}from'ckeditor5/src/ui';import _0x33da07 from'./revisionssidebartimeperiodview';import _0x5cc5f9 from'./revisionssidebarheaderview';import{getDateTimePeriodInfo as _0x2de010}from'./utils';import'../../../theme/revisionssidebar/revisionssidebar.css';export default class vi extends _0x337a7b{constructor(_0x22cc06,_0x77d616,_0x595056){super(_0x22cc06);const _0x17c265=this[_0x2a4b('0x18')];this['timePeriodViews']=this[_0x2a4b('0x1f')](),this[_0x2a4b('0x1')][_0x2a4b('0x1b')](_0x2a4b('0x19'))['to'](this),this['timePeriodViews'][_0x2a4b('0x1b')](_0x2a4b('0x6'))['to'](this),this[_0x2a4b('0x16')]=_0x77d616,this['_revisionActions']=_0x595056,this['on'](_0x2a4b('0x19'),(_0x57eacb,_0x1d0f56)=>{this[_0x2a4b('0x5')]('revisionSelected',_0x1d0f56);}),this['on'](_0x2a4b('0x6'),(_0x2d32f5,_0x385367)=>{this[_0x2a4b('0x5')](_0x2a4b('0xa'),_0x385367);}),this[_0x2a4b('0x4')]('isEnabled',!0x1),this['setTemplate']({'tag':'div','attributes':{'class':['ck','ck-reset',_0x2a4b('0x8'),_0x2a4b('0x12')]},'children':[new _0x5cc5f9(_0x22cc06),{'tag':'div','attributes':{'class':['ck',_0x2a4b('0x22'),_0x17c265['if'](_0x2a4b('0xb'),_0x2a4b('0x1e'),_0x465d7c=>!_0x465d7c)]},'children':this['timePeriodViews']}]});}['render'](){super[_0x2a4b('0x2')]();for(const _0x3d5fdd of this[_0x2a4b('0x16')])this[_0x2a4b('0x0')](_0x3d5fdd);this[_0x2a4b('0x16')]['on'](_0x2a4b('0x20'),(_0x14aae7,_0xa06356)=>{this[_0x2a4b('0x0')](_0xa06356);}),this['_revisions']['on'](_0x2a4b('0x17'),(_0x5af3c7,_0x19c757)=>{this[_0x2a4b('0x3')](_0x19c757);});}get[_0x2a4b('0x14')](){return this[_0x2a4b('0x1')][_0x2a4b('0xc')](_0x1f69d3=>_0x1f69d3[_0x2a4b('0x14')]['map'](_0x7e65a7=>_0x7e65a7))[_0x2a4b('0x1d')]();}[_0x2a4b('0xe')](_0x5398d1){for(const _0x5affc3 of this[_0x2a4b('0x14')])_0x5398d1&&_0x5398d1['id']===_0x5affc3['id']?_0x5affc3[_0x2a4b('0x19')]():_0x5affc3['deselect']();}['highlightRevisions'](_0x4c1763){for(const _0x384fe9 of this[_0x2a4b('0x14')])_0x4c1763[_0x2a4b('0x13')](({id:_0x2a89e7})=>_0x2a89e7===_0x384fe9['id'])?_0x384fe9[_0x2a4b('0x23')]():_0x384fe9[_0x2a4b('0x11')]();}[_0x2a4b('0x0')](_0x24a330){const _0x1816da=_0x2de010(_0x24a330['createdAt'])[_0x2a4b('0x7')];let _0x31bf23=this[_0x2a4b('0x1')][_0x2a4b('0x10')](0x0);_0x31bf23&&_0x31bf23[_0x2a4b('0x7')][_0x2a4b('0x15')]()===_0x1816da[_0x2a4b('0x15')]()||(_0x31bf23=new _0x33da07(this[_0x2a4b('0x21')],_0x1816da,this[_0x2a4b('0xd')]),this['timePeriodViews'][_0x2a4b('0x20')](_0x31bf23)),_0x31bf23[_0x2a4b('0x9')](_0x24a330);}[_0x2a4b('0x3')](_0x1c8c58){const _0x4db51f=_0x2de010(_0x1c8c58['createdAt'])[_0x2a4b('0x7')];this['_getTimePeriodViewByStartDate'](_0x4db51f)[_0x2a4b('0x1c')](_0x1c8c58);}[_0x2a4b('0xf')](_0x1cfae3){return this[_0x2a4b('0x1')][_0x2a4b('0x1a')](_0x251bab=>_0x251bab[_0x2a4b('0x7')]['getTime']()===_0x1cfae3[_0x2a4b('0x15')]());}}