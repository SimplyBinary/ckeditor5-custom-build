/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x5e97=['setName','removeRevision','isEnabled','createdAt','ck-disabled','get','div','getTime','bindTemplate','startDate','locale','addRevision','createCollection','revisionSelected','map','selectRevision','fire','_getTimePeriodViewByStartDate','setTemplate','some','timePeriodViews','_addRevision','ck-reset','ck-revision-history-sidebar__timeline','_removeRevision','_revisions','deselect','select','_revisionActions','add','highlight','ck-revision-history-sidebar','unhighlight','revisionViews'];(function(_0x2eb00d,_0x5e97f9){const _0x3c1998=function(_0xcf6a0b){while(--_0xcf6a0b){_0x2eb00d['push'](_0x2eb00d['shift']());}};_0x3c1998(++_0x5e97f9);}(_0x5e97,0x128));const _0x3c19=function(_0x2eb00d,_0x5e97f9){_0x2eb00d=_0x2eb00d-0x0;let _0x3c1998=_0x5e97[_0x2eb00d];return _0x3c1998;};import{View as _0x5e5f0e}from'ckeditor5/src/ui';import _0x5d1e3e from'./revisionssidebartimeperiodview';import _0x28fe90 from'./revisionssidebarheaderview';import{getDateTimePeriodInfo as _0x592b80}from'./utils';import'../../../theme/revisionssidebar/revisionssidebar.css';export default class ai extends _0x5e5f0e{constructor(_0x10a637,_0x572ece,_0x3fd707){super(_0x10a637);const _0x1d3896=this[_0x3c19('0x12')];this[_0x3c19('0x1e')]=this[_0x3c19('0x16')](),this[_0x3c19('0x1e')]['delegate'](_0x3c19('0x3'))['to'](this),this[_0x3c19('0x1e')]['delegate'](_0x3c19('0xa'))['to'](this),this[_0x3c19('0x1')]=_0x572ece,this[_0x3c19('0x4')]=_0x3fd707,this['on']('select',(_0x478d98,_0x281ba8)=>{this[_0x3c19('0x1a')](_0x3c19('0x17'),_0x281ba8);}),this['on'](_0x3c19('0xa'),(_0x47f874,_0x2f6c0f)=>{this[_0x3c19('0x1a')]('revisionSetName',_0x2f6c0f);}),this['set'](_0x3c19('0xc'),!0x1),this[_0x3c19('0x1c')]({'tag':_0x3c19('0x10'),'attributes':{'class':['ck',_0x3c19('0x20'),'ck-rounded-corners',_0x3c19('0x7')]},'children':[new _0x28fe90(_0x10a637),{'tag':_0x3c19('0x10'),'attributes':{'class':['ck',_0x3c19('0x21'),_0x1d3896['if'](_0x3c19('0xc'),_0x3c19('0xe'),_0x3c7497=>!_0x3c7497)]},'children':this[_0x3c19('0x1e')]}]});}['render'](){super['render']();for(const _0x341d2e of this[_0x3c19('0x1')])this[_0x3c19('0x1f')](_0x341d2e);this[_0x3c19('0x1')]['on'](_0x3c19('0x5'),(_0x2f0d10,_0x2437cf)=>{this[_0x3c19('0x1f')](_0x2437cf);}),this['_revisions']['on']('remove',(_0x36cbf8,_0x3c1241)=>{this[_0x3c19('0x0')](_0x3c1241);});}get['revisionViews'](){return this[_0x3c19('0x1e')][_0x3c19('0x18')](_0x525225=>_0x525225['revisionViews'][_0x3c19('0x18')](_0x4e0242=>_0x4e0242))['flat']();}[_0x3c19('0x19')](_0x5a800e){for(const _0x5814ac of this['revisionViews'])_0x5a800e&&_0x5a800e['id']===_0x5814ac['id']?_0x5814ac[_0x3c19('0x3')]():_0x5814ac[_0x3c19('0x2')]();}['highlightRevisions'](_0x66747){for(const _0x150297 of this[_0x3c19('0x9')])_0x66747[_0x3c19('0x1d')](({id:_0xae807e})=>_0xae807e===_0x150297['id'])?_0x150297[_0x3c19('0x6')]():_0x150297[_0x3c19('0x8')]();}['_addRevision'](_0x1cf457){const _0x574cd2=_0x592b80(_0x1cf457[_0x3c19('0xd')])['startDate'];let _0x9853b3=this[_0x3c19('0x1e')][_0x3c19('0xf')](0x0);_0x9853b3&&_0x9853b3['startDate'][_0x3c19('0x11')]()===_0x574cd2[_0x3c19('0x11')]()||(_0x9853b3=new _0x5d1e3e(this[_0x3c19('0x14')],_0x574cd2,this[_0x3c19('0x4')]),this[_0x3c19('0x1e')]['add'](_0x9853b3)),_0x9853b3[_0x3c19('0x15')](_0x1cf457);}['_removeRevision'](_0x46a1e3){const _0x470f67=_0x592b80(_0x46a1e3[_0x3c19('0xd')])[_0x3c19('0x13')];this[_0x3c19('0x1b')](_0x470f67)[_0x3c19('0xb')](_0x46a1e3);}[_0x3c19('0x1b')](_0x5abf27){return this['timePeriodViews']['find'](_0x38c9dd=>_0x38c9dd['startDate']['getTime']()===_0x5abf27['getTime']());}}