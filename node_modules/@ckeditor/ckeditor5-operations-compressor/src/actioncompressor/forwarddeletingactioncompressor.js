/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x1cdd=['howMany','_decompressSingleOperation','_combineNext','targetPosition','root','buffers','_compareOperations','__className','_splitCurrent','decompress','_context','compress','_getCompressorByName','sourcePosition','MoveOperation'];(function(_0x47c115,_0x1cdd18){const _0x23e030=function(_0x15f87b){while(--_0x15f87b){_0x47c115['push'](_0x47c115['shift']());}};_0x23e030(++_0x1cdd18);}(_0x1cdd,0x191));const _0x23e0=function(_0x47c115,_0x1cdd18){_0x47c115=_0x47c115-0x0;let _0x23e030=_0x1cdd[_0x47c115];return _0x23e030;};import _0x39c049 from'./actioncompressor';import{arePositionsEqual as _0x34128e}from'../utils';import{cloneDeep as _0x161989}from'lodash-es';export default class l extends _0x39c049{[_0x23e0('0x6')](_0xa3e7aa,_0xc48393){return _0xc48393[_0x23e0('0x4')]++,_0xc48393;}[_0x23e0('0xc')](_0x3c0324){const _0x1b8ef2=_0x161989(_0x3c0324);return _0x1b8ef2[_0x23e0('0x4')]=0x1,_0x3c0324[_0x23e0('0x4')]--,_0x1b8ef2;}[_0x23e0('0xa')](_0x11a2d7,_0x10e6a1){return!(!S(_0x11a2d7)||!S(_0x10e6a1))&&(_0x34128e(_0x11a2d7[_0x23e0('0x2')],_0x10e6a1[_0x23e0('0x2')])&&_0x34128e(_0x11a2d7[_0x23e0('0x7')],_0x10e6a1['targetPosition']));}['_compressSingleOperation'](_0x53ab14){const _0x486893={'types':[],'buffers':[],'baseVersion':0x0};return this['_context'][_0x23e0('0x1')](_0x23e0('0x3'))[_0x23e0('0x0')](_0x486893,[_0x53ab14]),_0x486893[_0x23e0('0x9')][0x0];}[_0x23e0('0x5')](_0x70b9f7){const _0x49dd57=[];return this[_0x23e0('0xe')]['_getCompressorByName']('MoveOperation')[_0x23e0('0xd')](_0x49dd57,_0x70b9f7),_0x49dd57[0x0];}}function S(_0x584044){return'MoveOperation'==_0x584044[_0x23e0('0xb')]&&'$graveyard'==_0x584044['targetPosition'][_0x23e0('0x8')]&&0x1==_0x584044[_0x23e0('0x4')]&&!_0x584044['wasUndone'];}