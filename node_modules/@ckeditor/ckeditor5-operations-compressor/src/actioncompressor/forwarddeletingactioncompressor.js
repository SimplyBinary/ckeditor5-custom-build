/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x2f9a=['targetPosition','_combineNext','howMany','_getCompressorByName','_context','root','wasUndone','_compressSingleOperation','sourcePosition','_decompressSingleOperation','__className','compress','decompress','MoveOperation'];(function(_0x3f9156,_0x2f9a8e){const _0x5eadcd=function(_0xd9a7e2){while(--_0xd9a7e2){_0x3f9156['push'](_0x3f9156['shift']());}};_0x5eadcd(++_0x2f9a8e);}(_0x2f9a,0x16f));const _0x5ead=function(_0x3f9156,_0x2f9a8e){_0x3f9156=_0x3f9156-0x0;let _0x5eadcd=_0x2f9a[_0x3f9156];return _0x5eadcd;};import _0x5167fb from'./actioncompressor';import{arePositionsEqual as _0x3243d9}from'../utils';import{cloneDeep as _0x568a94}from'lodash-es';export default class l extends _0x5167fb{[_0x5ead('0xc')](_0x57766e,_0x380afc){return _0x380afc[_0x5ead('0xd')]++,_0x380afc;}['_splitCurrent'](_0x4f18c0){const _0x422398=_0x568a94(_0x4f18c0);return _0x422398[_0x5ead('0xd')]=0x1,_0x4f18c0['howMany']--,_0x422398;}['_compareOperations'](_0x509df5,_0x5a67e4){return!(!S(_0x509df5)||!S(_0x5a67e4))&&(_0x3243d9(_0x509df5[_0x5ead('0x5')],_0x5a67e4[_0x5ead('0x5')])&&_0x3243d9(_0x509df5[_0x5ead('0xb')],_0x5a67e4[_0x5ead('0xb')]));}[_0x5ead('0x4')](_0x2a5ea5){const _0x2b03c6={'types':[],'buffers':[],'baseVersion':0x0};return this[_0x5ead('0x1')]['_getCompressorByName'](_0x5ead('0xa'))[_0x5ead('0x8')](_0x2b03c6,[_0x2a5ea5]),_0x2b03c6['buffers'][0x0];}[_0x5ead('0x6')](_0x4884fe){const _0x1c5d9b=[];return this[_0x5ead('0x1')][_0x5ead('0x0')]('MoveOperation')[_0x5ead('0x9')](_0x1c5d9b,_0x4884fe),_0x1c5d9b[0x0];}}function S(_0x33186a){return _0x5ead('0xa')==_0x33186a[_0x5ead('0x7')]&&'$graveyard'==_0x33186a[_0x5ead('0xb')][_0x5ead('0x2')]&&0x1==_0x33186a[_0x5ead('0xd')]&&!_0x33186a[_0x5ead('0x3')];}