/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0xda3f=['sourcePosition','howMany','MoveOperation','_getCompressorByName','buffers','__className','targetPosition','wasUndone','decompress','_combineNext','_compareOperations'];(function(_0x507ea2,_0xda3f96){const _0x1b0501=function(_0xc3b444){while(--_0xc3b444){_0x507ea2['push'](_0x507ea2['shift']());}};_0x1b0501(++_0xda3f96);}(_0xda3f,0x1b6));const _0x1b05=function(_0x507ea2,_0xda3f96){_0x507ea2=_0x507ea2-0x0;let _0x1b0501=_0xda3f[_0x507ea2];return _0x1b0501;};import _0x4d9cf3 from'./actioncompressor';import{arePositionsEqual as _0x396e60,getPositionShiftedBy as _0x2dcda0}from'../utils';import{cloneDeep as _0x47f36b}from'lodash-es';export default class u extends _0x4d9cf3{[_0x1b05('0x0')](_0x172ad5,_0x4e9a8c){return _0x4e9a8c[_0x1b05('0x3')]++,_0x4e9a8c[_0x1b05('0x2')]=_0x47f36b(_0x172ad5['sourcePosition']),_0x4e9a8c;}['_splitCurrent'](_0x28fee6){const _0x3c4243=_0x47f36b(_0x28fee6);return _0x28fee6[_0x1b05('0x3')]--,_0x3c4243[_0x1b05('0x3')]=0x1,_0x3c4243[_0x1b05('0x2')]=_0x2dcda0(_0x3c4243['sourcePosition'],_0x28fee6[_0x1b05('0x3')]),_0x3c4243;}[_0x1b05('0x1')](_0x45b2b5,_0x50390d){return!(!S(_0x45b2b5)||!S(_0x50390d))&&(_0x396e60(_0x2dcda0(_0x45b2b5[_0x1b05('0x2')],-0x1),_0x50390d[_0x1b05('0x2')])&&_0x396e60(_0x45b2b5[_0x1b05('0x8')],_0x50390d[_0x1b05('0x8')]));}['_compressSingleOperation'](_0x4c68ef){const _0x47f64c={'types':[],'buffers':[],'baseVersion':0x0};return this['_context'][_0x1b05('0x5')](_0x1b05('0x4'))['compress'](_0x47f64c,[_0x4c68ef]),_0x47f64c[_0x1b05('0x6')][0x0];}['_decompressSingleOperation'](_0x67473d){const _0x14ccba=[];return this['_context'][_0x1b05('0x5')](_0x1b05('0x4'))[_0x1b05('0xa')](_0x14ccba,_0x67473d),_0x14ccba[0x0];}}function S(_0x142f06){return _0x1b05('0x4')==_0x142f06[_0x1b05('0x7')]&&'$graveyard'==_0x142f06[_0x1b05('0x8')]['root']&&0x1==_0x142f06['howMany']&&!_0x142f06[_0x1b05('0x9')];}