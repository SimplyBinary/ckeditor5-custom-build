/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x385f=['_compareOperations','compress','$graveyard','targetPosition','_getCompressorByName','_compressSingleOperation','wasUndone','__className','MoveOperation','sourcePosition','decompress','buffers','howMany','root'];(function(_0x3d4cb7,_0x385f62){const _0x413691=function(_0x209417){while(--_0x209417){_0x3d4cb7['push'](_0x3d4cb7['shift']());}};_0x413691(++_0x385f62);}(_0x385f,0x165));const _0x4136=function(_0x3d4cb7,_0x385f62){_0x3d4cb7=_0x3d4cb7-0x0;let _0x413691=_0x385f[_0x3d4cb7];return _0x413691;};import _0xa7ebaa from'./actioncompressor';import{arePositionsEqual as _0x25b23c,getPositionShiftedBy as _0x1c3e87}from'../utils';import{cloneDeep as _0x4fb3b4}from'lodash-es';export default class u extends _0xa7ebaa{['_combineNext'](_0x24c47e,_0x4a47fb){return _0x4a47fb[_0x4136('0x5')]++,_0x4a47fb[_0x4136('0x2')]=_0x4fb3b4(_0x24c47e[_0x4136('0x2')]),_0x4a47fb;}['_splitCurrent'](_0x228e7d){const _0x413377=_0x4fb3b4(_0x228e7d);return _0x228e7d[_0x4136('0x5')]--,_0x413377['howMany']=0x1,_0x413377['sourcePosition']=_0x1c3e87(_0x413377[_0x4136('0x2')],_0x228e7d[_0x4136('0x5')]),_0x413377;}[_0x4136('0x7')](_0x1a527b,_0x356c27){return!(!S(_0x1a527b)||!S(_0x356c27))&&(_0x25b23c(_0x1c3e87(_0x1a527b[_0x4136('0x2')],-0x1),_0x356c27['sourcePosition'])&&_0x25b23c(_0x1a527b[_0x4136('0xa')],_0x356c27[_0x4136('0xa')]));}[_0x4136('0xc')](_0x1ec823){const _0x592ff6={'types':[],'buffers':[],'baseVersion':0x0};return this['_context'][_0x4136('0xb')](_0x4136('0x1'))[_0x4136('0x8')](_0x592ff6,[_0x1ec823]),_0x592ff6[_0x4136('0x4')][0x0];}['_decompressSingleOperation'](_0x4aeadd){const _0x45ed46=[];return this['_context'][_0x4136('0xb')](_0x4136('0x1'))[_0x4136('0x3')](_0x45ed46,_0x4aeadd),_0x45ed46[0x0];}}function S(_0x4ab6ba){return'MoveOperation'==_0x4ab6ba[_0x4136('0x0')]&&_0x4136('0x9')==_0x4ab6ba[_0x4136('0xa')][_0x4136('0x6')]&&0x1==_0x4ab6ba[_0x4136('0x5')]&&!_0x4ab6ba[_0x4136('0xd')];}