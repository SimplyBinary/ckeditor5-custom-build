/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0xdaed=['data','buffers','substr','length','InsertOperation','_combineNext','_getCompressorByName','wasUndone','position','keys','decompress','_context','_decompressSingleOperation','nodes','every','attributes','from','compress'];(function(_0x5c7b7d,_0xdaed24){const _0x2304dd=function(_0x3801fd){while(--_0x3801fd){_0x5c7b7d['push'](_0x5c7b7d['shift']());}};_0x2304dd(++_0xdaed24);}(_0xdaed,0x1e8));const _0x2304=function(_0x5c7b7d,_0xdaed24){_0x5c7b7d=_0x5c7b7d-0x0;let _0x2304dd=_0xdaed[_0x5c7b7d];return _0x2304dd;};import _0x8bb865 from'./actioncompressor';import{arePositionsEqual as _0x451d43,getPositionShiftedBy as _0x5c0b93}from'../utils';import{cloneDeep as _0x4d3d7d}from'lodash-es';export default class g extends _0x8bb865{[_0x2304('0x3')](_0x1ff67a,_0xc5f0e8){return _0xc5f0e8[_0x2304('0xb')][0x0][_0x2304('0x10')]+=_0x1ff67a['nodes'][0x0]['data'],_0xc5f0e8;}['_splitCurrent'](_0xdda43){const _0x538c1a=_0x4d3d7d(_0xdda43),_0x3d0ddb=_0x538c1a['nodes'][0x0],_0x547e44=_0xdda43[_0x2304('0xb')][0x0],_0x38acdd=Array[_0x2304('0xe')](_0x547e44[_0x2304('0x10')])[0x0],_0x1c96cc=_0x38acdd['length'];return _0x3d0ddb[_0x2304('0x10')]=_0x38acdd,_0x547e44['data']=_0x547e44[_0x2304('0x10')][_0x2304('0x0')](_0x1c96cc),_0xdda43[_0x2304('0x6')]=_0x5c0b93(_0xdda43[_0x2304('0x6')],_0x1c96cc),_0x538c1a;}['_compareOperations'](_0x180928,_0xd8db6f){if(S(_0x180928)&&S(_0xd8db6f)){const _0x50eb11=_0x180928['nodes'][0x0]['data'][_0x2304('0x1')],_0xa7995=_0x451d43(_0x5c0b93(_0x180928['position'],_0x50eb11),_0xd8db6f[_0x2304('0x6')]),_0x4799e3=_0x180928[_0x2304('0xb')][0x0],_0x3c7841=_0xd8db6f[_0x2304('0xb')][0x0];return _0xa7995&&function(_0xf45a8b,_0x52d47f){const _0x10cb45=Object['keys'](_0xf45a8b[_0x2304('0xd')]||{}),_0x2db534=Object[_0x2304('0x7')](_0x52d47f['attributes']||{});if(_0x10cb45[_0x2304('0x1')]!==_0x2db534['length'])return!0x1;return _0x10cb45[_0x2304('0xc')](_0x146517=>_0x52d47f[_0x2304('0xd')][_0x146517]&&_0x52d47f['attributes'][_0x146517]===_0xf45a8b[_0x2304('0xd')][_0x146517]);}(_0x4799e3,_0x3c7841);}return!0x1;}['_compressSingleOperation'](_0x2d58c6){const _0x1eca89={'types':[],'buffers':[],'baseVersion':0x0};return this[_0x2304('0x9')][_0x2304('0x4')](_0x2304('0x2'))[_0x2304('0xf')](_0x1eca89,[_0x2d58c6]),_0x1eca89[_0x2304('0x11')][0x0];}[_0x2304('0xa')](_0x403cdc){const _0x3de2c7=[];return this[_0x2304('0x9')][_0x2304('0x4')](_0x2304('0x2'))[_0x2304('0x8')](_0x3de2c7,_0x403cdc),_0x3de2c7[0x0];}}function S(_0x5a8604){return _0x2304('0x2')==_0x5a8604['__className']&&0x1==_0x5a8604[_0x2304('0xb')]['length']&&_0x5a8604[_0x2304('0xb')][0x0][_0x2304('0x10')]&&!_0x5a8604[_0x2304('0x5')]&&0x1==Array['from'](_0x5a8604[_0x2304('0xb')][0x0]['data'])[_0x2304('0x1')];}