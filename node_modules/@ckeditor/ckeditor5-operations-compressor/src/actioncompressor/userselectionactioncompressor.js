/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x5922=['_decompressSingleOperation','user:','compress','start','startsWith','name','_context','newRange','split','end','user:position:','push','types','oldRange','_compressSingleOperation','MarkerOperation','__className','shift','buffers','toNone','_getCompressorByName'];(function(_0x5dc594,_0x5922e7){const _0x484e88=function(_0xbe7d9f){while(--_0xbe7d9f){_0x5dc594['push'](_0x5dc594['shift']());}};_0x484e88(++_0x5922e7);}(_0x5922,0x1ee));const _0x484e=function(_0x5dc594,_0x5922e7){_0x5dc594=_0x5dc594-0x0;let _0x484e88=_0x5922[_0x5dc594];return _0x484e88;};import _0x98bc47 from'./actioncompressor';import{arePositionsEqual as _0x4905fe}from'../utils';import{cloneDeep as _0x21729b}from'lodash-es';export default class M extends _0x98bc47{[_0x484e('0xc')](_0x45a9c4,_0x102b5f){if(!function(_0x597ba1,_0x5f28cf){if(!_0x597ba1||!_0x5f28cf)return!0x1;if(_0x484e('0x4')!=_0x597ba1[_0x484e('0x5')]||'MarkerOperation'!=_0x5f28cf[_0x484e('0x5')])return!0x1;if(_0x597ba1['name'][_0x484e('0xe')](_0x484e('0xb'))&&_0x5f28cf[_0x484e('0xf')][_0x484e('0xe')](_0x484e('0xb'))&&_0x597ba1[_0x484e('0xf')]!=_0x5f28cf[_0x484e('0xf')])return!0x0;return!0x1;}(_0x102b5f[0x0],_0x102b5f[0x1]))return!0x1;const _0x21d93e=_0x102b5f[_0x484e('0x6')]();return _0x21d93e[_0x484e('0x2')]=null,_0x21d93e[_0x484e('0x11')]&&_0x4905fe(_0x21d93e[_0x484e('0x11')][_0x484e('0xd')],_0x21d93e[_0x484e('0x11')][_0x484e('0x13')])&&(_0x21d93e[_0x484e('0x11')][_0x484e('0x13')]=null),_0x102b5f[_0x484e('0x6')](),_0x45a9c4[_0x484e('0x1')][_0x484e('0x0')](this['id']),_0x45a9c4['types']['push'](0x0),_0x45a9c4[_0x484e('0x7')][_0x484e('0x0')](this[_0x484e('0x3')](_0x21d93e)),!0x0;}['decompress'](_0x3499a8,_0x5d89ec){const _0x38fe1f=this[_0x484e('0xa')](_0x5d89ec);_0x38fe1f['newRange']&&!_0x38fe1f[_0x484e('0x11')][_0x484e('0x13')]&&(_0x38fe1f[_0x484e('0x11')][_0x484e('0x13')]=_0x21729b(_0x38fe1f['newRange']['start']));const _0x49717f=_0x21729b(_0x38fe1f);_0x49717f['newRange']&&(_0x49717f[_0x484e('0x11')][_0x484e('0xd')]['stickiness']=_0x484e('0x8'),_0x49717f[_0x484e('0x11')]['end']=_0x21729b(_0x49717f[_0x484e('0x11')][_0x484e('0xd')])),_0x49717f[_0x484e('0xf')]=_0x484e('0x14')+_0x49717f['name'][_0x484e('0x12')](':')[0x2],_0x5d89ec['types']['shift'](),_0x3499a8['push'](_0x38fe1f),_0x3499a8[_0x484e('0x0')](_0x49717f);}[_0x484e('0x3')](_0x5ccd0a){const _0x58b569={'types':[],'buffers':[],'baseVersion':0x0};return this['_context'][_0x484e('0x9')](_0x484e('0x4'))['compress'](_0x58b569,[_0x5ccd0a]),_0x58b569[_0x484e('0x7')][0x0];}[_0x484e('0xa')](_0x4e7a63){const _0xa5e60=[];return this[_0x484e('0x10')]['_getCompressorByName']('MarkerOperation')['decompress'](_0xa5e60,_0x4e7a63),_0xa5e60[0x0];}}