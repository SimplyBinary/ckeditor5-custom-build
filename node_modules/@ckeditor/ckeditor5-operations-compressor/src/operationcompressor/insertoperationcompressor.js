/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x915a=['bool','description','Position','attributes','push','repeated','attributesBoolean','Element','nodes','types','__className','stringify','decompress','keys','attributesJson','shift','parse','operationName','buffers','children','every','compress'];(function(_0xe8e93,_0x915a4f){const _0x1ffb14=function(_0x49f682){while(--_0x49f682){_0xe8e93['push'](_0xe8e93['shift']());}};_0x1ffb14(++_0x915a4f);}(_0x915a,0x67));const _0x1ffb=function(_0xe8e93,_0x915a4f){_0xe8e93=_0xe8e93-0x0;let _0x1ffb14=_0x915a[_0xe8e93];return _0x1ffb14;};import _0x511e77 from'./operationcompressor';import{parsePositionBeforeCompression as _0x551ac2,parsePositionAfterCompression as _0x338443}from'../utils';export default class s extends _0x511e77{static get[_0x1ffb('0x8')](){return{'fields':{'position':{'type':_0x1ffb('0x9'),'id':0x1},'nodes':{'rule':_0x1ffb('0xc'),'type':_0x1ffb('0xe'),'id':0x2},'shouldReceiveAttributes':{'type':_0x1ffb('0x7'),'id':0x3},'wasUndone':{'type':_0x1ffb('0x7'),'id':0x4}}};}[_0x1ffb('0x6')](_0x189690,_0x4350b8){const _0x2b8a9d=_0x4350b8['shift']();A(_0x2b8a9d[_0x1ffb('0xf')]),_0x551ac2(_0x2b8a9d),_0x189690[_0x1ffb('0x3')]['push'](this['_protobufDescriptor']['compress'](_0x2b8a9d)),_0x189690[_0x1ffb('0x10')][_0x1ffb('0xb')](this['id']);}['decompress'](_0x121330,_0x3a7604){const {types:_0x1d8063,buffers:_0x1dd171}=_0x3a7604,_0x30206b=this['_protobufDescriptor'][_0x1ffb('0x13')](_0x1dd171[_0x1ffb('0x0')]());_0x1d8063[_0x1ffb('0x0')](),_0x30206b[_0x1ffb('0xf')]||(_0x30206b['nodes']=[]),E(_0x30206b[_0x1ffb('0xf')]),_0x338443(_0x30206b),_0x30206b[_0x1ffb('0x11')]=this[_0x1ffb('0x2')],_0x121330[_0x1ffb('0xb')](_0x30206b);}}function A(_0x3ad506){for(const _0x23ddd5 of _0x3ad506){if(_0x23ddd5[_0x1ffb('0xa')]){const _0x1ff9c3=_0x23ddd5[_0x1ffb('0xa')];R(_0x1ff9c3)?_0x23ddd5[_0x1ffb('0xd')]=_0x1ff9c3:_0x23ddd5['attributesJson']=JSON[_0x1ffb('0x12')](_0x1ff9c3);}_0x23ddd5[_0x1ffb('0x4')]&&A(_0x23ddd5[_0x1ffb('0x4')]);}}function E(_0x4e57df){for(const _0x10518c of _0x4e57df)(_0x10518c[_0x1ffb('0xd')]||_0x10518c[_0x1ffb('0x15')])&&(_0x10518c['attributesBoolean']?(_0x10518c[_0x1ffb('0xa')]=_0x10518c['attributesBoolean'],delete _0x10518c[_0x1ffb('0xd')]):(_0x10518c[_0x1ffb('0xa')]=JSON[_0x1ffb('0x1')](_0x10518c['attributesJson']),delete _0x10518c[_0x1ffb('0x15')])),_0x10518c[_0x1ffb('0x4')]&&E(_0x10518c['children']);}function R(_0x1d9634){return Object[_0x1ffb('0x14')](_0x1d9634)[_0x1ffb('0x5')](_0x21f66e=>'boolean'==typeof _0x1d9634[_0x21f66e]);}