/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x1dec=['operationName','types','decompress','Element','children','nodes','__className','repeated','attributesJson','every','keys','_protobufDescriptor','compress','buffers','stringify','shift','attributes','Position','parse','bool','description','attributesBoolean','push'];(function(_0x396e12,_0x1dec1d){const _0x2b5de9=function(_0xab1050){while(--_0xab1050){_0x396e12['push'](_0x396e12['shift']());}};_0x2b5de9(++_0x1dec1d);}(_0x1dec,0x155));const _0x2b5d=function(_0x396e12,_0x1dec1d){_0x396e12=_0x396e12-0x0;let _0x2b5de9=_0x1dec[_0x396e12];return _0x2b5de9;};import _0x3d8f5c from'./operationcompressor';import{parsePositionBeforeCompression as _0x41d27d,parsePositionAfterCompression as _0x47f95f}from'../utils';export default class s extends _0x3d8f5c{static get[_0x2b5d('0x1')](){return{'fields':{'position':{'type':_0x2b5d('0x15'),'id':0x1},'nodes':{'rule':_0x2b5d('0xb'),'type':_0x2b5d('0x7'),'id':0x2},'shouldReceiveAttributes':{'type':_0x2b5d('0x0'),'id':0x3},'wasUndone':{'type':'bool','id':0x4}}};}[_0x2b5d('0x10')](_0x13f30d,_0x251ddc){const _0x481174=_0x251ddc[_0x2b5d('0x13')]();A(_0x481174['nodes']),_0x41d27d(_0x481174),_0x13f30d[_0x2b5d('0x11')]['push'](this[_0x2b5d('0xf')][_0x2b5d('0x10')](_0x481174)),_0x13f30d[_0x2b5d('0x5')][_0x2b5d('0x3')](this['id']);}[_0x2b5d('0x6')](_0x114e9a,_0x4f8c2b){const {types:_0xf4c9aa,buffers:_0xdbbe7e}=_0x4f8c2b,_0x5a11e6=this[_0x2b5d('0xf')]['decompress'](_0xdbbe7e[_0x2b5d('0x13')]());_0xf4c9aa[_0x2b5d('0x13')](),_0x5a11e6['nodes']||(_0x5a11e6[_0x2b5d('0x9')]=[]),E(_0x5a11e6[_0x2b5d('0x9')]),_0x47f95f(_0x5a11e6),_0x5a11e6[_0x2b5d('0xa')]=this[_0x2b5d('0x4')],_0x114e9a[_0x2b5d('0x3')](_0x5a11e6);}}function A(_0x21e809){for(const _0x192c43 of _0x21e809){if(_0x192c43[_0x2b5d('0x14')]){const _0x396ac5=_0x192c43['attributes'];R(_0x396ac5)?_0x192c43[_0x2b5d('0x2')]=_0x396ac5:_0x192c43[_0x2b5d('0xc')]=JSON[_0x2b5d('0x12')](_0x396ac5);}_0x192c43[_0x2b5d('0x8')]&&A(_0x192c43[_0x2b5d('0x8')]);}}function E(_0x582fe2){for(const _0x121a39 of _0x582fe2)(_0x121a39['attributesBoolean']||_0x121a39[_0x2b5d('0xc')])&&(_0x121a39[_0x2b5d('0x2')]?(_0x121a39[_0x2b5d('0x14')]=_0x121a39['attributesBoolean'],delete _0x121a39[_0x2b5d('0x2')]):(_0x121a39[_0x2b5d('0x14')]=JSON[_0x2b5d('0x16')](_0x121a39[_0x2b5d('0xc')]),delete _0x121a39[_0x2b5d('0xc')])),_0x121a39[_0x2b5d('0x8')]&&E(_0x121a39[_0x2b5d('0x8')]);}function R(_0x16cf0a){return Object[_0x2b5d('0xe')](_0x16cf0a)[_0x2b5d('0xd')](_0x15d2bc=>'boolean'==typeof _0x16cf0a[_0x15d2bc]);}