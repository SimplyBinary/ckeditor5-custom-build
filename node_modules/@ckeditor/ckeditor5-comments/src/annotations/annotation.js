/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x4c33=['type','element','view','targetRect','refreshVisibility','updateTargetRect','focusableElements','_assertCorrectTarget','mainView','stopListening','remove','isActive','_type','getClientRects','innerView','isVisible','item','destroy','target','_target','annotation-invalid-target','_isTargetElementVisible','function','add','focusTracker','render'];(function(_0x2778c1,_0x4c33bf){const _0x17ba85=function(_0x3be3fe){while(--_0x3be3fe){_0x2778c1['push'](_0x2778c1['shift']());}};_0x17ba85(++_0x4c33bf);}(_0x4c33,0x109));const _0x17ba=function(_0x2778c1,_0x4c33bf){_0x2778c1=_0x2778c1-0x0;let _0x17ba85=_0x4c33[_0x2778c1];return _0x17ba85;};import{CKEditorError as _0x147e75,Rect as _0x2c09cb,Collection as _0xaaf32d,mix as _0x22d224,ObservableMixin as _0x501d58}from'ckeditor5/src/utils';import{isElement as _0x76682e}from'lodash-es';export default class W{constructor({view:_0x41581d,target:_0xe04421,type:_0x498fce,isVisible:_0x43c3be=!0x0}){this[_0x17ba('0x17')]=_0x41581d,this['view'][_0x17ba('0x16')]||this['view'][_0x17ba('0x14')](),this['_type']=_0x498fce,this[_0x17ba('0xe')]=_0xe04421,this[_0x17ba('0x2')](),this[_0x17ba('0x1')]=new _0xaaf32d([this[_0x17ba('0x17')][_0x17ba('0x16')]],{'idProperty':'_id'}),this['focusableElements']['on'](_0x17ba('0x12'),(_0x30c075,_0xad6572)=>{this[_0x17ba('0x17')][_0x17ba('0x13')]['add'](_0xad6572);}),this['focusableElements']['on'](_0x17ba('0x5'),(_0x14987b,_0x424567)=>{this[_0x17ba('0x17')][_0x17ba('0x13')][_0x17ba('0x5')](_0x424567);}),this['set'](_0x17ba('0xa'),_0x43c3be);}get[_0x17ba('0x15')](){return _0x17ba('0x11')==typeof this[_0x17ba('0x7')]?this[_0x17ba('0x7')]():this[_0x17ba('0x7')];}get[_0x17ba('0x9')](){return this[_0x17ba('0x17')][_0x17ba('0x3')];}get['target'](){return'function'==typeof this[_0x17ba('0xe')]?this['_target']():this[_0x17ba('0xe')];}get[_0x17ba('0x18')](){const _0x3200aa=this[_0x17ba('0xd')];return this[_0x17ba('0x2')](),null!==_0x3200aa&&this[_0x17ba('0x10')]()?new _0x2c09cb(_0x3200aa):null;}get[_0x17ba('0x6')](){return this[_0x17ba('0x17')][_0x17ba('0x6')];}set['isActive'](_0x321b35){this[_0x17ba('0x17')][_0x17ba('0x6')]=_0x321b35,this[_0x17ba('0x17')]['mainView'][_0x17ba('0x6')]=_0x321b35;}[_0x17ba('0x0')](){this['view']['targetRect']=this['targetRect'];}[_0x17ba('0xc')](){this[_0x17ba('0x1')][_0x17ba('0x4')](),this[_0x17ba('0x1')]['clear'](),this[_0x17ba('0x4')]();}[_0x17ba('0x19')](){this[_0x17ba('0xa')]=this[_0x17ba('0x10')]();}[_0x17ba('0x10')](){const _0x518b1d=this[_0x17ba('0xd')];if(_0x76682e(_0x518b1d)){const _0x146c49=_0x518b1d[_0x17ba('0x8')]()[_0x17ba('0xb')](0x0),_0x20525b=_0x518b1d['offsetParent'];if(!_0x146c49||!_0x20525b)return!0x1;}return!0x0;}[_0x17ba('0x2')](){const _0x2762aa=this['target'];if(!(null===_0x2762aa||_0x2762aa instanceof _0x2c09cb||_0x76682e(_0x2762aa)))throw new _0x147e75(_0x17ba('0xf'),null,{'target':_0x2762aa});}}_0x22d224(W,_0x501d58);