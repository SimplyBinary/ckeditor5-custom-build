/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x8ac2=['focusableElements','destroy','function','isActive','remove','innerView','item','type','_target','mainView','offsetParent','view','clear','_assertCorrectTarget','stopListening','isVisible','annotation-invalid-target','render','focusTracker','_type','targetRect','_isTargetElementVisible','element','target','add','updateTargetRect'];(function(_0x5bd22f,_0x8ac21e){const _0x21eb22=function(_0x4b5596){while(--_0x4b5596){_0x5bd22f['push'](_0x5bd22f['shift']());}};_0x21eb22(++_0x8ac21e);}(_0x8ac2,0x1e6));const _0x21eb=function(_0x5bd22f,_0x8ac21e){_0x5bd22f=_0x5bd22f-0x0;let _0x21eb22=_0x8ac2[_0x5bd22f];return _0x21eb22;};import{CKEditorError as _0x4b604f,Rect as _0x571484,Collection as _0x3a6fa9,mix as _0x435d6c,ObservableMixin as _0x2a98db}from'ckeditor5/src/utils';import{isElement as _0x1e9856}from'lodash-es';export default class p{constructor({view:_0x47baba,target:_0x592a08,type:_0x1b9998,isVisible:_0x51c1fe=!0x0}){this[_0x21eb('0x13')]=_0x47baba,this[_0x21eb('0x13')][_0x21eb('0x4')]||this[_0x21eb('0x13')][_0x21eb('0x19')](),this[_0x21eb('0x1')]=_0x1b9998,this[_0x21eb('0x10')]=_0x592a08,this[_0x21eb('0x15')](),this[_0x21eb('0x8')]=new _0x3a6fa9([this[_0x21eb('0x13')][_0x21eb('0x4')]],{'idProperty':'_id'}),this[_0x21eb('0x8')]['on'](_0x21eb('0x6'),(_0x2bd87a,_0x4aaa34)=>{this[_0x21eb('0x13')][_0x21eb('0x0')]['add'](_0x4aaa34);}),this['focusableElements']['on']('remove',(_0x206350,_0x2f037e)=>{this['view'][_0x21eb('0x0')][_0x21eb('0xc')](_0x2f037e);}),this['set']('isVisible',_0x51c1fe);}get[_0x21eb('0xf')](){return _0x21eb('0xa')==typeof this[_0x21eb('0x1')]?this[_0x21eb('0x1')]():this[_0x21eb('0x1')];}get[_0x21eb('0xd')](){return this[_0x21eb('0x13')]['mainView'];}get[_0x21eb('0x5')](){return _0x21eb('0xa')==typeof this[_0x21eb('0x10')]?this['_target']():this['_target'];}get[_0x21eb('0x2')](){const _0x3f9247=this['target'];return this[_0x21eb('0x15')](),null!==_0x3f9247&&this['_isTargetElementVisible']()?new _0x571484(_0x3f9247):null;}get[_0x21eb('0xb')](){return this[_0x21eb('0x13')][_0x21eb('0xb')];}set[_0x21eb('0xb')](_0x1d3fdc){this[_0x21eb('0x13')][_0x21eb('0xb')]=_0x1d3fdc,this['view'][_0x21eb('0x11')][_0x21eb('0xb')]=_0x1d3fdc;}[_0x21eb('0x7')](){this['view']['targetRect']=this[_0x21eb('0x2')];}[_0x21eb('0x9')](){this['focusableElements'][_0x21eb('0x16')](),this[_0x21eb('0x8')][_0x21eb('0x14')](),this['stopListening']();}['refreshVisibility'](){this[_0x21eb('0x17')]=this[_0x21eb('0x3')]();}[_0x21eb('0x3')](){const _0x2f622b=this[_0x21eb('0x5')];if(_0x1e9856(_0x2f622b)){const _0xf341f9=_0x2f622b['getClientRects']()[_0x21eb('0xe')](0x0),_0x339c61=_0x2f622b[_0x21eb('0x12')];if(!_0xf341f9||!_0x339c61)return!0x1;}return!0x0;}[_0x21eb('0x15')](){const _0x47f8f4=this[_0x21eb('0x5')];if(!(null===_0x47f8f4||_0x47f8f4 instanceof _0x571484||_0x1e9856(_0x47f8f4)))throw new _0x4b604f(_0x21eb('0x18'),null,{'target':_0x47f8f4});}}_0x435d6c(p,_0x2a98db);