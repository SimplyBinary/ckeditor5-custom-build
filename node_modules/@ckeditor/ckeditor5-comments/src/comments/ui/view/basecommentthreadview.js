/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{View as ht}from'ckeditor5/src/ui';import dt from'./commentthreadinputview';import ct from'./commentslistview';export default class Rt extends ht{constructor(_0x5bdad1,_0x1a3a7e,_0x228f4f,_0xb2f3ee){super(_0x5bdad1),this['set']('isActive',!0x1),this['set']('isDirty',!0x1),this['_model']=_0x1a3a7e,this['_localUser']=_0x228f4f,this['_config']=_0xb2f3ee,this['commentsListView']=new ct(_0x5bdad1,_0x1a3a7e,Object['assign']({'CommentView':this['_config']['CommentView']},_0xb2f3ee)),this['commentsListView']['delegate']('removeComment')['to'](this),this['commentsListView']['delegate']('updateComment')['to'](this),this['commentsListView']['bind']('isActive')['to'](this),this['set']('length',this['commentsListView']['length']),this['bind']('length')['to'](this['commentsListView'],'length'),this['commentThreadInputView']=this['_createCommentThreadInputView'](),this['on']('removeComment',()=>this['focus']()),this['bind']('isDirty')['to'](this['commentsListView'],'hasDirtyComment',this['commentThreadInputView']['commentInputView'],'value',(_0x55307a,_0x198e68)=>_0x55307a||!!_0x198e68);}['focus'](){this['element']['focus']();}['destroy'](){this['isDirty']=!0x1,this['commentsListView']['destroy'](),this['commentThreadInputView']['destroy'](),super['destroy']();}['_createCommentThreadInputView'](){const {t:t}=this['locale'],_0x1e1d42=new dt(this['locale'],this['_localUser'],this['_config']['editorConfig']),_0x519b31=_0x1e1d42['commentInputView'];return _0x1e1d42['bind']('showInput')['to'](this,'isActive',this['_model'],'isReadOnly',_0x519b31,'value',(_0x94d79,_0xdbd480,_0x5b1fbb)=>!!_0x5b1fbb||_0x94d79&&!_0xdbd480),_0x519b31['bind']('placeholder')['to'](this,'length',_0xac9c1e=>t(_0xac9c1e?'Reply...':'Write\x20a\x20comment...')),_0x519b31['on']('submit',(_0x27b5a3,_0x3d15f2)=>{this['fire']('addComment',_0x3d15f2);}),_0x519b31['on']('cancel',()=>{this['focus']();}),_0x519b31['bind']('disabledSubmit')['to'](this['_model'],'isReadOnly'),_0x519b31['on']('cancel',_0xa298a8=>{0x0==this['length']&&(this['fire']('removeCommentThread'),_0xa298a8['stop']());}),this['on']('change:isActive',(_0x448dc2,_0x31af27,_0x4ffdf7)=>{_0x4ffdf7||this['length']||_0x519b31['value']||this['fire']('removeCommentThread');}),_0x1e1d42;}}