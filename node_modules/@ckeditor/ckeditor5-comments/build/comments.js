!function(t){const e=t.en=t.en||{};e.dictionary=Object.assign(e.dictionary||{},{Comment:"Comment","Comment editor":"Comment editor","Delete comment thread?":"Delete comment thread?","Delete comment?":"Delete comment?",Edit:"Edit",NUMBER_OF_COMMENTS:["%0 Comment","%0 Comments"],PENDING_ACTION_COMMENT_THREAD:"Unsaved change in comment thread.",Remove:"Remove","Reply...":"Reply...",Submit:"Submit",TOO_LONG_COMMENT_ALERT:"Comment content is too long. Your comment has %0 characters but the limit is %1 characters.","Write a comment...":"Write a comment..."})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),
/*!
 * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var t={722:t=>{t.exports='\x3c!--\n\n What you\'re currently looking at is the source code of a legally protected, proprietary software.\n CKEditor 5 Collaboration is licensed under a commercial license and protected by copyright law. Where not otherwise indicated,\n all CKEditor 5 Collaboration content is authored by CKSource engineers and consists of CKSource-owned intellectual property.\n\n Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n\n!--\x3e\n\n<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M4 1.5h12A3.5 3.5 0 0 1 19.5 5v8l-.005.192a3.501 3.501 0 0 1-2.927 3.262l-.062.008v1.813a1.5 1.5 0 0 1-2.193 1.33l-.371-.193-.38-.212a13.452 13.452 0 0 1-3.271-2.63l-.062-.07H4A3.5 3.5 0 0 1 .5 13V5A3.5 3.5 0 0 1 4 1.5ZM4 3a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h6.924a11.916 11.916 0 0 0 3.71 3.081l.372.194v-3.268L14.962 15H16a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2H4Zm1.55 5a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5Zm4.5 0a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5Zm4.5 0a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5Z"/></svg>\n'},632:t=>{t.exports='\x3c!--\n\n What you\'re currently looking at is the source code of a legally protected, proprietary software.\n CKEditor 5 Collaboration is licensed under a commercial license and protected by copyright law. Where not otherwise indicated,\n all CKEditor 5 Collaboration content is authored by CKSource engineers and consists of CKSource-owned intellectual property.\n\n Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n\n!--\x3e\n\n<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.2 7h9.2c.6 0 1 .4 1 1v9.9c0 .5-.4 1-1 1H5.2a1 1 0 0 1-1-1V8c0-.6.4-1 1-1zm1 1.5c-.3 0-.5.2-.5.5v8c0 .3.2.5.5.5h.5c.2 0 .5-.2.5-.5V9c0-.3-.3-.5-.5-.5h-.5zm3.2 0c-.2 0-.5.2-.5.5v8c0 .3.3.5.5.5h.5c.3 0 .5-.2.5-.5V9c0-.3-.2-.5-.5-.5h-.4zm3.5 0c-.2 0-.5.2-.5.5v8c0 .3.3.5.5.5h.5c.3 0 .5-.2.5-.5V9c0-.3-.2-.5-.5-.5h-.5zm-1.4-7.1H8.3L6.5 3.6H3.8c-.5 0-.7.3-.7.8s.2.7.7.7h12c.6 0 .9-.2.9-.7 0-.5-.3-.8-1-.8h-2.4l-1.8-2.2z"/></svg>\n'},275:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var o=n(758),i=n.n(o)()((function(t){return t[1]}));i.push([t.id,":root{--ck-inline-annotation-container-width:300px;--ck-inline-annotation-container-max-height:400px}.ck.ck-balloon-panel .ck-annotation-wrapper{max-height:var(--ck-inline-annotation-container-max-height);overflow-x:hidden;overflow-y:auto;overscroll-behavior-y:contain;position:static;width:var(--ck-inline-annotation-container-width)}.ck.ck-balloon-panel .ck-annotation{animation:none}.ck.ck-balloon-panel .ck-annotation-wrapper *{white-space:normal}.ck.ck-balloon-panel .ck-annotation-wrapper strong{font-weight:700}.ck.ck-balloon-panel .ck-annotation-wrapper i{font-style:italic}.ck.ck-balloon-panel button.ck-suggestion--accept .ck-tooltip__text,.ck.ck-balloon-panel button.ck-suggestion--discard .ck-tooltip__text{text-align:center}.ck.ck-balloon-panel button.ck-suggestion--discard .ck-tooltip{left:unset;right:0}.ck.ck-balloon-panel button.ck-suggestion--discard .ck-tooltip__text{left:unset}.ck.ck-balloon-panel button.ck-suggestion--discard .ck-tooltip__text:after{left:calc(100% - 10px)}",""]);const r=i},173:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var o=n(758),i=n.n(o)()((function(t){return t[1]}));i.push([t.id,":root{--ck-color-annotation-icon:grey;--ck-color-annotation-info:#757575;--ck-annotation-button-size:0.85em}.ck .ck-annotation{--ck-user-avatar-size:28px;animation:fadeInLeft .3s;display:flex;font-size:var(--ck-font-size-base);padding:var(--ck-spacing-standard);position:relative;transition:background-color .3s ease}.ck .ck-annotation .ck-button{background-color:transparent;border-radius:var(--ck-border-radius);color:var(--ck-color-annotation-icon);cursor:pointer;font-size:var(--ck-annotation-button-size);min-height:unset;min-width:unset}.ck .ck-annotation__main{border-radius:var(--ck-border-radius);display:flex;flex-wrap:wrap;justify-content:space-between;padding-left:var(--ck-spacing-standard);transition:all .2s ease;width:calc(100% - var(--ck-user-avatar-size))}.ck .ck-annotation__main p{font-size:var(--ck-font-size-base);line-height:1.5em;margin:0;white-space:normal}.ck .ck-annotation__user{margin-top:var(--ck-spacing-small)}.ck .ck-annotation__info{align-items:center;color:var(--ck-color-annotation-info);display:flex;min-height:2.4em}.ck .ck-annotation__info-name,.ck .ck-annotation__info-time{color:var(--ck-color-annotation-info);font-size:var(--ck-font-size-small);font-weight:700;max-width:150px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ck .ck-annotation__info-time{margin-left:var(--ck-spacing-large)}.ck .ck-annotation__actions{opacity:.5;transition:opacity .2s ease}.ck .ck-annotation__content-wrapper{width:100%}@keyframes fadeInLeft{0%{opacity:0;transform:translate3d(-5%,0,0)}to{opacity:1;transform:translateZ(0)}}",""]);const r=i},490:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var o=n(758),i=n.n(o)()((function(t){return t[1]}));i.push([t.id,':root{--ck-color-comment-background:#f3f7fb;--ck-color-comment-separator:#cddeef;--ck-color-comment-remove-background:#fcc;--ck-color-comment-input-background:var(--ck-color-comment-background)}.ck .ck-comment__wrapper{font-size:var(--ck-font-size-base);outline:0;position:relative;transition:all .3s linear}.ck .ck-comment__wrapper.ck-comment--remove-confirmation{transform:translate3d(-100%,0,0)}.ck .ck-comment__wrapper:first-of-type{border-top-left-radius:var(--ck-border-radius);border-top-right-radius:var(--ck-border-radius)}.ck .ck-comment:after{background-color:var(--ck-color-comment-separator);content:"";display:block;height:100%;left:calc(var(--ck-spacing-standard) + var(--ck-user-avatar-size)/2 - 2px);opacity:1;position:absolute;top:calc(var(--ck-user-avatar-size) + var(--ck-spacing-small));width:4px}.ck .ck-comment--remove{background-color:var(--ck-color-comment-remove-background)}.ck .ck-comment--remove:after{opacity:0}.ck .ck-comment--edit{background-color:var(--ck-color-comment-input-background)}.ck .ck-comment--edit:after{opacity:0}.ck .ck-comment__main .ck-comment__input-wrapper{display:flex;flex-direction:column;position:relative;transition:all .3s linear}.ck .ck-comment__main .ck-comment__input-wrapper .ck-comment__input{padding:0}.ck .ck-comment__content{word-break:break-word}.ck .ck-comment__user{z-index:var(--ck-z-default)}.ck-comment__input-actions .ck.ck-button.ck-comment__input-actions--submit{color:var(--ck-color-button-save)}.ck-comment__input-actions .ck.ck-button.ck-comment__input-actions--cancel{color:var(--ck-color-button-cancel)}.ck .ck-comment p,.ck .ck-comment__input p{margin:0}.ck .ck-comment ol,.ck .ck-comment ul,.ck .ck-comment__input ol,.ck .ck-comment__input ul{margin-left:10px;padding-left:10px}.ck .ck-comment ul,.ck .ck-comment__input ul{list-style:disc;margin-bottom:5px;margin-top:0}.ck .ck-comment ul ul,.ck .ck-comment__input ul ul{list-style:circle}.ck .ck-comment ul ul ul,.ck .ck-comment__input ul ul ul{list-style:square}',""]);const r=i},424:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var o=n(758),i=n.n(o)()((function(t){return t[1]}));i.push([t.id,".ck .ck-comment__input-container{--ck-user-avatar-size:28px;background:var(--ck-color-comment-background);display:none;font-size:var(--ck-font-size-base);padding:var(--ck-spacing-standard)}.ck .ck-comment__input-container--active{display:flex}.ck .ck-comment__input{background-color:transparent;border-width:0;color:var(--ck-color-base-text);padding:var(--ck-spacing-standard);padding-top:var(--ck-spacing-medium);resize:none;transition:color .3s ease-in-out}.ck .ck-comment__input:focus{outline:none}.ck .ck-comment__input .ck-editor__editable_inline{--ck-focus-ring:none;--ck-inner-shadow:none;background-color:transparent;border:0;overflow:visible;padding:0;word-break:break-word}.ck-comment__input-wrapper .ck.ck-editor__editable_inline :first-child{margin-top:0}.ck-comment__input-wrapper .ck.ck-editor__editable_inline :last-child{margin-bottom:0}.ck .ck-comment__input-actions{display:none;text-align:right;width:100%}.ck .ck-comment__input-actions.ck-comment__input-actions--active{display:block}.ck .ck-comment__input-actions .ck-button{background-color:transparent;border-radius:var(--ck-border-radius);color:var(--ck-color-annotations-icon);cursor:pointer;font-size:var(--ck-annotation-button-size);min-height:unset;min-width:unset}.ck .ck-comment__input-actions .ck-button.ck-disabled{opacity:.3}.ck .ck-comment__input-textarea{display:block}",""]);const r=i},446:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var o=n(758),i=n.n(o)()((function(t){return t[1]}));i.push([t.id,":root{--ck-color-comment-marker:#fef7a9;--ck-color-comment-marker-active:#fdf05d}.ck-comment-marker{background:var(--ck-color-comment-marker);border-bottom:3px solid transparent;border-top:3px solid transparent}.ck-comment-marker.ck-widget{background-color:transparent;border:3px solid var(--ck-color-comment-marker)}.ck-comment-marker--active{background:var(--ck-color-comment-marker-active)}.ck-comment-marker--active.ck-widget{border-color:var(--ck-color-comment-marker-active)}.ck-comment-marker--active.ck-widget .ck-comment-marker{background-color:var(--ck-color-comment-marker)}.ck-comment-marker--active .ck-comment-marker{background:var(--ck-color-comment-marker-active)}",""]);const r=i},227:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var o=n(758),i=n.n(o)()((function(t){return t[1]}));i.push([t.id,':root{--ck-color-thread-remove-background:var(--ck-color-comment-remove-background);--ck-color-comment-count:#5891ca}.ck .ck-thread{background-color:var(--ck-color-base-background);border-radius:var(--ck-border-radius);color:var(--ck-color-base-text);outline:0;overflow:hidden;transition:all .3s ease;width:100%}.ck .ck-thread__comments .ck-comment__wrapper:last-of-type .ck-comment:after{opacity:0}.ck .ck-thread__container{transition:transform .3s ease}.ck .ck-thread__comments{border-radius:var(--ck-border-radius);list-style:none;margin:0;overflow:hidden;padding:0;position:relative;z-index:var(--ck-z-default)}.ck .ck-thread__comment-count{--ck-user-avatar-size:28px;color:var(--ck-color-comment-count);cursor:pointer;font-size:var(--ck-font-size-base);font-weight:700;padding-left:calc(var(--ck-user-avatar-size) + var(--ck-spacing-standard)*2);transition:background-color .3s ease}.ck .ck-thread__comment-count:before{content:"\\25BC";margin-right:var(--ck-spacing-small)}.ck .ck-thread--active .ck-comment__options.ck-dropdown{display:block}.ck .ck-thread--active .ck-thread__input{background-color:var(--ck-color-comment-background);display:block}.ck .ck-thread--remove .ck-comment{background-color:var(--ck-color-comment-remove-background)}.ck .ck-thread--remove .ck-thread__input--active{background-color:var(--ck-color-base-background)}.ck .ck-thread--remove .ck-thread__comment-count,.ck .ck-thread--remove .ck-thread__input--active.ck-thread__input{background-color:var(--ck-color-comment-remove-background)}.ck .ck-thread--remove .ck-comment__wrapper .ck-comment:after{opacity:0}.ck .ck-thread--remove-confirmation .ck-thread__container{transform:translate3d(-100%,0,0)}.ck.ck-button.ck-thread__remove-confirm-submit{color:var(--ck-color-button-save)}.ck.ck-button.ck-thread__remove-confirm-cancel{color:var(--ck-color-button-cancel)}.ck .ck-thread__remove-confirm{background-color:var(--ck-color-comment-remove-background);display:flex;font-size:var(--ck-font-size-base);height:100%;justify-content:flex-start;left:100%;position:absolute;top:0;width:100%}.ck .ck-thread__remove-confirm .ck-thread__remove-confirm-inner{align-items:center;display:flex;flex-direction:column;height:100%;justify-content:center;max-height:400px;padding-top:var(--ck-spacing-standard);width:100%}.ck .ck-thread__remove-confirm p{font-weight:700;margin:0}.ck .ck-thread__input{border-radius:var(--ck-border-radius);transition:background-color .2s ease-in-out;width:calc(100% - var(--ck-user-avatar-size))}',""]);const r=i},28:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var o=n(758),i=n.n(o)()((function(t){return t[1]}));i.push([t.id,":root{--ck-annotation-counter-icon-size:16px;--ck-annotation-counter-number-size:10px;--ck-color-annotation-counter-comment:#f2de02;--ck-color-annotation-counter-suggestion-insertion:#5ad86b;--ck-color-annotation-counter-suggestion-deletion:#d85a79;--ck-color-annotation-counter-suggestion-format:#5ac1d8}.ck.ck-sidebar--narrow .ck-sidebar-item{display:flex;justify-content:center}.ck.ck-sidebar--narrow .ck-annotation-counter{color:grey;cursor:pointer;font-size:var(--ck-annotation-counter-icon-size);min-height:unset;padding:0}.ck.ck-sidebar--narrow .ck-annotation-counter:focus,.ck.ck-sidebar--narrow .ck-annotation-counter:hover{background:transparent;box-shadow:none;color:#4d4d4d}.ck.ck-sidebar--narrow .ck-annotation-counter__badge{background:#333;border-radius:50%;color:#fff;display:flex;font-family:var(--ck-font-face);font-size:var(--ck-annotation-counter-number-size);font-weight:700;height:16px;justify-content:center;line-height:16px;position:absolute;right:0;text-shadow:-1px 0 2px #444,1px 0 2px #444;top:-6px;width:16px;z-index:1}.ck.ck-sidebar--narrow .ck-annotation-counter__badge--edit-mode{line-height:1}.ck.ck-sidebar--narrow .ck-annotation-counter__badge--suggestion-insertion,.ck.ck-sidebar--narrow .ck-annotation-counter__badge--suggestion-replace{background:var(--ck-color-annotation-counter-suggestion-insertion)}.ck.ck-sidebar--narrow .ck-annotation-counter__badge--suggestion-deletion{background:var(--ck-color-annotation-counter-suggestion-deletion)}.ck.ck-sidebar--narrow .ck-annotation-counter__badge--suggestion-format{background:var(--ck-color-annotation-counter-suggestion-format)}.ck.ck-sidebar--narrow .ck-annotation-counter__badge--comment{background:var(--ck-color-annotation-counter-comment)}",""]);const r=i},100:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var o=n(758),i=n.n(o)()((function(t){return t[1]}));i.push([t.id,":root{--ck-color-annotation-wrapper-background:#fff;--ck-color-annotation-wrapper-drop-shadow:0 1px 1px 1px #e6e6e6}.ck.ck-sidebar{outline:0;position:relative;transition:min-height .25s ease}.ck-sidebar-item{position:absolute;transition:top .3s ease,box-shadow .3s ease;width:100%}.ck-sidebar-item--no-animation{transition:top 0s ease!important}.ck.ck-annotation-wrapper{background:var(--ck-color-annotation-wrapper-background);border-radius:var(--ck-border-radius);box-shadow:var(--ck-color-annotation-wrapper-drop-shadow);outline:0}.ck.ck-annotation-wrapper:not(.ck-annotation-wrapper--active):hover{box-shadow:var(--ck-drop-shadow)}.ck.ck-annotation-wrapper--active{box-shadow:var(--ck-drop-shadow-active)}.ck.ck-annotation-wrapper--active .ck-annotation__actions,.ck.ck-annotation-wrapper:hover .ck-annotation__actions{opacity:1}.ck.ck-annotation-wrapper--active .ck-suggestion--accept,.ck.ck-annotation-wrapper:hover .ck-suggestion--accept{color:var(--ck-color-button-save)}.ck.ck-annotation-wrapper--active .ck-suggestion--discard,.ck.ck-annotation-wrapper:hover .ck-suggestion--discard{color:var(--ck-color-button-cancel)}",""]);const r=i},758:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,o){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(o)for(var r=0;r<this.length;r++){var s=this[r][0];null!=s&&(i[s]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);o&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},278:(t,e,n)=>{"use strict";var o,i=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},r=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),s=[];function a(t){for(var e=-1,n=0;n<s.length;n++)if(s[n].identifier===t){e=n;break}return e}function c(t,e){for(var n={},o=[],i=0;i<t.length;i++){var r=t[i],c=e.base?r[0]+e.base:r[0],x=n[c]||0,h="".concat(c," ").concat(x);n[c]=x+1;var d=a(h),l={css:r[1],media:r[2],sourceMap:r[3]};-1!==d?(s[d].references++,s[d].updater(l)):s.push({identifier:h,updater:p(l,e),references:1}),o.push(h)}return o}function x(t){var e=document.createElement("style"),o=t.attributes||{};if(void 0===o.nonce){var i=n.nc;i&&(o.nonce=i)}if(Object.keys(o).forEach((function(t){e.setAttribute(t,o[t])})),"function"==typeof t.insert)t.insert(e);else{var s=r(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var h,d=(h=[],function(t,e){return h[t]=e,h.filter(Boolean).join("\n")});function l(t,e,n,o){var i=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(t.styleSheet)t.styleSheet.cssText=d(e,i);else{var r=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}function u(t,e,n){var o=n.css,i=n.media,r=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}var m=null,f=0;function p(t,e){var n,o,i;if(e.singleton){var r=f++;n=m||(m=x(e)),o=l.bind(null,n,r,!1),i=l.bind(null,n,r,!0)}else n=x(e),o=u.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=i());var n=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var o=0;o<n.length;o++){var i=a(n[o]);s[i].references--}for(var r=c(t,e),x=0;x<n.length;x++){var h=a(n[x]);0===s[h].references&&(s[h].updater(),s.splice(h,1))}n=r}}}},945:(t,e,n)=>{t.exports=n(79)("./src/clipboard.js")},417:(t,e,n)=>{t.exports=n(720)("./src/collaboration-core.js")},704:(t,e,n)=>{t.exports=n(79)("./src/core.js")},492:(t,e,n)=>{t.exports=n(79)("./src/engine.js")},331:(t,e,n)=>{t.exports=n(79)("./src/enter.js")},747:(t,e,n)=>{t.exports=n(79)("./src/paragraph.js")},468:(t,e,n)=>{t.exports=n(79)("./src/select-all.js")},181:(t,e,n)=>{t.exports=n(79)("./src/typing.js")},273:(t,e,n)=>{t.exports=n(79)("./src/ui.js")},254:(t,e,n)=>{t.exports=n(79)("./src/undo.js")},209:(t,e,n)=>{t.exports=n(79)("./src/utils.js")},720:t=>{"use strict";t.exports=CKEditor5.collaborationDll},79:t=>{"use strict";t.exports=CKEditor5.dll}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={id:o,exports:{}};return t[o](r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};(()=>{"use strict";n.r(o),n.d(o,{Annotations:()=>ur,AnnotationsUIs:()=>ss,BaseCommentThreadView:()=>Go,BaseCommentView:()=>si,Comments:()=>ea,CommentsOnly:()=>ea,InlineAnnotations:()=>Js,NarrowSidebar:()=>Us,WideSidebar:()=>Os});var t=n(704),e=n(209),i=n(417);const r=function(){this.__data__=[],this.size=0};const s=function(t,e){return t===e||t!=t&&e!=e};const a=function(t,e){for(var n=t.length;n--;)if(s(t[n][0],e))return n;return-1};var c=Array.prototype.splice;const x=function(t){var e=this.__data__,n=a(e,t);return!(n<0)&&(n==e.length-1?e.pop():c.call(e,n,1),--this.size,!0)};const h=function(t){var e=this.__data__,n=a(e,t);return n<0?void 0:e[n][1]};const d=function(t){return a(this.__data__,t)>-1};const l=function(t,e){var n=this.__data__,o=a(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this};function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}u.prototype.clear=r,u.prototype.delete=x,u.prototype.get=h,u.prototype.has=d,u.prototype.set=l;const m=u;const f=function(){this.__data__=new m,this.size=0};const p=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};const g=function(t){return this.__data__.get(t)};const b=function(t){return this.__data__.has(t)};const v="object"==typeof global&&global&&global.Object===Object&&global;var _="object"==typeof self&&self&&self.Object===Object&&self;const w=v||_||Function("return this")();const k=w.Symbol;var y=Object.prototype,C=y.hasOwnProperty,A=y.toString,T=k?k.toStringTag:void 0;const E=function(t){var e=C.call(t,T),n=t[T];try{t[T]=void 0;var o=!0}catch(t){}var i=A.call(t);return o&&(e?t[T]=n:delete t[T]),i};var I=Object.prototype.toString;const j=function(t){return I.call(t)};var V=k?k.toStringTag:void 0;const O=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":V&&V in Object(t)?E(t):j(t)};const S=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};const M=function(t){if(!S(t))return!1;var e=O(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e};const R=w["__core-js_shared__"];var D,P=(D=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||""))?"Symbol(src)_1."+D:"";const B=function(t){return!!P&&P in t};var N=Function.prototype.toString;const z=function(t){if(null!=t){try{return N.call(t)}catch(t){}try{return t+""}catch(t){}}return""};var F=/^\[object .+?Constructor\]$/,L=Function.prototype,K=Object.prototype,U=L.toString,W=K.hasOwnProperty,H=RegExp("^"+U.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Z=function(t){return!(!S(t)||B(t))&&(M(t)?H:F).test(z(t))};const q=function(t,e){return null==t?void 0:t[e]};const $=function(t,e){var n=q(t,e);return Z(n)?n:void 0};const G=$(w,"Map");const J=$(Object,"create");const Y=function(){this.__data__=J?J(null):{},this.size=0};const Q=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e};var X=Object.prototype.hasOwnProperty;const tt=function(t){var e=this.__data__;if(J){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return X.call(e,t)?e[t]:void 0};var et=Object.prototype.hasOwnProperty;const nt=function(t){var e=this.__data__;return J?void 0!==e[t]:et.call(e,t)};const ot=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=J&&void 0===e?"__lodash_hash_undefined__":e,this};function it(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}it.prototype.clear=Y,it.prototype.delete=Q,it.prototype.get=tt,it.prototype.has=nt,it.prototype.set=ot;const rt=it;const st=function(){this.size=0,this.__data__={hash:new rt,map:new(G||m),string:new rt}};const at=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};const ct=function(t,e){var n=t.__data__;return at(e)?n["string"==typeof e?"string":"hash"]:n.map};const xt=function(t){var e=ct(this,t).delete(t);return this.size-=e?1:0,e};const ht=function(t){return ct(this,t).get(t)};const dt=function(t){return ct(this,t).has(t)};const lt=function(t,e){var n=ct(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this};function ut(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}ut.prototype.clear=st,ut.prototype.delete=xt,ut.prototype.get=ht,ut.prototype.has=dt,ut.prototype.set=lt;const mt=ut;const ft=function(t,e){var n=this.__data__;if(n instanceof m){var o=n.__data__;if(!G||o.length<199)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new mt(o)}return n.set(t,e),this.size=n.size,this};function pt(t){var e=this.__data__=new m(t);this.size=e.size}pt.prototype.clear=f,pt.prototype.delete=p,pt.prototype.get=g,pt.prototype.has=b,pt.prototype.set=ft;const gt=pt;const bt=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};const vt=function(t){return this.__data__.has(t)};function _t(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new mt;++e<n;)this.add(t[e])}_t.prototype.add=_t.prototype.push=bt,_t.prototype.has=vt;const wt=_t;const kt=function(t,e){for(var n=-1,o=null==t?0:t.length;++n<o;)if(e(t[n],n,t))return!0;return!1};const yt=function(t,e){return t.has(e)};const Ct=function(t,e,n,o,i,r){var s=1&n,a=t.length,c=e.length;if(a!=c&&!(s&&c>a))return!1;var x=r.get(t),h=r.get(e);if(x&&h)return x==e&&h==t;var d=-1,l=!0,u=2&n?new wt:void 0;for(r.set(t,e),r.set(e,t);++d<a;){var m=t[d],f=e[d];if(o)var p=s?o(f,m,d,e,t,r):o(m,f,d,t,e,r);if(void 0!==p){if(p)continue;l=!1;break}if(u){if(!kt(e,(function(t,e){if(!yt(u,e)&&(m===t||i(m,t,n,o,r)))return u.push(e)}))){l=!1;break}}else if(m!==f&&!i(m,f,n,o,r)){l=!1;break}}return r.delete(t),r.delete(e),l};const At=w.Uint8Array;const Tt=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,o){n[++e]=[o,t]})),n};const Et=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n};var It=k?k.prototype:void 0,jt=It?It.valueOf:void 0;const Vt=function(t,e,n,o,i,r,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!r(new At(t),new At(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var c=Tt;case"[object Set]":var x=1&o;if(c||(c=Et),t.size!=e.size&&!x)return!1;var h=a.get(t);if(h)return h==e;o|=2,a.set(t,e);var d=Ct(c(t),c(e),o,i,r,a);return a.delete(t),d;case"[object Symbol]":if(jt)return jt.call(t)==jt.call(e)}return!1};const Ot=function(t,e){for(var n=-1,o=e.length,i=t.length;++n<o;)t[i+n]=e[n];return t};const St=Array.isArray;const Mt=function(t,e,n){var o=e(t);return St(t)?o:Ot(o,n(t))};const Rt=function(t,e){for(var n=-1,o=null==t?0:t.length,i=0,r=[];++n<o;){var s=t[n];e(s,n,t)&&(r[i++]=s)}return r};const Dt=function(){return[]};var Pt=Object.prototype.propertyIsEnumerable,Bt=Object.getOwnPropertySymbols;const Nt=Bt?function(t){return null==t?[]:(t=Object(t),Rt(Bt(t),(function(e){return Pt.call(t,e)})))}:Dt;const zt=function(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o};const Ft=function(t){return null!=t&&"object"==typeof t};const Lt=function(t){return Ft(t)&&"[object Arguments]"==O(t)};var Kt=Object.prototype,Ut=Kt.hasOwnProperty,Wt=Kt.propertyIsEnumerable;const Ht=Lt(function(){return arguments}())?Lt:function(t){return Ft(t)&&Ut.call(t,"callee")&&!Wt.call(t,"callee")};const Zt=function(){return!1};var qt="object"==typeof exports&&exports&&!exports.nodeType&&exports,$t=qt&&"object"==typeof module&&module&&!module.nodeType&&module,Gt=$t&&$t.exports===qt?w.Buffer:void 0;const Jt=(Gt?Gt.isBuffer:void 0)||Zt;var Yt=/^(?:0|[1-9]\d*)$/;const Qt=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Yt.test(t))&&t>-1&&t%1==0&&t<e};const Xt=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var te={};te["[object Float32Array]"]=te["[object Float64Array]"]=te["[object Int8Array]"]=te["[object Int16Array]"]=te["[object Int32Array]"]=te["[object Uint8Array]"]=te["[object Uint8ClampedArray]"]=te["[object Uint16Array]"]=te["[object Uint32Array]"]=!0,te["[object Arguments]"]=te["[object Array]"]=te["[object ArrayBuffer]"]=te["[object Boolean]"]=te["[object DataView]"]=te["[object Date]"]=te["[object Error]"]=te["[object Function]"]=te["[object Map]"]=te["[object Number]"]=te["[object Object]"]=te["[object RegExp]"]=te["[object Set]"]=te["[object String]"]=te["[object WeakMap]"]=!1;const ee=function(t){return Ft(t)&&Xt(t.length)&&!!te[O(t)]};const ne=function(t){return function(e){return t(e)}};var oe="object"==typeof exports&&exports&&!exports.nodeType&&exports,ie=oe&&"object"==typeof module&&module&&!module.nodeType&&module,re=ie&&ie.exports===oe&&v.process;const se=function(){try{var t=ie&&ie.require&&ie.require("util").types;return t||re&&re.binding&&re.binding("util")}catch(t){}}();var ae=se&&se.isTypedArray;const ce=ae?ne(ae):ee;var xe=Object.prototype.hasOwnProperty;const he=function(t,e){var n=St(t),o=!n&&Ht(t),i=!n&&!o&&Jt(t),r=!n&&!o&&!i&&ce(t),s=n||o||i||r,a=s?zt(t.length,String):[],c=a.length;for(var x in t)!e&&!xe.call(t,x)||s&&("length"==x||i&&("offset"==x||"parent"==x)||r&&("buffer"==x||"byteLength"==x||"byteOffset"==x)||Qt(x,c))||a.push(x);return a};var de=Object.prototype;const le=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||de)};const ue=function(t,e){return function(n){return t(e(n))}};const me=ue(Object.keys,Object);var fe=Object.prototype.hasOwnProperty;const pe=function(t){if(!le(t))return me(t);var e=[];for(var n in Object(t))fe.call(t,n)&&"constructor"!=n&&e.push(n);return e};const ge=function(t){return null!=t&&Xt(t.length)&&!M(t)};const be=function(t){return ge(t)?he(t):pe(t)};const ve=function(t){return Mt(t,be,Nt)};var _e=Object.prototype.hasOwnProperty;const we=function(t,e,n,o,i,r){var s=1&n,a=ve(t),c=a.length;if(c!=ve(e).length&&!s)return!1;for(var x=c;x--;){var h=a[x];if(!(s?h in e:_e.call(e,h)))return!1}var d=r.get(t),l=r.get(e);if(d&&l)return d==e&&l==t;var u=!0;r.set(t,e),r.set(e,t);for(var m=s;++x<c;){var f=t[h=a[x]],p=e[h];if(o)var g=s?o(p,f,h,e,t,r):o(f,p,h,t,e,r);if(!(void 0===g?f===p||i(f,p,n,o,r):g)){u=!1;break}m||(m="constructor"==h)}if(u&&!m){var b=t.constructor,v=e.constructor;b==v||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof v&&v instanceof v||(u=!1)}return r.delete(t),r.delete(e),u};const ke=$(w,"DataView");const ye=$(w,"Promise");const Ce=$(w,"Set");const Ae=$(w,"WeakMap");var Te="[object Map]",Ee="[object Promise]",Ie="[object Set]",je="[object WeakMap]",Ve="[object DataView]",Oe=z(ke),Se=z(G),Me=z(ye),Re=z(Ce),De=z(Ae),Pe=O;(ke&&Pe(new ke(new ArrayBuffer(1)))!=Ve||G&&Pe(new G)!=Te||ye&&Pe(ye.resolve())!=Ee||Ce&&Pe(new Ce)!=Ie||Ae&&Pe(new Ae)!=je)&&(Pe=function(t){var e=O(t),n="[object Object]"==e?t.constructor:void 0,o=n?z(n):"";if(o)switch(o){case Oe:return Ve;case Se:return Te;case Me:return Ee;case Re:return Ie;case De:return je}return e});const Be=Pe;var Ne="[object Arguments]",ze="[object Array]",Fe="[object Object]",Le=Object.prototype.hasOwnProperty;const Ke=function(t,e,n,o,i,r){var s=St(t),a=St(e),c=s?ze:Be(t),x=a?ze:Be(e),h=(c=c==Ne?Fe:c)==Fe,d=(x=x==Ne?Fe:x)==Fe,l=c==x;if(l&&Jt(t)){if(!Jt(e))return!1;s=!0,h=!1}if(l&&!h)return r||(r=new gt),s||ce(t)?Ct(t,e,n,o,i,r):Vt(t,e,c,n,o,i,r);if(!(1&n)){var u=h&&Le.call(t,"__wrapped__"),m=d&&Le.call(e,"__wrapped__");if(u||m){var f=u?t.value():t,p=m?e.value():e;return r||(r=new gt),i(f,p,n,o,r)}}return!!l&&(r||(r=new gt),we(t,e,n,o,i,r))};const Ue=function t(e,n,o,i,r){return e===n||(null==e||null==n||!Ft(e)&&!Ft(n)?e!=e&&n!=n:Ke(e,n,o,i,t,r))};const We=function(t,e){return Ue(t,e)};const He=function(t,e){for(var n=-1,o=null==t?0:t.length;++n<o&&!1!==e(t[n],n,t););return t};const Ze=function(){try{var t=$(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();const qe=function(t,e,n){"__proto__"==e&&Ze?Ze(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n};var $e=Object.prototype.hasOwnProperty;const Ge=function(t,e,n){var o=t[e];$e.call(t,e)&&s(o,n)&&(void 0!==n||e in t)||qe(t,e,n)};const Je=function(t,e,n,o){var i=!n;n||(n={});for(var r=-1,s=e.length;++r<s;){var a=e[r],c=o?o(n[a],t[a],a,n,t):void 0;void 0===c&&(c=t[a]),i?qe(n,a,c):Ge(n,a,c)}return n};const Ye=function(t,e){return t&&Je(e,be(e),t)};const Qe=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e};var Xe=Object.prototype.hasOwnProperty;const tn=function(t){if(!S(t))return Qe(t);var e=le(t),n=[];for(var o in t)("constructor"!=o||!e&&Xe.call(t,o))&&n.push(o);return n};const en=function(t){return ge(t)?he(t,!0):tn(t)};const nn=function(t,e){return t&&Je(e,en(e),t)};var on="object"==typeof exports&&exports&&!exports.nodeType&&exports,rn=on&&"object"==typeof module&&module&&!module.nodeType&&module,sn=rn&&rn.exports===on?w.Buffer:void 0,an=sn?sn.allocUnsafe:void 0;const cn=function(t,e){if(e)return t.slice();var n=t.length,o=an?an(n):new t.constructor(n);return t.copy(o),o};const xn=function(t,e){var n=-1,o=t.length;for(e||(e=Array(o));++n<o;)e[n]=t[n];return e};const hn=function(t,e){return Je(t,Nt(t),e)};const dn=ue(Object.getPrototypeOf,Object);const ln=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Ot(e,Nt(t)),t=dn(t);return e}:Dt;const un=function(t,e){return Je(t,ln(t),e)};const mn=function(t){return Mt(t,en,ln)};var fn=Object.prototype.hasOwnProperty;const pn=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&fn.call(t,"index")&&(n.index=t.index,n.input=t.input),n};const gn=function(t){var e=new t.constructor(t.byteLength);return new At(e).set(new At(t)),e};const bn=function(t,e){var n=e?gn(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)};var vn=/\w*$/;const _n=function(t){var e=new t.constructor(t.source,vn.exec(t));return e.lastIndex=t.lastIndex,e};var wn=k?k.prototype:void 0,kn=wn?wn.valueOf:void 0;const yn=function(t){return kn?Object(kn.call(t)):{}};const Cn=function(t,e){var n=e?gn(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)};const An=function(t,e,n){var o=t.constructor;switch(e){case"[object ArrayBuffer]":return gn(t);case"[object Boolean]":case"[object Date]":return new o(+t);case"[object DataView]":return bn(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Cn(t,n);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(t);case"[object RegExp]":return _n(t);case"[object Symbol]":return yn(t)}};var Tn=Object.create;const En=function(){function t(){}return function(e){if(!S(e))return{};if(Tn)return Tn(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const In=function(t){return"function"!=typeof t.constructor||le(t)?{}:En(dn(t))};const jn=function(t){return Ft(t)&&"[object Map]"==Be(t)};var Vn=se&&se.isMap;const On=Vn?ne(Vn):jn;const Sn=function(t){return Ft(t)&&"[object Set]"==Be(t)};var Mn=se&&se.isSet;const Rn=Mn?ne(Mn):Sn;var Dn="[object Arguments]",Pn="[object Function]",Bn="[object Object]",Nn={};Nn[Dn]=Nn["[object Array]"]=Nn["[object ArrayBuffer]"]=Nn["[object DataView]"]=Nn["[object Boolean]"]=Nn["[object Date]"]=Nn["[object Float32Array]"]=Nn["[object Float64Array]"]=Nn["[object Int8Array]"]=Nn["[object Int16Array]"]=Nn["[object Int32Array]"]=Nn["[object Map]"]=Nn["[object Number]"]=Nn["[object Object]"]=Nn["[object RegExp]"]=Nn["[object Set]"]=Nn["[object String]"]=Nn["[object Symbol]"]=Nn["[object Uint8Array]"]=Nn["[object Uint8ClampedArray]"]=Nn["[object Uint16Array]"]=Nn["[object Uint32Array]"]=!0,Nn["[object Error]"]=Nn[Pn]=Nn["[object WeakMap]"]=!1;const zn=function t(e,n,o,i,r,s){var a,c=1&n,x=2&n,h=4&n;if(o&&(a=r?o(e,i,r,s):o(e)),void 0!==a)return a;if(!S(e))return e;var d=St(e);if(d){if(a=pn(e),!c)return xn(e,a)}else{var l=Be(e),u=l==Pn||"[object GeneratorFunction]"==l;if(Jt(e))return cn(e,c);if(l==Bn||l==Dn||u&&!r){if(a=x||u?{}:In(e),!c)return x?un(e,nn(a,e)):hn(e,Ye(a,e))}else{if(!Nn[l])return r?e:{};a=An(e,l,c)}}s||(s=new gt);var m=s.get(e);if(m)return m;s.set(e,a),Rn(e)?e.forEach((function(i){a.add(t(i,n,o,i,e,s))})):On(e)&&e.forEach((function(i,r){a.set(r,t(i,n,o,r,e,s))}));var f=d?void 0:(h?x?mn:ve:x?en:be)(e);return He(f||e,(function(i,r){f&&(i=e[r=i]),Ge(a,r,t(i,n,o,r,e,s))})),a};const Fn=function(t){return zn(t,5)};const Ln=function(t){return"symbol"==typeof t||Ft(t)&&"[object Symbol]"==O(t)};var Kn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Un=/^\w*$/;const Wn=function(t,e){if(St(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ln(t))||(Un.test(t)||!Kn.test(t)||null!=e&&t in Object(e))};function Hn(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var o=arguments,i=e?e.apply(this,o):o[0],r=n.cache;if(r.has(i))return r.get(i);var s=t.apply(this,o);return n.cache=r.set(i,s)||r,s};return n.cache=new(Hn.Cache||mt),n}Hn.Cache=mt;const Zn=Hn;var qn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$n=/\\(\\)?/g;const Gn=function(t){var e=Zn(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(qn,(function(t,n,o,i){e.push(o?i.replace($n,"$1"):n||t)})),e}));const Jn=function(t,e){for(var n=-1,o=null==t?0:t.length,i=Array(o);++n<o;)i[n]=e(t[n],n,t);return i};var Yn=k?k.prototype:void 0,Qn=Yn?Yn.toString:void 0;const Xn=function t(e){if("string"==typeof e)return e;if(St(e))return Jn(e,t)+"";if(Ln(e))return Qn?Qn.call(e):"";var n=e+"";return"0"==n&&1/e==-Infinity?"-0":n};const to=function(t){return null==t?"":Xn(t)};const eo=function(t,e){return St(t)?t:Wn(t,e)?[t]:Gn(to(t))};const no=function(t){if("string"==typeof t||Ln(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e};const oo=function(t,e,n,o){if(!S(t))return t;for(var i=-1,r=(e=eo(e,t)).length,s=r-1,a=t;null!=a&&++i<r;){var c=no(e[i]),x=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(i!=s){var h=a[c];void 0===(x=o?o(h,c,a):void 0)&&(x=S(h)?h:Qt(e[i+1])?[]:{})}Ge(a,c,x),a=a[c]}return t};const io=function(t,e,n){return null==t?t:oo(t,e,n)};const ro=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0};const so=function(t,e){for(var n=0,o=(e=eo(e,t)).length;null!=t&&n<o;)t=t[no(e[n++])];return n&&n==o?t:void 0};const ao=function(t,e,n){var o=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var r=Array(i);++o<i;)r[o]=t[o+e];return r};const co=function(t,e){return e.length<2?t:so(t,ao(e,0,-1))};const xo=function(t,e){return e=eo(e,t),null==(t=co(t,e))||delete t[no(ro(e))]};const ho=function(t,e){return null==t||xo(t,e)};var lo,uo,mo=["stopListening","remove","updateComment","addComment","listenTo","getComment","_isAttached","update","view","model","removeCommentThread","removeComment"];lo=mo,uo=245,function(t){for(;--t;)lo.push(lo.shift())}(++uo);var fo=function(t,e){return mo[t-=0]};class po{constructor(t,e){this.model=t,this[fo("0x4")][fo("0x1")]=!0,this.view=e,this[fo("0xb")](e,fo("0x5"),(()=>this[fo("0x8")]())),this[fo("0xb")](e,fo("0xa"),((t,e)=>this[fo("0xa")](e))),this[fo("0xb")](e,"updateComment",((t,e,n)=>this[fo("0x9")](e,n))),this[fo("0xb")](e,fo("0x6"),((t,e)=>this.removeComment(e)))}[fo("0x8")](){this[fo("0x4")][fo("0x8")]()}[fo("0xa")](t){this[fo("0x4")][fo("0xa")]({content:t,authorId:this[fo("0x3")]._localUser.id})}[fo("0x9")](t,e){this[fo("0x4")][fo("0x0")](t)[fo("0x2")]({content:e})}removeComment(t){this.model.getComment(t).remove()}destroy(){this[fo("0x7")](),this[fo("0x4")]._isAttached=!1}}(0,e.mix)(po,e.ObservableMixin);var go=n(273);class bo extends go.EditorUIView{constructor(t,n){super(t);const o=(0,e.uid)();this.main=this.createCollection(),this.editable=new go.InlineEditableUIView(t,n),this._voiceLabelView=this._createVoiceLabel(o,t),this.setTemplate({tag:"div",attributes:{class:["ck-reset","ck-editor","ck-rounded-corners","ck-comment__input"],role:"comment",dir:t.uiLanguageDirection,lang:t.uiLanguage,"aria-labelledby":"cke-editor__aria-label_"+o},children:[this._voiceLabelView,{tag:"div",attributes:{class:"ck-editor__main",role:"presentation"},children:this.main}]})}render(){super.render(),this.main.add(this.editable)}focus(){this.editable.element.focus()}_createVoiceLabel(t,e){const n=new go.LabelView,{t:o}=e;return n.text=o("Comment editor"),n.extendTemplate({attributes:{id:"ck-editor__aria-label_"+t,class:"ck-voice-label"}}),n}}const vo=["destroy","ready","setEditableElement","bind","name","document","editing","editor","getRoot","fire","init","view","render","attachDomRoot","focusTracker","element","editable","rootName"];var _o,wo;_o=vo,wo=451,function(t){for(;--t;)_o.push(_o.shift())}(++wo);const ko=function(t,e){return vo[t-=0]};class yo extends t.EditorUI{constructor(t){super(t),this.view=new bo(t.locale,t[ko("0x5")].view)}get element(){return this[ko("0xa")].element}[ko("0x9")](){const t=this[ko("0x6")][ko("0x5")].view,e=this[ko("0xa")][ko("0xf")],n=t[ko("0x4")][ko("0x7")]();e[ko("0x3")]=n[ko("0x10")],this[ko("0xa")][ko("0xb")]();const o=e[ko("0xe")];this[ko("0x1")](e[ko("0x3")],o),this[ko("0xd")].add(o),this[ko("0xa")][ko("0xf")][ko("0x2")]("isFocused").to(this.focusTracker),t[ko("0xc")](o),this[ko("0x8")](ko("0x0"))}[ko("0x11")](){this[ko("0xa")].destroy(),super[ko("0x11")]()}}var Co=n(492),Ao=n(945),To=n(331),Eo=n(468),Io=n(181),jo=n(254),Vo=n(747);const Oo=["change","view","change:placeholder","document","placeholderElement","init","name","get","then","focus","getRoot","data","getChild","createRoot","destroy","setSelection","editing","config","assign","childCount","model","set","fire","plugins","defaultPlugins","_updatePlaceholder","create","low"];var So,Mo;So=Oo,Mo=358,function(t){for(;--t;)So.push(So.shift())}(++Mo);const Ro=function(t,e){return Oo[t-=0]};class Do extends t.Editor{constructor(t={}){(t=Object[Ro("0x18")]({},t))[Ro("0x1")]||(t.plugins=Do[Ro("0x2")]),super(t),this.ui=new yo(this),this[Ro("0x1b")]("placeholder",""),this.model[Ro("0x9")].on("change",(()=>this[Ro("0x3")]()),{priority:Ro("0x5")}),this.on(Ro("0x8"),(()=>this[Ro("0x3")]())),this.model[Ro("0x9")][Ro("0x13")]()}[Ro("0x4")](){const t=this[Ro("0x17")][Ro("0xd")]("initialData")||"";return this.initPlugins().then((()=>this.ui[Ro("0xb")]()))[Ro("0xe")]((()=>this[Ro("0x11")][Ro("0xb")](t))).then((()=>this[Ro("0x0")]("ready")))}[Ro("0x14")](){return super[Ro("0x14")]()[Ro("0xe")]((()=>this.ui[Ro("0x14")]()))}[Ro("0xf")](){this[Ro("0x1a")][Ro("0x6")]((t=>{const e=this.model[Ro("0x9")].getRoot(),n=e[Ro("0x12")](e[Ro("0x19")]-1);t[Ro("0x15")](n,"end"),this[Ro("0x16")][Ro("0x7")][Ro("0xf")]()}))}[Ro("0x3")](){const t=this[Ro("0x16")][Ro("0x7")],e=t[Ro("0x9")][Ro("0x10")](),n=e[Ro("0x12")](0);e[Ro("0x19")]>1||!n||"p"!=n[Ro("0xc")]?this[Ro("0xa")]&&((0,Co.disablePlaceholder)(t,this[Ro("0xa")]),this[Ro("0xa")]=void 0):((0,Co.enablePlaceholder)({view:t,element:n,text:this.placeholder,keepOnFocus:!0}),this[Ro("0xa")]=n)}}(0,e.mix)(Do,e.ObservableMixin),(0,e.mix)(Do,t.DataApiMixin),Do[Ro("0x2")]=[Ao.Clipboard,To.Enter,To.ShiftEnter,Eo.SelectAll,Io.Typing,jo.Undo,Vo.Paragraph];class Po extends go.View{constructor(t,n={}){super(t);const{t:o}=t;this.editor=new Do(n),this.keystrokes=new e.KeystrokeHandler,this.focusTracker=new e.FocusTracker,this.set("value",n.initialData||""),this.set("disabledSubmit",!1),this.set("showButtons",!0),this.set("placeholder",o("Reply...")),this.submitButtonView=this._createSubmitButton(),this.cancelButtonView=this._createCancelButton(),this.setTemplate({tag:"div",attributes:{class:["ck-comment__input-wrapper"]},children:[{tag:"div",attributes:{class:["ck-comment__input-actions",this.bindTemplate.if("showButtons","ck-comment__input-actions--active")]},children:[this.submitButtonView,this.cancelButtonView]}]}),this.keystrokes.set("Esc",((t,e)=>{this.cancelButtonView.fire("execute"),e()})),this.on("submit",((t,e)=>{e.length>65e3?(alert(o({string:"Comment content is too long. Your comment has %0 characters but the limit is %1 characters.",id:"TOO_LONG_COMMENT_ALERT"},[e.length,65e3])),t.stop()):this.editor.setData("")}),{priority:"high"})}render(){super.render();const{editor:t,element:e}=this;this.keystrokes.listenTo(e),this.focusTracker.add(e),this._editorCreationPromise=t.create().then((()=>{e.insertBefore(t.ui.element,e.firstChild),t.model.document.on("change",(()=>this.value=t.getData())),t.bind("placeholder").to(this),this._initializeFocusCycling(t),this.fire("editorReady")}))}focus(){this.editor.focus()}async destroy(){this._isDestroyed||(this._isDestroyed=!0,this.isRendered&&(await this._editorCreationPromise,await this.editor.destroy()),await super.destroy())}_createSubmitButton(){const e=new go.ButtonView(this.locale),{t:n}=this.locale;return e.extendTemplate({attributes:{class:["ck-comment__input-actions--submit"]}}),e.label=n("Submit"),e.icon=t.icons.check,e.on("execute",(()=>{this.fire("submit",this.value)})),e.bind("isEnabled").to(this,"value",this,"disabledSubmit",((t,e)=>!e&&!!t.trim())),e}_createCancelButton(){const e=new go.ButtonView(this.locale),{t:n}=this.locale;return e.extendTemplate({attributes:{class:["ck-comment__input-actions--cancel"]}}),e.label=n("Cancel"),e.icon=t.icons.cancel,e.on("execute",(()=>{this.editor.setData(""),this.fire("cancel")})),e}_initializeFocusCycling(t){const e=this.focusTracker,n=new go.ViewCollection;[t.ui.view,this.submitButtonView,this.cancelButtonView].forEach((t=>{n.add(t),e.add(t.element)}));const o=new go.FocusCycler({focusables:n,focusTracker:e});this.keystrokes.set("tab",((t,e)=>{o.focusNext(),e()}),{priority:"low"}),this.keystrokes.set("shift + tab",((t,e)=>{o.focusPrevious(),e()}),{priority:"low"})}}var Bo,No,zo=["then","showInput","ck-comment__input-container","setTemplate","commentInputView","div","bindTemplate","userView","bind","ck-comment__input-container--active","extendTemplate","set","showButtons","destroy","ck-thread__user"];Bo=zo,No=152,function(t){for(;--t;)Bo.push(Bo.shift())}(++No);var Fo=function(t,e){return zo[t-=0]};class Lo extends go.View{constructor(t,e,n){super(t),this[Fo("0x2")]=new Po(t,n),this[Fo("0x2")][Fo("0x6")](Fo("0xa")).to(this[Fo("0x2")].focusTracker,"isFocused",this[Fo("0x2")],"value",((t,e)=>t||!!e)),this[Fo("0x9")](Fo("0xe"),!1),this[Fo("0x5")]=new i.UserView(t,e),this[Fo("0x5")][Fo("0x8")]({attributes:{class:Fo("0xc")}}),this[Fo("0x2")][Fo("0x8")]({attributes:{class:"ck-thread__input"}}),this[Fo("0x1")]({tag:Fo("0x3"),attributes:{class:[Fo("0x0"),this[Fo("0x4")].if(Fo("0xe"),Fo("0x7"))]},children:[this[Fo("0x5")],this[Fo("0x2")]]})}[Fo("0xb")](){return this[Fo("0x2")][Fo("0xb")]()[Fo("0xd")]((()=>super[Fo("0xb")]()))}}class Ko extends go.View{constructor(t){super(t);const{t:e}=t,n=this.bindTemplate;this.set("count"),this.setTemplate({tag:"li",attributes:{class:"ck-thread__comment-count"},children:[{text:n.to("count",(t=>e({string:"%0 Comment",plural:"%0 Comments",id:"NUMBER_OF_COMMENTS"},t)))}]})}}const Uo=["collapse","editorConfig","weight","remove","_rearrangeCollapse","_shouldCollapse","from","bind","destroy","createCollection","visibleViews","formatDateTime","commentViews","_handleRemoveCommentModel","refreshVisibleViews","_updateHasDirtyComment","comments","removeComment","count","render","delete","hasDirtyComment","change:hasDirtyComment","isActive","_config","viewUid","_model","change:isEditMode","CommentView","expand","_collapsedCommentsView","maxThreadTotalWeight","set","maxCommentCharsWhenCollapsed","isEditMode","_rearrangeExpand","get","ck-thread__comments","locale","delegate","updateComment","commentUpdated","setTemplate","element","maxCommentsWhenCollapsed","add","listenTo","_handleNewCommentModel","stopListening","insert","length"];var Wo,Ho;Wo=Uo,Ho=244,function(t){for(;--t;)Wo.push(Wo.shift())}(++Ho);const Zo=function(t,e){return Uo[t-=0]};class qo extends go.View{constructor(t,e,n){super(t),this[Zo("0x2b")](Zo("0x20"),!1),this[Zo("0x2b")]("length",e[Zo("0x1b")][Zo("0xa")]),this[Zo("0x2b")](Zo("0x22"),!1),this[Zo("0x25")]=e,this[Zo("0x23")]=n,this.commentViews=this[Zo("0x14")](),this[Zo("0x15")]=this[Zo("0x14")](),this[Zo("0x29")]=new Ko(t),this[Zo("0x29")][Zo("0x12")](Zo("0x1d")).to(this,Zo("0xa"),(t=>t-this._config[Zo("0x4")]));for(const t of e[Zo("0x1b")])this[Zo("0x7")](t);this[Zo("0x6")](e.comments,Zo("0x5"),((t,e)=>{this[Zo("0xa")]++,this._handleNewCommentModel(e),this[Zo("0x19")]()})),this[Zo("0x6")](e[Zo("0x1b")],Zo("0xe"),((t,e)=>{this[Zo("0xa")]--,this[Zo("0x18")](e),this.refreshVisibleViews()})),this.listenTo(e,Zo("0x1"),(()=>this[Zo("0x19")]())),this.on("change:isActive",(()=>this.refreshVisibleViews())),this.on(Zo("0x21"),(()=>this[Zo("0x19")]())),this[Zo("0x2")]({tag:"ul",attributes:{class:[Zo("0x30")]},children:this[Zo("0x15")]})}get[Zo("0x10")](){return this[Zo("0x25")][Zo("0xd")]>this[Zo("0x23")][Zo("0x2a")]&&!this[Zo("0x22")]&&!this[Zo("0x20")]}[Zo("0x1e")](){super[Zo("0x1e")](),this[Zo("0x19")]()}focus(){this[Zo("0x3")].focus()}destroy(){this._collapsedCommentsView[Zo("0x13")]();for(const t of this[Zo("0x17")])t[Zo("0x13")]();super.destroy()}[Zo("0x19")](){this._shouldCollapse?this[Zo("0xf")]():this[Zo("0x2e")]()}[Zo("0x7")](t){const e=new(this[Zo("0x23")][Zo("0x27")])(this[Zo("0x31")],t,{maxCommentCharsWhenCollapsed:this[Zo("0x23")][Zo("0x2c")],formatDateTime:this._config[Zo("0x16")],editorConfig:this[Zo("0x23")][Zo("0xc")]});e[Zo("0x24")]=t.id,e.delegate(Zo("0x1c")).to(this),e[Zo("0x32")](Zo("0x0")).to(this),this[Zo("0x6")](e,Zo("0x26"),(()=>this[Zo("0x1a")]())),this[Zo("0x17")].add(e)}_handleRemoveCommentModel(t){const e=this.commentViews[Zo("0xe")](t.id);this[Zo("0x8")](e),e[Zo("0x2d")]&&this[Zo("0x1a")](),e.destroy()}[Zo("0x1a")](){this[Zo("0x20")]=Array.from(this[Zo("0x17")]).some((t=>t[Zo("0x2d")]))}_rearrangeCollapse(){const t=function(t){const n=new e.Collection;for(const e of t)n.add(e);return n}(this[Zo("0x17")]),n=this[Zo("0x29")][Zo("0x1d")];for(let e=1;e<=n;e++)t[Zo("0xe")](1);for(const e of t)e[Zo("0xb")]();n>0&&t[Zo("0x5")](this[Zo("0x29")],1),$o((0,e.diff)(Array[Zo("0x11")](this.visibleViews),Array[Zo("0x11")](t)),this[Zo("0x15")],t)}_rearrangeExpand(){$o((0,e.diff)(Array[Zo("0x11")](this[Zo("0x15")]),Array[Zo("0x11")](this[Zo("0x17")])),this.visibleViews,this.commentViews);for(const t of this[Zo("0x15")])t[Zo("0x28")]()}}function $o(t,e,n){let o=0;for(const i of t)switch(i){case Zo("0x9"):e[Zo("0x5")](n[Zo("0x2f")](o),o),o++;break;case Zo("0x1f"):e[Zo("0xe")](o);break;case"equal":o++}}class Go extends go.View{constructor(t,e,n,o){super(t),this.set("isActive",!1),this.set("isDirty",!1),this._model=e,this._localUser=n,this._config=o,this.commentsListView=new qo(t,e,Object.assign({CommentView:this._config.CommentView},o)),this.commentsListView.delegate("removeComment").to(this),this.commentsListView.delegate("updateComment").to(this),this.commentsListView.bind("isActive").to(this),this.set("length",this.commentsListView.length),this.bind("length").to(this.commentsListView,"length"),this.commentThreadInputView=this._createCommentThreadInputView(),this.on("removeComment",(()=>this.focus())),this.bind("isDirty").to(this.commentsListView,"hasDirtyComment",this.commentThreadInputView.commentInputView,"value",((t,e)=>t||!!e))}focus(){this.element.focus()}destroy(){this.isDirty=!1,this.commentsListView.destroy(),this.commentThreadInputView.destroy(),super.destroy()}_createCommentThreadInputView(){const{t}=this.locale,e=new Lo(this.locale,this._localUser,this._config.editorConfig),n=e.commentInputView;return e.bind("showInput").to(this,"isActive",this._model,"isReadOnly",n,"value",((t,e,n)=>!!n||t&&!e)),n.bind("placeholder").to(this,"length",(e=>t(e?"Reply...":"Write a comment..."))),n.on("submit",((t,e)=>{this.fire("addComment",e)})),n.on("cancel",(()=>{this.focus()})),n.bind("disabledSubmit").to(this._model,"isReadOnly"),n.on("cancel",(t=>{0==this.length&&(this.fire("removeCommentThread"),t.stop())})),this.on("change:isActive",((t,e,o)=>{o||this.length||n.value||this.fire("removeCommentThread")})),e}}class Jo extends Go{constructor(t,e,n,o){super(t,e,n,o),this.set("actionIndicator",null),this.containerElement=null,this.locale=t,this.setTemplate(this.getTemplate()),this.on("change:isActive",((t,e,n)=>{n||this._cancelAllConfirms()})),this.listenTo(this._model,"change:isReadOnly",((t,e,n)=>{n&&this._cancelAllConfirms()})),this.length>0?this._bindFirstCommentView():this.listenTo(this.commentsListView.commentViews,"add",(t=>{this._bindFirstCommentView(),t.off()}))}getTemplate(){const t=this.bindTemplate;return{tag:"div",attributes:{class:["ck-thread",t.if("isActive","ck-thread--active"),t.if("isConfirm","ck-thread--remove-confirmation"),t.to("actionIndicator",(t=>t?"ck-thread--"+t:""))],"data-thread-id":this._model.id,tabindex:-1},children:[{tag:"div",attributes:{class:"ck-thread__container"},children:[this.commentsListView,this.commentThreadInputView]}]}}render(){super.render(),this.containerElement=this.element.querySelector(".ck-thread__container")}_cancelAllConfirms(){this.cancelConfirm();for(const t of this.commentsListView.commentViews)t.cancelConfirm()}_bindFirstCommentView(){const{t}=this.locale,e=this.commentsListView.commentViews.get(0);this.bind("actionIndicator").to(e,"actionIndicator",(t=>"remove"===t?"remove":null)),e.placeholder=t("Write a comment..."),e.removeButton.on("execute",(e=>{e.stop(),this.showConfirm(t("Delete comment thread?"),this.containerElement).then((()=>{this.fire("removeCommentThread")}))}),{priority:"high"})}}(0,e.mix)(Jo,i.ConfirmMixin);var Yo,Qo,Xo=["setTemplate","content","element","set","render","innerHTML","ck-annotation__content","change:content"];Yo=Xo,Qo=343,function(t){for(;--t;)Yo.push(Yo.shift())}(++Qo);var ti=function(t,e){return Xo[t-=0]};class ei extends go.View{constructor(t){super(t),this[ti("0x4")](ti("0x2"),""),this[ti("0x1")]({tag:"div",attributes:{class:["ck-comment__content",ti("0x7")]}})}[ti("0x5")](){super[ti("0x5")](),this.on(ti("0x0"),((t,e,n)=>{this[ti("0x3")][ti("0x6")]=n})),this[ti("0x3")][ti("0x6")]=this[ti("0x2")]}}const ni=["_createCommentContentView","expand","isCollapsed","visibleView","destroy","set","createCollection","_config","_createCommentInputView","_model","fire","value","editorConfig","switchToDisplayMode","initialData","maxCommentCharsWhenCollapsed","add","element","isEditMode","disabledSubmit","isReadOnly","cancel","content","switchToEditMode","get","remove","focus","locale","updateComment"];var oi,ii;oi=ni,ii=465,function(t){for(;--t;)oi.push(oi.shift())}(++ii);const ri=function(t,e){return ni[t-=0]};class si extends go.View{constructor(t,e,n){super(t),this._model=e,this[ri("0x6")]=n,this[ri("0x4")](ri("0x11"),!1),this[ri("0x4")](ri("0x1"),!0),this[ri("0x2")]=this[ri("0x5")](),this[ri("0x2")][ri("0xf")](this[ri("0x1c")]())}[ri("0x0")](){this[ri("0x1")]=!1}collapse(){this.isEditMode||(this[ri("0x1")]=!0)}[ri("0x19")](){this[ri("0x10")][ri("0x19")]()}async destroy(){await this[ri("0x2")][ri("0x17")](0)[ri("0x3")](),super[ri("0x3")]()}[ri("0x16")](){this.isEditMode||(this[ri("0x11")]=!0,this[ri("0x2")][ri("0x18")](0)[ri("0x3")](),this[ri("0x2")][ri("0xf")](this[ri("0x7")]()))}[ri("0xc")](){this[ri("0x11")]&&(this[ri("0x11")]=!1,this[ri("0x2")][ri("0x18")](0)[ri("0x3")](),this[ri("0x2")][ri("0xf")](this[ri("0x1c")]()))}[ri("0x1c")](){const t=new ei(this.locale);return t.bind(ri("0x15")).to(this[ri("0x8")],ri("0x15"),this,ri("0x1"),((t,e)=>e?(0,i.trimHtml)(t,{limit:this[ri("0x6")][ri("0xe")]}):t)),t}[ri("0x7")](){this._config[ri("0xb")]||(this._config[ri("0xb")]={}),this[ri("0x6")][ri("0xb")][ri("0xd")]=this[ri("0x8")][ri("0x15")];const t=new Po(this[ri("0x1a")],this[ri("0x6")][ri("0xb")]);return t[ri("0xa")]=this[ri("0x8")][ri("0x15")],t.bind(ri("0x12")).to(this[ri("0x8")],ri("0x13")),t.on("submit",((t,e)=>{this[ri("0x9")](ri("0x1b"),this[ri("0x8")].id,e),this.switchToDisplayMode(),this[ri("0x19")]()})),t.on(ri("0x14"),(()=>{this.switchToDisplayMode(),this[ri("0x19")]()})),t.once("editorReady",(()=>{t[ri("0x19")]()})),t}}var ai=n(632),ci=n.n(ai);class xi extends si{constructor(t,e,n){super(t,e,n);const{t:o}=this.locale;this.set("actionIndicator",null),this.set("placeholder",o("Reply...")),this.set("createdAt",null),this.bind("createdAt").to(e),this.editButton=this._createEditButton(),this.removeButton=this._createRemoveButton(),this.userView=new i.UserView(t,e.author),this.userView.extendTemplate({attributes:{class:["ck-comment__user","ck-annotation__user"]}}),this.listenTo(e,"change:isRemovable",(()=>this.cancelConfirm())),this.setTemplate(this.getTemplate())}getTemplate(){const t=this.bindTemplate;return{tag:"li",attributes:{class:["ck-comment__wrapper",t.if("isConfirm","ck-comment--remove-confirmation")],tabindex:-1},children:[{tag:"div",attributes:{class:["ck-comment","ck-annotation",t.if("isEditMode","ck-comment--edit"),t.to("actionIndicator",(t=>t?"ck-comment--"+t:""))],"data-author-id":this._model.author.id,"data-comment-id":this._model.id},children:[this.userView,{tag:"div",attributes:{class:["ck-comment__main","ck-annotation__main"]},children:[{tag:"div",attributes:{class:["ck-comment__info","ck-annotation__info"]},children:[{tag:"span",children:[{text:this.userView.name}],attributes:{class:["ck-comment__info-name","ck-annotation__info-name"]}},{tag:"time",attributes:{datetime:t.to("createdAt"),class:["ck-comment__info-time","ck-annotation__info-time"]},children:[{text:t.to("createdAt",(t=>this._config.formatDateTime(t)))}]}]},{tag:"div",attributes:{class:["ck-comment__actions","ck-annotation__actions",t.if("isEditMode","ck-comment__actions--hidden"),t.if("isEditMode","ck-annotation__actions--hidden")]},children:[this.editButton,this.removeButton]},{tag:"div",attributes:{class:["ck-annotation__content-wrapper"]},children:this.visibleView}]}]}]}}_createEditButton(){const{t:e}=this.locale,n=new go.ButtonView(this.locale);return n.label=e("Edit"),n.icon=t.icons.pencil,n.extendTemplate({attributes:{class:"ck-comment--edit"}}),n.bind("isEnabled").to(this._model,"isReadOnly",(t=>!t)),n.bind("isVisible").to(this._model,"isEditable"),n.on("execute",(()=>this.switchToEditMode())),n}_createRemoveButton(){const{t}=this.locale,e=new go.ButtonView(this.locale);return e.label=t("Remove"),e.icon=ci(),e.extendTemplate({attributes:{class:"ck-comment--remove"}}),e.bind("isEnabled").to(this._model,"isReadOnly",(t=>!t)),e.bind("isVisible").to(this._model,"isRemovable"),e.on("execute",(()=>{this.showConfirm(t("Delete comment?"),this.element).then((()=>{this.fire("removeComment",this._model.id)}))})),e}_attachActions(t,e){this.listenTo(t,"mouseenter",(()=>this.actionIndicator=e)),this.listenTo(t,"focus",(()=>this.actionIndicator=e)),this.listenTo(t,"mouseleave",(()=>this.actionIndicator=null)),this.listenTo(t,"blur",(()=>this.actionIndicator=null))}_createCommentInputView(){const t=super._createCommentInputView();return t.bind("placeholder").to(this),t}render(){super.render(),this._attachActions(this.editButton.element,"edit"),this._attachActions(this.removeButton.element,"remove")}}function hi(t,e){const n=t.t;if("PENDING_ACTION_COMMENT_THREAD"==e)return n({string:"Unsaved change in comment thread.",id:"PENDING_ACTION_COMMENT_THREAD"})}(0,e.mix)(xi,i.ConfirmMixin);var di=n(278),li=n.n(di),ui=n(490),mi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};li()(ui.Z,mi);ui.Z.locals;var fi=n(227),pi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};li()(fi.Z,pi);fi.Z.locals;var gi=n(424),bi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};li()(gi.Z,bi);gi.Z.locals;const vi=function(){return w.Date.now()};var _i=/\s/;const wi=function(t){for(var e=t.length;e--&&_i.test(t.charAt(e)););return e};var ki=/^\s+/;const yi=function(t){return t?t.slice(0,wi(t)+1).replace(ki,""):t};var Ci=/^[-+]0x[0-9a-f]+$/i,Ai=/^0b[01]+$/i,Ti=/^0o[0-7]+$/i,Ei=parseInt;const Ii=function(t){if("number"==typeof t)return t;if(Ln(t))return NaN;if(S(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=S(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=yi(t);var n=Ai.test(t);return n||Ti.test(t)?Ei(t.slice(2),n?2:8):Ci.test(t)?NaN:+t};var ji=Math.max,Vi=Math.min;const Oi=function(t,e,n){var o,i,r,s,a,c,x=0,h=!1,d=!1,l=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function u(e){var n=o,r=i;return o=i=void 0,x=e,s=t.apply(r,n)}function m(t){return x=t,a=setTimeout(p,e),h?u(t):s}function f(t){var n=t-c;return void 0===c||n>=e||n<0||d&&t-x>=r}function p(){var t=vi();if(f(t))return g(t);a=setTimeout(p,function(t){var n=e-(t-c);return d?Vi(n,r-(t-x)):n}(t))}function g(t){return a=void 0,l&&o?u(t):(o=i=void 0,s)}function b(){var t=vi(),n=f(t);if(o=arguments,i=this,c=t,n){if(void 0===a)return m(c);if(d)return clearTimeout(a),a=setTimeout(p,e),u(c)}return void 0===a&&(a=setTimeout(p,e)),s}return e=Ii(e)||0,S(n)&&(h=!!n.leading,r=(d="maxWait"in n)?ji(Ii(n.maxWait)||0,e):r,l="trailing"in n?!!n.trailing:l),b.cancel=function(){void 0!==a&&clearTimeout(a),x=0,o=c=i=a=void 0},b.flush=function(){return void 0===a?s:g(vi())},b};const Si=function(t,e,n){var o=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return S(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),Oi(t,e,{leading:o,maxWait:e,trailing:i})},Mi=["type","childList","observe","disconnect","attributeName","attributes"];var Ri,Di;Ri=Mi,Di=194,function(t){for(;--t;)Ri.push(Ri.shift())}(++Di);const Pi=function(t,e){return Mi[t-=0]};function Bi(t){const e=Si(t,30),n=new MutationObserver((t=>{for(const n of t)(Pi("0x3")==n.type&&"class"==n[Pi("0x2")]||Pi("0x5")==n[Pi("0x4")])&&e()}));return{attach(t){n[Pi("0x0")](t,{attributes:!0,childList:!0,subtree:!0})},detach(){n[Pi("0x1")](),e.cancel()}}}var Ni=n(173),zi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};li()(Ni.Z,zi);Ni.Z.locals;const Fi=["setTemplate","type","content","listenTo","bindTemplate","Esc","isDirty","ck-rounded-corners","createCollection","height","ck-annotation-wrapper","focus","div","length","_updateHeight","keystrokes","clear","clientHeight","add","focusTracker","detach","fire","element","destroy","set","mainView","ck-annotation-wrapper--active"];var Li,Ki;Li=Fi,Ki=175,function(t){for(;--t;)Li.push(Li.shift())}(++Ki);const Ui=function(t,e){return Fi[t-=0]};class Wi extends go.View{constructor(t,n){super(t),this.id=(0,e.uid)(),this[Ui("0x6")]=new e.FocusTracker,this.keystrokes=new e.KeystrokeHandler,this[Ui("0x2")][Ui("0xb")](Ui("0x13"),((t,e)=>this[Ui("0x8")](Ui("0x13"),e))),this[Ui("0xb")]("targetRect",{top:0,right:0,bottom:0,left:0}),this[Ui("0xb")]("height",0),this[Ui("0xb")]("isActive",!1),this[Ui("0xb")](Ui("0x14"),!1),this[Ui("0xb")](Ui("0x0"),0),this.set(Ui("0xf"),""),this._mutationObserver=Bi((()=>this[Ui("0x1")]())),this[Ui("0x10")]=this[Ui("0x16")](),this[Ui("0x10")].add(n),this[Ui("0xc")]=n;const o=this[Ui("0x12")];this[Ui("0xe")]({tag:Ui("0x1a"),attributes:{class:["ck",Ui("0x18"),Ui("0x15"),o.if("isActive",Ui("0xd"))],tabindex:-1},children:this.content})}render(){super.render(),this[Ui("0x6")][Ui("0x5")](this[Ui("0x9")]),this[Ui("0x2")][Ui("0x11")](this[Ui("0x9")]),this._mutationObserver.attach(this[Ui("0x9")])}[Ui("0xa")](){this[Ui("0x10")][Ui("0x3")](),this.keystrokes.destroy(),this[Ui("0x6")][Ui("0xa")](),this._mutationObserver[Ui("0x7")](),super.destroy()}[Ui("0x19")](){this[Ui("0x9")][Ui("0x19")]()}[Ui("0x1")](){const t=this[Ui("0x9")][Ui("0x4")];t&&(this[Ui("0x17")]=t)}}var Hi=Function.prototype,Zi=Object.prototype,qi=Hi.toString,$i=Zi.hasOwnProperty,Gi=qi.call(Object);const Ji=function(t){if(!Ft(t)||"[object Object]"!=O(t))return!1;var e=dn(t);if(null===e)return!0;var n=$i.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&qi.call(n)==Gi};const Yi=function(t){return Ft(t)&&1===t.nodeType&&!Ji(t)},Qi=["focusableElements","destroy","function","isActive","remove","innerView","item","type","_target","mainView","offsetParent","view","clear","_assertCorrectTarget","stopListening","isVisible","annotation-invalid-target","render","focusTracker","_type","targetRect","_isTargetElementVisible","element","target","add","updateTargetRect"];var Xi,tr;Xi=Qi,tr=486,function(t){for(;--t;)Xi.push(Xi.shift())}(++tr);const er=function(t,e){return Qi[t-=0]};class nr{constructor({view:t,target:n,type:o,isVisible:i=!0}){this[er("0x13")]=t,this[er("0x13")][er("0x4")]||this[er("0x13")][er("0x19")](),this[er("0x1")]=o,this[er("0x10")]=n,this[er("0x15")](),this[er("0x8")]=new e.Collection([this[er("0x13")][er("0x4")]],{idProperty:"_id"}),this[er("0x8")].on(er("0x6"),((t,e)=>{this[er("0x13")][er("0x0")].add(e)})),this.focusableElements.on("remove",((t,e)=>{this.view[er("0x0")][er("0xc")](e)})),this.set("isVisible",i)}get[er("0xf")](){return er("0xa")==typeof this[er("0x1")]?this[er("0x1")]():this[er("0x1")]}get[er("0xd")](){return this[er("0x13")].mainView}get[er("0x5")](){return er("0xa")==typeof this[er("0x10")]?this._target():this._target}get[er("0x2")](){const t=this.target;return this[er("0x15")](),null!==t&&this._isTargetElementVisible()?new e.Rect(t):null}get[er("0xb")](){return this[er("0x13")][er("0xb")]}set[er("0xb")](t){this[er("0x13")][er("0xb")]=t,this.view[er("0x11")][er("0xb")]=t}[er("0x7")](){this.view.targetRect=this[er("0x2")]}[er("0x9")](){this.focusableElements[er("0x16")](),this[er("0x8")][er("0x14")](),this.stopListening()}refreshVisibility(){this[er("0x17")]=this[er("0x3")]()}[er("0x3")](){const t=this[er("0x5")];if(Yi(t)){const e=t.getClientRects()[er("0xe")](0),n=t[er("0x12")];if(!e||!n)return!1}return!0}[er("0x15")](){const t=this[er("0x5")];if(!(null===t||t instanceof e.Rect||Yi(t)))throw new e.CKEditorError(er("0x18"),null,{target:t})}}(0,e.mix)(nr,e.ObservableMixin);const or=["listenTo","blur","delete","getByInnerView","clear","sort","view","left","remove","_focusTracker","annotationcollection-not-existing-item","getByView","refreshPositioning","focusTracker","get","getIndex","change:isFocused","isFocused","destroy","length","_getOrderInContent","set","add","stopListening","targetRect","focusableElements","has","innerView","from","fire","_viewToAnnotation","focus","_innerViewToAnnotation"];var ir,rr;ir=or,rr=248,function(t){for(;--t;)ir.push(ir.shift())}(++rr);const sr=function(t,e){return or[t-=0]};class ar extends e.Collection{constructor(t=[]){super(),this[sr("0xf")]=new Map,this[sr("0xd")]=new Map,this[sr("0x19")]=new e.FocusTracker,this._focusTracker.on(sr("0x20"),((t,e,n)=>{n||this[sr("0xc")](sr("0x11"))}));for(const e of t)this.add(e)}get[sr("0x0")](){return this[sr("0x19")][sr("0x0")]}add(t){if(this[sr("0x9")](t))throw new e.CKEditorError("annotationcollection-duplicated-item",null);this._innerViewToAnnotation[sr("0x4")](t.innerView,t),this._viewToAnnotation[sr("0x4")](t[sr("0x16")],t);for(const e of t[sr("0x8")])this[sr("0x19")][sr("0x5")](e);this[sr("0x10")](t[sr("0x8")],"add",((t,e)=>{this._focusTracker.add(e)})),this.listenTo(t[sr("0x8")],"remove",((t,e)=>{this[sr("0x19")][sr("0x18")](e)})),this[sr("0x10")](t.view[sr("0x1d")],sr("0x20"),((e,n,o)=>{o&&this.fire(sr("0xe"),t)}));const n=this[sr("0x3")](t);super[sr("0x5")](t,n),t.updateTargetRect()}[sr("0x18")](t){if(!this.has(t))throw new e.CKEditorError(sr("0x1a"),null);this[sr("0x6")](t[sr("0x16")].focusTracker),this[sr("0x6")](t[sr("0x8")]);for(const e of t.focusableElements)this[sr("0x19")][sr("0x18")](e);this[sr("0xd")].delete(t.view),this._innerViewToAnnotation[sr("0x12")](t[sr("0xa")]),super.remove(t)}[sr("0x13")](t){return this._innerViewToAnnotation[sr("0x1e")](t)}[sr("0x1b")](t){return this[sr("0xd")][sr("0x1e")](t)}[sr("0x1")](){super[sr("0x14")](),this[sr("0x6")](),this._innerViewToAnnotation.clear(),this[sr("0xd")][sr("0x14")](),this[sr("0x19")][sr("0x1")]()}[sr("0x1c")](){for(const t of this)t.updateTargetRect();this._sort()}_sort(){const t=Array[sr("0xb")](this)[sr("0x15")](((t,e)=>cr(t[sr("0x7")],e.targetRect)));for(let e=t[sr("0x2")]-1;e>0;e--){const n=t[e];e!==this[sr("0x1f")](n)&&(this[sr("0x18")](n),this.add(n,e))}}[sr("0x3")](t){let e=0;const n=t.targetRect;if(!n)return this._items[sr("0x2")];for(const t of this){const o=t[sr("0x7")];if(o){if(cr(n,o)<0)return e;e++}}return e}}function cr(t,e){if(null===t&&null===e)return 0;if(null===t)return-1;if(null===e)return 1;const n=t.top-e.top;return 0==n?t[sr("0x17")]-e[sr("0x17")]:n}const xr=["activate","fire","activeAnnotations","pluginName","change:isVisible","_removeActiveAnnotation","createAnnotationView","deactivateAll","_visibleAnnotations","refreshVisibility","Annotations","_activateAnnotation","collection","_bindAnnotationsToVisibleAnnotations","delete","add","remove","destroy","set","listenTo","has","getByInnerView","isVisible","refreshPositioning"];var hr,dr;hr=xr,dr=191,function(t){for(;--t;)hr.push(hr.shift())}(++dr);const lr=function(t,e){return xr[t-=0]};class ur extends t.ContextPlugin{static get[lr("0x4")](){return lr("0xb")}constructor(t){super(t),this[lr("0xd")]=new ar,this[lr("0x9")]=new ar,this[lr("0x13")](lr("0x3"),new Set),this[lr("0xe")]()}[lr("0x10")](t){this.collection.add(t)}[lr("0x11")](t){this[lr("0xd")].remove(t),t[lr("0x12")]()}refreshVisibility(){for(const t of this[lr("0xd")])t[lr("0xa")]()}[lr("0x0")](){this._visibleAnnotations[lr("0x0")]()}[lr("0x16")](t){return this.collection[lr("0x16")](t)}[lr("0x8")](){this[lr("0x2")]("_deactivateAllAnnotations")}[lr("0x12")](){for(const t of this[lr("0xd")])t[lr("0x12")]();this[lr("0x9")][lr("0x12")](),this[lr("0xd")][lr("0x12")](),super.destroy()}[lr("0x1")](t){this[lr("0x2")](lr("0xc"),t)}createAnnotation(t){return new nr(t)}[lr("0x7")](t,e){return new Wi(t,e)}_addActiveAnnotation(t){const e=new Set(this[lr("0x3")]);e[lr("0x10")](t),this[lr("0x3")]=e}[lr("0x6")](t){const e=new Set(this[lr("0x3")]);e[lr("0xf")](t),this[lr("0x3")]=e}[lr("0xe")](){const t=this[lr("0xd")],e=this._visibleAnnotations;function n(t){const n=t.source;n[lr("0x17")]&&!e[lr("0x15")](n)?e[lr("0x10")](n):!n[lr("0x17")]&&e[lr("0x15")](n)&&e[lr("0x11")](n)}this[lr("0x14")](t,"add",((t,o)=>{o[lr("0x17")]&&e[lr("0x10")](o),this[lr("0x14")](o,"change:isVisible",n)})),this[lr("0x14")](t,lr("0x11"),((t,o)=>{e[lr("0x15")](o)&&e[lr("0x11")](o),this.stopListening(o,lr("0x5"),n)}))}}const mr=["Missing comments editor configuration (`comments.editorConfig`). Default configuration will be used instead.","createElement","commentsrepository-invalid-comment-authorid","catch","string","noChannel","parse","openNewCommentThread","destroy","comments","commentsrepository-duplicated-comment-thread-id","commentsrepository-update-missing-comment","CommentThreadView","activate","substring","commentsrepository-remove-comment-internal-error","attributes","activeCommentThread","commentsrepository-remove-missing-comment","getCommentThread","toJSON","isReadOnly","_adapter","innerView","content","_threadToController","view","trim","comments.maxCommentsWhenCollapsed","change:activeAnnotations","values","commentsrepository-missing-target","resolve","textContent","commentsrepository-active-missing-comment-thread","pop","isRemovable","fetchCommentThread","delete","locale","has","removeCommentThread","commentsrepository-add-comment-to-missing-comment-thread","plugins","isAttached","_add","_nonAdminChannels","focus","_readOnlyChannels","getCommentThreads","adapter","hasCommentThread","_isAttached","push","getTime","comments.maxThreadTotalWeight","_removeCommentThread","lowest","slice","commentThreadInputView","commentsrepository-missing-thread-and-adapter-method","_threads","commentUpdated","_findOptimalIndex","_addCommentThread","length","comments.editorConfig","channelId","editorReady","max","fromCharCode","commentInputView","addCommentThread","stopListening","isActive","map","define","getByInnerView","getComment","commentsrepository-active-not-attached","commentsrepository-adapter-already-set","commentsrepository-invalid-comment-thread-id","get","createdAt","commentsrepository-update-comment-missing-comment-thread","remove","setAdminPermissions","_repository","createCommentThreadController","getIndex","from","_detachCommentThread","addComment","isFromAdapter","context","commentsrepository-invalid-commentid","_removeComment","fire","commentsrepository-remove-comment-missing-comment-thread","updateComment","warn","charCodeAt","config","switchReadOnly","Users","function","listenTo","licenseKey","error","setActiveCommentThread","update","_viewToController","find","bind","author","add","PendingActions","then","attachTo","div","removeComment","CommentsRepository","setAttribute","afterInit","innerHTML","_remove","threadId","assign","commentsrepository-fetch-comment-thread","commentsrepository-add-comment-internal-error","commentsrepository-missing-thread-and-adapter","_addComment","join","once","model","set","init","commentsrepository-update-comment-invalid-content","_attachCommentThread","commentsrepository-attach-missing-comment-thread","PENDING_ACTION_COMMENT_THREAD","weight","_createCommentThreadView","comment","commentsrepository-update-comment-internal-error"];var fr,pr;fr=mr,pr=202,function(t){for(;--t;)fr.push(fr.shift())}(++pr);const gr=function(t,e){return mr[t-=0]},br=Symbol(gr("0x5d"));class vr extends t.ContextPlugin{static get requires(){return[ur,t.PendingActions,i.Users]}static get pluginName(){return gr("0x40")}constructor(t){super(t),this._threads=new Map,this._threadToController=new Map,this[gr("0x36")]=new Map,this[gr("0x88")]=new Set,this[gr("0x4e")](gr("0x86"),new Set),this[gr("0x32")]=this[gr("0x25")].config[gr("0x19")]("licenseKey");const e=this[gr("0x25")].config;e.define(gr("0x74"),2),e[gr("0x13")]("comments.maxThreadTotalWeight",500),e[gr("0x13")]("comments.maxCommentCharsWhenCollapsed",140),e[gr("0x13")]("comments.CommentThreadView",Jo),e[gr("0x13")]("comments.CommentView",xi),e[gr("0x19")](gr("0x9"))||console[gr("0x2b")](gr("0x58"))}[gr("0x4f")](){const t=this[gr("0x25")].plugins[gr("0x19")](ur);this.set("activeCommentThread",null),this.on(gr("0xf"),((t,e)=>this[gr("0x7")](e))),this.on(gr("0x81"),((t,e)=>this[gr("0x90")](e))),this.on("addComment",((t,e)=>this[gr("0x4a")](e))),this.on(gr("0x2a"),((t,e)=>this._updateComment(e))),this.on(gr("0x3f"),((t,e)=>this[gr("0x27")](e))),this.on("addComment",((t,{threadId:e,isFromAdapter:n})=>{if(n)return;const o=this.getCommentThread(e),i=this._threadToController[gr("0x19")](o);i&&i.view[gr("0x87")]()}),{priority:gr("0x0")}),this[gr("0x31")](t,gr("0x75"),((t,e,n)=>{const o=Array.from(n).map((t=>this[gr("0x36")].get(t[gr("0x6f")]))).filter(Boolean)[0];this[gr("0x69")]=o?o[gr("0x4d")]:null}))}[gr("0x42")](){!function(e){const n=e instanceof t.Context,o=[1,85,78,115,198,255,50,112,83,87,161],i=l([52,48,52,52,48,56,50,52]),r=[127,34,6,211,167,86,146,199,132,160,18],s=l([65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57]),a=function(t){if(e[l([112,108,117,103,105,110,115])][l([104,97,115])](l([87,101,98,83,111,99,107,101,116,71,97,116,101,119,97,121]))&&e[l([112,108,117,103,105,110,115])][l([103,101,116])](l([87,101,98,83,111,99,107,101,116,71,97,116,101,119,97,121]))[l([115,116,97,116,101])]==l([99,111,110,110,101,99,116,101,100]))return c(l([108,105,99,101,110,115,101,75,101,121,86,97,108,105,100]));if(e[l([112,108,117,103,105,110,115])][l([104,97,115])](l([84,114,97,99,107,67,104,97,110,103,101,115,68,97,116,97,71,101,116,116,101,114]))&&e[l([112,108,117,103,105,110,115])][l([103,101,116])](l([84,114,97,99,107,67,104,97,110,103,101,115,68,97,116,97,71,101,116,116,101,114]))[l([114,101,115,117,108,116])]==l([101,110,100]))return c(l([108,105,99,101,110,115,101,75,101,121,86,97,108,105,100]));try{const n=function(t){const e=[29,221,175,90,231,133,239,240,75,180];return function(t,e){const n=atob(t),o=Array[gr("0x21")](function(t){const e=new Uint8Array(t[gr("0x8")]);for(let n=0;n<t[gr("0x8")];n++)e[n]=t[gr("0x2c")](n);return e}(n)),i=o[gr("0x7b")](),r=o[gr("0x7b")]();return function(t){let e="";for(const n of t)e+=String[gr("0xd")](n);return e}(function(t,e,n){const o={};o[l([110,117,109,98,101,114,79,102,82,111,117,110,100,115])]={16:10,24:12,32:14},o[l([114,99,111,110])]=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],o[l([83])]=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],o[l([84,49])]=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],o[l([84,50])]=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],o[l([84,51])]=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],o[l([84,52])]=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],o[l([85,49])]=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],o[l([85,50])]=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],o[l([85,51])]=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],o[l([85,52])]=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];const i=new Uint8Array(16);for(let t=15;t>=0;--t)i[t]=n%256,n=parseInt(n/256);let r=null,s=16;const a=new Uint8Array(e),c=[],x=[];m();for(let e=0;e<t[gr("0x8")];e++)16===s&&(r=u(i),s=0,d(i)),t[e]^=r[s++];return t;function h(t){const e=[];for(let n=0;n<t[gr("0x8")];n+=4)e[gr("0x8d")](t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]);return e}function d(t){for(let e=15;e>=0;e--){if(255!==t[e]){t[e]++;break}t[e]=0}}function u(t){const e=c[gr("0x8")]-1,n=[0,0,0,0];let i=h(t);for(let t=0;t<4;t++)i[t]^=c[0][t];for(let t=1;t<e;t++){for(let e=0;e<4;e++)n[e]=o[l([84,49])][i[e]>>24&255]^o[l([84,50])][i[(e+1)%4]>>16&255]^o[l([84,51])][i[(e+2)%4]>>8&255]^o[l([84,52])][255&i[(e+3)%4]]^c[t][e];i=n[gr("0x1")]()}const r=new Uint8Array(16);let s;for(let t=0;t<4;t++)s=c[e][t],r[4*t]=255&(o[l([83])][i[t]>>24&255]^s>>24),r[4*t+1]=255&(o[l([83])][i[(t+1)%4]>>16&255]^s>>16),r[4*t+2]=255&(o[l([83])][i[(t+2)%4]>>8&255]^s>>8),r[4*t+3]=255&(o[l([83])][255&i[(t+3)%4]]^s);return r}function m(){const t=o[l([110,117,109,98,101,114,79,102,82,111,117,110,100,115])][a[gr("0x8")]];for(let e=0;e<=t;e++)c[gr("0x8d")]([0,0,0,0]),x[gr("0x8d")]([0,0,0,0]);const e=4*(t+1),n=a[gr("0x8")]/4,i=h(a);let r;for(let e=0;e<n;e++)r=e>>2,c[r][e%4]=i[e],x[t-r][e%4]=i[e];let s,d=0,u=n;for(;u<e;){s=i[n-1],i[0]^=o[l([83])][s>>16&255]<<24^o[l([83])][s>>8&255]<<16^o[l([83])][255&s]<<8^o[l([83])][s>>24&255]^o[l([114,99,111,110])][d]<<24,d+=1;for(let t=1;t<n/2;t++)i[t]^=i[t-1];s=i[n/2-1],i[n/2]^=o[l([83])][255&s]^o[l([83])][s>>8&255]<<8^o[l([83])][s>>16&255]<<16^o[l([83])][s>>24&255]<<24;for(let t=n/2+1;t<n;t++)i[t]^=i[t-1];let r,a,h=0;for(;h<n&&u<e;)r=u>>2,a=u%4,c[r][a]=i[h],x[t-r][a]=i[h++],u++}for(let e=1;e<t;e++)for(let t=0;t<4;t++)s=x[e][t],x[e][t]=o[l([85,49])][s>>24&255]^o[l([85,50])][s>>16&255]^o[l([85,51])][s>>8&255]^o[l([85,52])][255&s]}}(o,e,r+256*i))}(t,new(window[l([85,105,110,116,56,65,114,114,97,121])])([...o,...e,...r]))}(t),s=JSON[gr("0x5e")](n),a=parseInt(s[l([49])]),x=parseInt(s[l([51])]),h=parseInt(s[l([52])])||0,d=parseInt(s[l([53])])||0,u=2;if(!(1&h)||e[l([112,108,117,103,105,110,115])][l([104,97,115])](l([84,114,97,99,107,67,104,97,110,103,101,115,69,100,105,116,105,110,103]))&&!(h&u))return c(l([108,105,99,101,110,115,101,75,101,121,73,110,118,97,108,105,100]));if(d&&!window[l([111,112,101,110])][l([99,108,111,115,101,100])])return c(l([108,105,99,101,110,115,101,75,101,121,73,110,118,97,108,105,100]));if(parseInt(i)/2>a)return c(l([108,105,99,101,110,115,101,75,101,121,73,110,118,97,108,105,100]));if(e[l([112,108,117,103,105,110,115])][l([104,97,115])](l([84,114,97,99,107,67,104,97,110,103,101,115,69,100,105,116,105,110,103]))){const t=e[l([112,108,117,103,105,110,115])][l([103,101,116])](l([84,114,97,99,107,67,104,97,110,103,101,115,69,100,105,116,105,110,103]));if(parseInt(t[l([95,101,120,101,99,117,116,101,83,117,103,103,101,115,116,105,111,110])])/2>a)return c(l([108,105,99,101,110,115,101,75,101,121,73,110,118,97,108,105,100]))}return c(l(x?[108,105,99,101,110,115,101,75,101,121,84,114,105,97,108]:[108,105,99,101,110,115,101,75,101,121,86,97,108,105,100]))}catch(t){return c(l([108,105,99,101,110,115,101,75,101,121,73,110,118,97,108,105,100]))}}(e[gr("0x2d")].get(l([108,105,99,101,110,115,101,75,101,121])));function c(t){const n=function(){const t=String(window[l([112,101,114,102,111,114,109,97,110,99,101])][l([110,111,119])]()).replace(l([46]),"");let e="";for(let n=0;n<t[gr("0x8")];n+=2){let o=parseInt(t[gr("0x66")](n,n+2));o>=s[gr("0x8")]&&(o-=s[gr("0x8")]),e+=s[o]}return e}();return e[n]=t,t}function x(t){for(const e of t[l([101,100,105,116,111,114,115])])h(e);t[l([112,108,117,103,105,110,115])][l([103,101,116])](l([67,111,109,109,101,110,116,115,82,101,112,111,115,105,116,111,114,121]))[l([115,119,105,116,99,104,82,101,97,100,79,110,108,121])](!0),t[l([112,108,117,103,105,110,115])][l([103,101,116])](l([67,111,109,109,101,110,116,115,82,101,112,111,115,105,116,111,114,121]))[l([115,119,105,116,99,104,82,101,97,100,79,110,108,121])]=d}function h(t){function e(){t[l([109,111,100,101,108])][l([99,104,97,110,103,101])]=d,t[l([109,111,100,101,108])][l([101,110,113,117,101,117,101,67,104,97,110,103,101])]=d,t[l([101,110,97,98,108,101,82,101,97,100,79,110,108,121,77,111,100,101])](l([109,111,100,101,108]))}t[l([115,116,97,116,101])]==l([114,101,97,100,121])?e():t[l([111,110,99,101])](l([114,101,97,100,121]),(()=>e()))}function d(){return null}function l(t){return t.map((t=>String.fromCharCode(t)))[gr("0x4b")]("")}n?(a==l([108,105,99,101,110,115,101,75,101,121,73,110,118,97,108,105,100])?x(e):a==l([108,105,99,101,110,115,101,75,101,121,84,114,105,97,108])&&window[l([115,101,116,84,105,109,101,111,117,116])]((()=>{x(e),c(l([108,105,99,101,110,115,101,75,101,121,84,114,105,97,108,76,105,109,105,116]))}),r[6]*o[8]*o[6]),e[l([101,100,105,116,111,114,115])][l([111,110])](l([97,100,100]),((t,e)=>{a!=l([108,105,99,101,110,115,101,75,101,121,73,110,118,97,108,105,100])&&a!=l([108,105,99,101,110,115,101,75,101,121,84,114,105,97,108,76,105,109,105,116])||h(e)}))):a==l([108,105,99,101,110,115,101,75,101,121,73,110,118,97,108,105,100])?h(e):a==l([108,105,99,101,110,115,101,75,101,121,84,114,105,97,108])&&e[l([111,110])](l([114,101,97,100,121]),(()=>{let t=0;e[l([109,111,100,101,108])][l([111,110])](l([97,112,112,108,121,79,112,101,114,97,116,105,111,110]),((n,o)=>{o[0][l([105,115,68,111,99,117,109,101,110,116,79,112,101,114,97,116,105,111,110])]&&t++,504===t&&(h(e),c(l([108,105,99,101,110,115,101,75,101,121,84,114,105,97,108,76,105,109,105,116])),n[l([111,102,102])]())}),{priority:l([104,105,103,104,101,115,116])})}))}(this[gr("0x25")])}set adapter(t){if(this[gr("0x6e")])throw new e.CKEditorError(gr("0x17"));this._adapter=t}get[gr("0x8a")](){return this[gr("0x6e")]}[gr("0xf")]({channelId:t=br,threadId:n=(0,e.uid)(),comments:o=[],target:i,isFromAdapter:r}={}){return this.fire(kr(gr("0xf"),t),{channelId:t,threadId:n,comments:o,target:i,isFromAdapter:r}),this.getCommentThread(n)}[gr("0x5f")]({channelId:t=br,threadId:n=(0,e.uid)(),target:o}){if(this._readOnlyChannels[gr("0x80")](t)||this._readOnlyChannels[gr("0x80")](void 0))return;if(!o)throw new e.CKEditorError(gr("0x77"));const i=this[gr("0xf")]({channelId:t,threadId:n,target:o});if(!i)return null;const r=this._threadToController[gr("0x19")](i),s=r.view[gr("0x2")][gr("0xe")],a=this[gr("0x25")][gr("0x83")].get(ur),c=a[gr("0x14")](r[gr("0x72")]);return a[gr("0x65")](c),s[gr("0x4c")](gr("0xb"),(()=>s[gr("0x87")]())),i}[gr("0x8b")](t){if(gr("0x5c")!=typeof t)throw new e.CKEditorError(gr("0x18"));return this[gr("0x4")][gr("0x80")](t)}[gr("0x6b")](t){if(gr("0x5c")!=typeof t)throw new e.CKEditorError("commentsrepository-invalid-comment-thread-id");return this._threads[gr("0x19")](t)}[gr("0x7d")]({channelId:t,threadId:n}={}){const o=this[gr("0x6b")](n);if(o)return Promise.resolve(o);if(!this[gr("0x8a")])throw new e.CKEditorError(gr("0x49"),this[gr("0x25")]);if(gr("0x30")!=typeof this[gr("0x8a")][gr("0x6b")])throw new e.CKEditorError(gr("0x3"),this[gr("0x25")]);return this[gr("0x8a")].getCommentThread({channelId:t,threadId:n}).then((e=>this.hasCommentThread(n)?this[gr("0x6b")](n):e?this[gr("0xf")](Object[gr("0x46")]({isFromAdapter:!0,channelId:t},e)):void 0))[gr("0x5b")]((t=>{throw console[gr("0x33")](t),new e.CKEditorError(gr("0x47"),this[gr("0x25")])}))}[gr("0x89")]({channelId:t,skipNotAttached:e=!1,skipEmpty:n=!1,toJSON:o=!1}={}){const i=[];for(const o of this[gr("0x4")][gr("0x76")]())t&&o[gr("0xa")]!==t||e&&!o[gr("0x84")]||n&&0===o[gr("0x8")]||i[gr("0x8d")](o);return o?i.map((t=>t[gr("0x6c")]())):i}[gr("0x34")](t){const n=this[gr("0x25")][gr("0x83")].get(ur);if(!t)return void(this[gr("0x69")]&&n.deactivateAll());const o=this.getCommentThread(t);if(!o)throw new e.CKEditorError(gr("0x7a"),null,{threadId:t});if(!this[gr("0x71")].has(o))throw new e.CKEditorError(gr("0x16"),null,{threadId:t});const i=n.getByInnerView(this[gr("0x71")].get(o)[gr("0x72")]);n[gr("0x65")](i)}[gr("0x2e")](t,e){t?this[gr("0x88")][gr("0x3a")](e):this[gr("0x88")][gr("0x7e")](e);for(const n of this[gr("0x89")]({channelId:e}))n[gr("0x6d")]=!!t}[gr("0x6d")](t){return this._readOnlyChannels[gr("0x80")](t)||this._readOnlyChannels.has(void 0)}[gr("0x1f")](t,e){return new po(t,e)}[gr("0x1d")](t,e=br){const n=!this[gr("0x86")].has(e),o=new Set(this[gr("0x86")]);n&&!t&&(o[gr("0x3a")](e),this[gr("0x86")]=o),!n&&t&&(o.delete(e),this[gr("0x86")]=o)}[gr("0x7")]({channelId:t,threadId:n,comments:o,target:i,isFromAdapter:r}){if(gr("0x5c")!=typeof n)throw new e.CKEditorError(gr("0x18"),null,{threadId:n});if(this[gr("0x8b")](n))throw new e.CKEditorError(gr("0x62"),null,{threadId:n});const s=new _r(this,{channelId:t,id:n});(this[gr("0x88")][gr("0x80")](t)||this[gr("0x88")][gr("0x80")](void 0))&&(s[gr("0x6d")]=!0),this[gr("0x4")][gr("0x4e")](n,s);for(const t of o)s[gr("0x23")](Object.assign({isFromAdapter:r},t));i&&s.attachTo(i)}[gr("0x51")]({threadId:t,target:n}){const o=this[gr("0x6b")](t);if(!o)throw new e.CKEditorError(gr("0x52"),this);const i=this[gr("0x25")][gr("0x83")][gr("0x19")](gr("0x3b")),r=this[gr("0x25")][gr("0x83")].get(ur),s=this[gr("0x55")](o),a=new po(o,s);let c=null;s.on("change:isDirty",((t,e,n)=>{n?c=i[gr("0x3a")](hi(this[gr("0x25")][gr("0x7f")],gr("0x53"))):(i[gr("0x1c")](c),c=null)})),this._threadToController[gr("0x4e")](o,a),this[gr("0x36")].set(s,a);const x=new Wi(this[gr("0x25")][gr("0x7f")],s);x.bind(gr("0x8")).to(s),x[gr("0x38")]("isDirty").to(s,"isDirty",s,gr("0x8"),((t,e)=>t||!e)),x.bind(gr("0x11")).to(s),x.type="comment";const h=new nr({view:x,target:n,type:gr("0x56")});r[gr("0x3a")](h)}[gr("0x55")](t){const e=this[gr("0x25")][gr("0x83")][gr("0x19")]("Users"),{config:n,locale:o}=this[gr("0x25")],r=(0,i.getDateTimeFormatter)(n[gr("0x19")](gr("0x7f")));return new(0,n.get(gr("0x61"))[gr("0x64")])(o,t,e.me,{editorConfig:n[gr("0x19")](gr("0x9")),maxCommentsWhenCollapsed:n[gr("0x19")](gr("0x74")),maxThreadTotalWeight:n[gr("0x19")](gr("0x8f")),maxCommentCharsWhenCollapsed:n[gr("0x19")]("comments.maxCommentCharsWhenCollapsed"),formatDateTime:r,CommentView:n[gr("0x19")]("comments").CommentView})}[gr("0x90")]({threadId:t,isFromAdapter:n}){const o=this[gr("0x6b")](t);if(!o)throw new e.CKEditorError("commentsrepository-remove-missing-comment-thread",this);if(this[gr("0x22")](t),this[gr("0x4")][gr("0x7e")](t),!o[gr("0x8")]||n||!this.adapter||"function"!=typeof this[gr("0x8a")].removeCommentThread)return Promise[gr("0x78")]();const i=this[gr("0x25")][gr("0x83")][gr("0x19")]("PendingActions"),{channelId:r}=o,s=i[gr("0x3a")](hi(this.context[gr("0x7f")],"PENDING_ACTION_COMMENT_THREAD"));return this.adapter.removeCommentThread({channelId:r,threadId:t})[gr("0x3c")]((()=>i[gr("0x1c")](s)))[gr("0x5b")]((t=>{throw console.error(t),new e.CKEditorError("commentsrepository-remove-comment-thread-internal-error",this)}))}_detachCommentThread(t){const e=this[gr("0x25")][gr("0x83")][gr("0x19")](ur),n=this.getCommentThread(t);if(this._threadToController[gr("0x80")](n)){const t=this._threadToController[gr("0x19")](n),o=t.view,i=e[gr("0x14")](o);this[gr("0x71")][gr("0x7e")](n),this._viewToController[gr("0x7e")](o),i&&e.remove(i),t[gr("0x60")](),o.destroy()}}[gr("0x4a")]({threadId:t,commentId:n=(0,e.uid)(),content:o,authorId:r,createdAt:s,attributes:a,isFromAdapter:c}){if(gr("0x5c")!=typeof n)throw new e.CKEditorError(gr("0x26"));if("string"!=typeof r)throw new e.CKEditorError(gr("0x5a"));if(gr("0x5c")!=typeof o||!o[gr("0x73")]())throw new e.CKEditorError("commentsrepository-invalid-comment-content");const x=this[gr("0x6b")](t);if(!x)throw new e.CKEditorError(gr("0x82"),this);const h=this[gr("0x25")][gr("0x83")].get(i.Users).getUser(r);if(!h)throw new e.CKEditorError("commentsrepository-add-comment-user-not-exists",null,{authorId:r});const d=new wr(this,{threadId:t,id:n,author:h,content:o,createdAt:s,attributes:a});if(x[gr("0x85")](d),c||!this[gr("0x8a")]||"function"!=typeof this[gr("0x8a")].addComment)return Promise[gr("0x78")]();const l=this.context[gr("0x83")][gr("0x19")](gr("0x3b")),{channelId:u}=x,m=l[gr("0x3a")](hi(this.context[gr("0x7f")],"PENDING_ACTION_COMMENT_THREAD"));return a||(a={}),this[gr("0x8a")][gr("0x23")]({channelId:u,threadId:t,commentId:n,content:o,attributes:a})[gr("0x3c")]((e=>{if(l[gr("0x1c")](m),this.hasCommentThread(t))e&&e[gr("0x1a")]&&this._updateComment({threadId:t,commentId:n,createdAt:e[gr("0x1a")],isFromAdapter:!0});else{const i={threadId:t,commentId:n,content:o,attributes:a,createdAt:e&&e[gr("0x1a")]?e[gr("0x1a")]:s,authorId:h.id};this.addCommentThread({channelId:u,threadId:t,comments:[i],isFromAdapter:!0})}}))[gr("0x5b")]((t=>{throw console[gr("0x33")](t),new e.CKEditorError(gr("0x48"),this)}))}_updateComment({threadId:t,commentId:n,content:o,createdAt:i,attributes:r,isFromAdapter:s}){if(void 0!==o&&(gr("0x5c")!=typeof o||!o[gr("0x73")]().length))throw new e.CKEditorError(gr("0x50"));const a=this.getCommentThread(t),c=a[gr("0x15")](n);if(!c)throw new e.CKEditorError(gr("0x63"),this);let x=!1;if(o&&o!==c[gr("0x70")]&&(c.isEditable||s)&&(c[gr("0x70")]=o,x=!0),i&&i!==c[gr("0x1a")]&&(c[gr("0x1a")]=i,x=!0),r&&!We(r,c[gr("0x68")])&&(c[gr("0x68")]=r,x=!0),!x)return Promise[gr("0x78")]();if(a[gr("0x28")](gr("0x5")),s||!this[gr("0x8a")]||gr("0x30")!=typeof this[gr("0x8a")].updateComment)return Promise[gr("0x78")]();const h=this.context.plugins[gr("0x19")](gr("0x3b")),{channelId:d}=this.getCommentThread(c[gr("0x45")]),l=h[gr("0x3a")](hi(this[gr("0x25")][gr("0x7f")],gr("0x53")));return this[gr("0x8a")][gr("0x2a")]({channelId:d,threadId:t,commentId:n,content:o,attributes:r}).then((()=>h[gr("0x1c")](l)))[gr("0x5b")]((t=>{throw console[gr("0x33")](t),new e.CKEditorError(gr("0x57"),this)}))}[gr("0x27")]({threadId:t,commentId:n,isFromAdapter:o}){const i=this[gr("0x6b")](t),r=i[gr("0x15")](n);if(!r)throw new e.CKEditorError(gr("0x6a"),this);if(i[gr("0x44")](r),o||!this.adapter||"function"!=typeof this[gr("0x8a")][gr("0x3f")])return Promise[gr("0x78")]();const s=this.context.plugins.get(gr("0x3b")),{channelId:a}=i,c=s.add(hi(this[gr("0x25")][gr("0x7f")],gr("0x53")));return this.adapter[gr("0x3f")]({channelId:a,threadId:t,commentId:n})[gr("0x3c")]((()=>s[gr("0x1c")](c)))[gr("0x5b")]((t=>{throw console[gr("0x33")](t),new e.CKEditorError(gr("0x67"),this)}))}}class _r{constructor(t,n){this[gr("0xa")]=n[gr("0xa")],this.id=n.id,this[gr("0x4e")]("isReadOnly",!1),this[gr("0x38")](gr("0x7c")).to(t,gr("0x86"),(t=>!t[gr("0x80")](this[gr("0xa")]))),this[gr("0x61")]=new e.Collection,this._repository=t,this[gr("0x8c")]=!1}get[gr("0x54")](){return Array.from(this[gr("0x61")]).reduce(((t,e)=>t+e[gr("0x54")]),0)}get[gr("0x8")](){return this.comments.length}get[gr("0x84")](){return this[gr("0x8c")]}[gr("0x1c")]({isFromAdapter:t=!1}={}){const{channelId:e,id:n}=this;this._repository[gr("0x28")](kr(gr("0x81"),e),{channelId:e,threadId:n,isFromAdapter:t})}[gr("0x3d")](t){this[gr("0x1e")]._attachCommentThread({threadId:this.id,target:t})}[gr("0x23")](t){const{channelId:e,id:n}=this;this[gr("0x1e")].fire(kr("addComment",e,n),Object[gr("0x46")]({channelId:e,threadId:n},t))}[gr("0x15")](t){if("string"!=typeof t)throw new e.CKEditorError("commentsrepository-get-comment-invalid-id",null,{commentId:t});return this[gr("0x61")].get(t)}toJSON(){return{threadId:this.id,comments:this[gr("0x61")][gr("0x12")]((t=>t.toJSON()))}}[gr("0x85")](t){return this.listenTo(t,"change:createdAt",(()=>{const e=this[gr("0x6")](t),n=this.comments;e-1!=n.getIndex(t)&&e+1!=n[gr("0x20")](t)&&(this[gr("0x44")](t),this._add(t))})),t[gr("0x1a")]?this[gr("0x61")].add(t,this[gr("0x6")](t)):this.comments[gr("0x3a")](t)}_remove(t){return this.stopListening(t),t[gr("0x60")](),this[gr("0x61")][gr("0x1c")](t)}[gr("0x6")](t){const e=this[gr("0x61")][gr("0x37")]((e=>new Date(e[gr("0x1a")])[gr("0x8e")]()>new Date(t[gr("0x1a")])[gr("0x8e")]()));return e?this[gr("0x61")][gr("0x20")](e):this[gr("0x8")]}}(0,e.mix)(_r,e.ObservableMixin);class wr{constructor(t,e){const n=t[gr("0x25")][gr("0x83")][gr("0x19")](gr("0x2f")).me,o=t[gr("0x6b")](e[gr("0x45")]),i=0===o[gr("0x61")][gr("0x8")],r=n===e[gr("0x39")];this.id=e.id,this[gr("0x45")]=e[gr("0x45")],this[gr("0x39")]=e.author,this.set(gr("0x70"),e[gr("0x70")]),this[gr("0x4e")](gr("0x1a"),e[gr("0x1a")]||new Date),this[gr("0x4e")](gr("0x68"),e.attributes||{}),this[gr("0x4e")]("isEditable",r),this[gr("0x38")](gr("0x7c")).to(o,gr("0x7c"),(t=>t&&i||r)),this[gr("0x38")](gr("0x6d")).to(o,gr("0x6d")),this._repository=t}get[gr("0x54")](){return Math[gr("0xc")](function(t){const e=document[gr("0x59")](gr("0x3e"));return e[gr("0x43")]=t,e[gr("0x79")].length}(this[gr("0x70")]),200)}[gr("0x35")](t){const{threadId:n,id:o}=this;if(!this[gr("0x1e")][gr("0x8b")](n))throw new e.CKEditorError(gr("0x1b"),this);const{channelId:i}=this[gr("0x1e")][gr("0x6b")](n);this._repository[gr("0x28")](kr(gr("0x2a"),i,n),Object.assign({channelId:i,threadId:n,commentId:o},t))}[gr("0x41")](t,e){const n=Fn(this[gr("0x68")]);io(n,t,e),this[gr("0x35")]({attributes:n})}removeAttribute(t){const e=Fn(this[gr("0x68")]);ho(e,t),this.update({attributes:e})}[gr("0x1c")](t={}){if(!t[gr("0x24")]&&!this.isRemovable)return;const{threadId:n,id:o}=this;if(!this[gr("0x1e")][gr("0x8b")](n))throw new e.CKEditorError(gr("0x29"),this);const{channelId:i}=this._repository[gr("0x6b")](n);this[gr("0x1e")][gr("0x28")](kr(gr("0x3f"),i,n),Object[gr("0x46")]({channelId:i,threadId:n,commentId:o},t))}[gr("0x6c")](){return{commentId:this.id,content:this.content,createdAt:this[gr("0x1a")],authorId:this.author.id,attributes:this[gr("0x68")]}}[gr("0x60")](){this[gr("0x10")]()}}function kr(t,...e){for(const n of e)void 0!==n&&(t+=":"+String(n));return t}(0,e.mix)(wr,e.ObservableMixin);const yr=["model","item","_trimToContent","change","getRanges","editor","_hasContent","start","element","textProxy","selection","isObject","getItems","execute","push","end","getLastMatchingPosition","backward","substr","comment:","_itemIsContent","createRange","refresh","isEnabled","document","tableCell","schema"];var Cr,Ar;Cr=yr,Ar=461,function(t){for(;--t;)Cr.push(Cr.shift())}(++Ar);const Tr=function(t,e){return yr[t-=0]};class Er extends t.Command{[Tr("0x14")](){const t=this[Tr("0x3")][Tr("0x19")][Tr("0x16")].selection;for(const e of t[Tr("0x2")]())if(this[Tr("0x4")](e))return void(this.isEnabled=!0);this[Tr("0x15")]=!1}[Tr("0xb")]({threadId:t=(0,e.uid)()}={}){const n=this.editor.model,o=[];for(const t of n.document[Tr("0x8")].getRanges())this[Tr("0x4")](t)&&o[Tr("0xc")](this[Tr("0x0")](t));n[Tr("0x1")]((n=>{for(const i of o){const o=(0,e.uid)()[Tr("0x10")](1,5),r=Tr("0x11")+t+":"+o;n.addMarker(r,{range:i,usingOperation:!1,affectData:!1})}}))}_hasContent(t){for(const e of t[Tr("0xa")]())if(this._itemIsContent(e))return!0;return!1}[Tr("0x12")](t){return t.is(Tr("0x7"))||this[Tr("0x3")][Tr("0x19")][Tr("0x18")][Tr("0x9")](t)&&!t.is(Tr("0x6"),Tr("0x17"))}[Tr("0x0")](t){const e=t=>!this[Tr("0x12")](t[Tr("0x1a")]),n=t[Tr("0x5")].getLastMatchingPosition(e),o=t[Tr("0xd")][Tr("0xe")](e,{direction:Tr("0xf")});return this[Tr("0x3")][Tr("0x19")][Tr("0x13")](n,o)}}const Ir=["enableCommand","RestrictedEditingModeEditing","editor","afterInit","addCommentThread","plugins"];var jr,Vr;jr=Ir,Vr=189,function(t){for(;--t;)jr.push(jr.shift())}(++Vr);const Or=function(t,e){return Ir[t-=0]};class Sr extends t.Plugin{[Or("0x0")](){const t=this[Or("0x5")];t[Or("0x2")].has(Or("0x4"))&&t[Or("0x2")].get("RestrictedEditingModeEditing")[Or("0x3")](Or("0x1"))}}var Mr=n(446),Rr={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};li()(Mr.Z,Rr);Mr.Z.locals;const Dr=["isObject","isEqual","top","_attachThreadToMarker","markerToData","_initializeMarkerConverters","createPositionBefore","fetchCommentThread","addComment","destroyed","createElement","_threads","collaboration.channelId","text","add","config","has","change:isReadOnly","conversion","_attachedThreads","addCommentThread","switchReadOnly","hasCommentThread","CommentsRepository","change:activeMarker","left","delete","getChangedMarkers","ready","getCommentThread","activeMarker","registerPostFixer","start","render","markers","set","stop","createRange","getMarkersGroup","differ","upcast","_detachCommentThread","for","length","size","document","getCommentThreads","ck-comment-marker","split","then","removeMarker","plugins","high","editing","newRange","model","dataDowncast","dataToMarker","pluginName","$marker","map","openNewCommentThread","view","comment:","destroy","hasMarkerForId","getAllMarkersForId","change","sort","push","editingDowncast","low","isCollapsed","listenTo","ck-comment-marker--active","schema","managedUsingOperations","markerName","reconvertMarker","init","affectsData","updateMarker","_handleMarkerAddAndRemove","editor","hasContent","comment","root","get"];var Pr,Br;Pr=Dr,Br=446,function(t){for(;--t;)Pr.push(Pr.shift())}(++Br);const Nr=function(t,e){return Dr[t-=0]};class zr extends t.Plugin{static get requires(){return[vr,Sr]}static get[Nr("0x34")](){return"CommentsEditing"}constructor(t){super(t),this[Nr("0x1d")]("isThreadsLoadingPaused",!0),t.data.once(Nr("0x16"),(()=>this.isThreadsLoadingPaused=!1)),this[Nr("0x1d")](Nr("0x18"),null),this.on(Nr("0x12"),((e,n,o,i)=>{t.model[Nr("0x3d")]((()=>{if(o){const{id:e}=Lr(o),n=this.getAllMarkersForId(e);for(const e of n)t[Nr("0x2f")][Nr("0x48")](e)}if(i){const{id:e}=Lr(i),n=this.getAllMarkersForId(e);for(const e of n)t.editing[Nr("0x48")](e)}}))})),this._attachedThreads=new Set}[Nr("0x49")](){const t=this.editor,e=t[Nr("0x2d")][Nr("0x51")]("CommentsRepository"),n=t[Nr("0x9")][Nr("0x51")](Nr("0x6"));t.commands.add(Nr("0xe"),new Er(t)),this[Nr("0x43")](t,Nr("0xb"),((n,o,i)=>{e[Nr("0xf")](i,t[Nr("0x9")].get(Nr("0x6")))})),this[Nr("0x43")](e,Fr("removeCommentThread",n),((n,{threadId:o})=>{t[Nr("0x31")][Nr("0x3d")]((t=>{for(const e of this[Nr("0x3c")](o))t[Nr("0x2c")](e)}));const i=e[Nr("0x17")](o);e[Nr("0x10")](o)&&!i[Nr("0x25")]||n[Nr("0x1e")]()}),{priority:Nr("0x2e")}),this[Nr("0x43")](e,Fr(Nr("0x2"),n),((n,{threadId:o,isFromAdapter:i})=>{const r=this[Nr("0x3c")](o);!i&&0!=r[Nr("0x25")]&&e[Nr("0x10")](o)&&1===e[Nr("0x17")](o).length&&t.model[Nr("0x3d")]((t=>{for(const e of r)t.updateMarker(e,{usingOperation:!0,affectsData:!0})}))}),{priority:Nr("0x41")}),this[Nr("0x57")](),this[Nr("0x4c")]()}[Nr("0x3a")](){const t=this[Nr("0x4d")][Nr("0x2d")][Nr("0x51")](Nr("0x11")),e=this[Nr("0x4d")].config[Nr("0x51")](Nr("0x6"));for(const n of t[Nr("0x28")]({channelId:e}))t[Nr("0x23")](n.id),t[Nr("0x5")][Nr("0x14")](n.id);super[Nr("0x3a")]()}[Nr("0x3b")](t){return this[Nr("0x3c")](t).length>0}[Nr("0x3c")](t){const e=this[Nr("0x4d")].model[Nr("0x1c")][Nr("0x51")](Nr("0x39")+t);return e?[e]:Array.from(this.editor[Nr("0x31")][Nr("0x1c")][Nr("0x20")](Nr("0x39")+t))}[Nr("0x57")](){const t=this[Nr("0x4d")];t[Nr("0xc")][Nr("0x24")](Nr("0x40")).markerToHighlight({model:Nr("0x4f"),view:t=>{const{id:e}=Lr(t[Nr("0x47")]),n=[Nr("0x29")];return this.activeMarker&&Lr(this[Nr("0x18")]).id===e&&n[Nr("0x3f")](Nr("0x44")),{classes:n,attributes:{"data-comment":e}}}}),t[Nr("0xc")][Nr("0x24")](Nr("0x32"))[Nr("0x56")]({model:Nr("0x4f"),view:e=>{const n=t[Nr("0x31")][Nr("0x1c")][Nr("0x51")](e),{id:o,part:i}=Lr(e);return n&&!n[Nr("0x4a")]?null:{group:Nr("0x4f"),name:i?o+":"+i:o}}}),t[Nr("0xc")][Nr("0x24")](Nr("0x22")).elementToElement({view:{name:Nr("0x4f"),attribute:{id:/^\w/}},model:(t,{writer:e})=>e[Nr("0x4")](Nr("0x35"),{"data-name":"comment:"+t.getAttribute("id")})}),t[Nr("0xc")][Nr("0x24")](Nr("0x22"))[Nr("0x33")]({view:Nr("0x4f")})}[Nr("0x4c")](){const t=this.editor,e=t[Nr("0x2d")][Nr("0x51")](Nr("0x11")),n=new Set;t[Nr("0x31")][Nr("0x27")][Nr("0x19")]((e=>{let o=!1;for(const{name:i,data:r}of t[Nr("0x31")].document[Nr("0x21")][Nr("0x15")]()){const{group:s,id:a}=Lr(i);let c=r[Nr("0x30")];if("comment"!==s||!c)continue;const x="$graveyard"===c[Nr("0x50")].rootName;x||(c=Kr(c,t[Nr("0x31")]),!c||c[Nr("0x53")](r[Nr("0x30")]))?!c||!t[Nr("0x31")][Nr("0x4e")](c)||this[Nr("0xd")][Nr("0xa")](a)&&x?(e[Nr("0x2c")](i),o=!0):x||(this.isThreadsLoadingPaused?n[Nr("0x8")](a):this._attachThreadToMarker(a)):(e[Nr("0x4b")](i,{range:c}),o=!0)}return o})),this.on("change:isThreadsLoadingPaused",((t,e,o)=>{if(!o&&n[Nr("0x26")])for(const t of n)this[Nr("0x55")](t),n[Nr("0x14")](t)})),this[Nr("0x43")](t[Nr("0x31")][Nr("0x1c")],"update:comment",((o,i,r,s)=>{if(s)return;const{id:a}=Lr(i.name),c=t[Nr("0x2d")][Nr("0x51")](Nr("0x11"))[Nr("0x17")](a);n.delete(a),c&&!this[Nr("0x3b")](a)&&(this[Nr("0xd")][Nr("0x14")](a),e[Nr("0x23")](a))}))}[Nr("0x55")](t){if(this[Nr("0xd")][Nr("0xa")](t))return;this[Nr("0xd")][Nr("0x8")](t);const n=this[Nr("0x4d")],o=n.plugins[Nr("0x51")](Nr("0x11")),r=n[Nr("0x9")][Nr("0x51")]("collaboration.channelId"),s=()=>{const o=this.getAllMarkersForId(t);if(0==o[Nr("0x25")])return null;const r=o[Nr("0x36")]((t=>(0,i.getMarkerDomElement)(n[Nr("0x2f")],t)));return r[Nr("0x3e")](((t,n)=>{const o=new e.Rect(t),i=new e.Rect(n),r=o[Nr("0x54")]-i.top;return 0==r?o[Nr("0x13")]-i[Nr("0x13")]:r})),r[0]};this[Nr("0x3c")](t)[0][Nr("0x46")]?o[Nr("0x1")]({channelId:r,threadId:t})[Nr("0x2b")]((e=>{if(Nr("0x3")!==n.state)if(e)e.attachTo(s);else{const e=this[Nr("0x3c")](t);n[Nr("0x31")][Nr("0x3d")]((t=>{for(const n of e)t[Nr("0x2c")](n)}))}})):n[Nr("0x2f")][Nr("0x38")].once(Nr("0x1b"),(()=>{o[Nr("0x37")]({channelId:r,threadId:t,target:s})}),{priority:Nr("0x41")})}}function Fr(t,e){return e?t+":"+e:t}function Lr(t){const e=t[Nr("0x2a")](":");return{group:e[0],id:e[1],part:e[2]}}function Kr(t,e){const n=e[Nr("0x45")],o=e[Nr("0x1f")](t[Nr("0x1a")]);for(const i of t.getWalker()){const{type:t,item:r,nextPosition:s}=i;if(Nr("0x7")===t||n[Nr("0x52")](r)){const t=e[Nr("0x0")](r);o.isCollapsed&&(o[Nr("0x1a")]=t),o.end=s}}return o[Nr("0x42")]?null:o}const Ur=["blur","model","init","element","isReadOnly","requires","refresh","_editorAnnotationsData","remove","range","selection","document","annotation","_dataCollectors","change:range","function","fire","listenTo","uiUpdate","update","isEqual","innerView","containsRange","getOrderedSelectedAnnotations","editing","add","getRanges","push","has","change:isFocused","addSourceCollector","view","focusTracker","get","collection","delete","getByInnerView","set","cancel","EditorAnnotations","editorannotations-invalid-source-callback","from","editor","hasDomSelection","refreshSelectedViews"];var Wr,Hr;Wr=Ur,Hr=290,function(t){for(;--t;)Wr.push(Wr.shift())}(++Hr);const Zr=function(t,e){return Ur[t-=0]};class qr extends t.Plugin{static get[Zr("0x1e")](){return[ur]}static get pluginName(){return Zr("0x13")}constructor(t){super(t),this._dataCollectors=new Set}[Zr("0x1b")](){const t=this[Zr("0x16")],e=t.plugins[Zr("0xd")](ur),n=t[Zr("0x1a")][Zr("0x24")][Zr("0x23")],o=Oi((()=>this[Zr("0x18")]()),10);n.on(Zr("0x27"),((t,e)=>{e.directChange&&(o[Zr("0x12")](),this[Zr("0x18")]())})),this[Zr("0x2a")](t[Zr("0x4")][Zr("0xb")][Zr("0x24")],Zr("0x9"),((t,e,n)=>{n&&o()})),this[Zr("0x2a")](t.ui[Zr("0xc")],Zr("0x9"),((e,n,o)=>{o||t[Zr("0x1d")]||this.fire(Zr("0x19"),{isAnnotationTracked:t=>this[Zr("0x20")][Zr("0x8")](t.innerView)})})),this[Zr("0x2a")](this[Zr("0x16")].ui,Zr("0x2c"),(()=>this.fire(Zr("0x2b"))));const i=new Set;this[Zr("0x2a")](e[Zr("0xe")],Zr("0x5"),((e,n)=>{for(const e of this[Zr("0x20")].keys())if(e===n[Zr("0x1")]){t.ui.focusTracker[Zr("0x5")](n[Zr("0xb")][Zr("0x1c")]),i[Zr("0x5")](n.view);break}})),this[Zr("0x2a")](e.collection,Zr("0x21"),((e,n)=>{i[Zr("0x8")](n[Zr("0xb")])&&(t.ui[Zr("0xc")].remove(n[Zr("0xb")][Zr("0x1c")]),i[Zr("0xf")](n[Zr("0xb")]))}))}[Zr("0x17")](){return this[Zr("0x16")][Zr("0x4")][Zr("0xb")][Zr("0x17")]}[Zr("0xa")](t){if(Zr("0x28")!=typeof t)throw new e.CKEditorError(Zr("0x14"));this[Zr("0x26")][Zr("0x5")](t)}[Zr("0x18")](){this[Zr("0x29")](Zr("0x1f"))}[Zr("0x3")]({activeAnnotation:t,annotations:e}){const n=[],o=this[Zr("0x16")][Zr("0x1a")][Zr("0x24")][Zr("0x23")],i=Array.from(o[Zr("0x6")]());for(const[t,o]of this[Zr("0x20")]){const i=r(o),s=e[Zr("0x10")](t);i&&s&&n[Zr("0x7")]({annotation:s,range:i})}function r(t){for(const e of t)for(const t of i)if(e.containsRange(t,!o.isCollapsed))return e;return null}return n.sort(((e,n)=>{const o=e[Zr("0x22")],i=n.range;if(!o[Zr("0x0")](i)){if(o[Zr("0x2")](i,!0))return 1;if(i[Zr("0x2")](o,!0))return-1}return e.annotation==t?-1:n[Zr("0x25")]==t?1:0})).map((t=>t[Zr("0x25")]))}get[Zr("0x20")](){const t=new Map;for(const e of Array[Zr("0x15")](this[Zr("0x26")]))for(const[n,o]of e())t[Zr("0x11")](n,o);return t}}var $r=n(722),Gr=n.n($r);class Jr extends t.Plugin{static get pluginName(){return"CommentsUI"}static get requires(){return[vr,zr,qr,ur]}get CommentsListView(){return qo}get CommentThreadInputView(){return Lo}init(){const t=this.editor,e=t.plugins.get(vr),n=t.plugins.get(zr),o=t.plugins.get(ur),i=t.plugins.get(qr);t.ui.componentFactory.add("comment",(()=>this._createUIButton())),i.addSourceCollector((()=>{const t=[];for(const[o,i]of e._threadToController){const e=n.getAllMarkersForId(o.id),r=e.map((t=>t.getRange()));e.length>0&&t.push([i.view,r])}return t})),this.listenTo(o,"change:activeAnnotations",((t,o,i)=>{const r=Array.from(i).map((t=>t.innerView)).find((t=>e._viewToController.has(t)));if(!r)return void(n.activeMarker=null);const s=e._viewToController.get(r).model.id,a="comment:"+s;n.hasMarkerForId(s)?n.activeMarker=a:n.activeMarker&&(n.activeMarker=null)})),this.listenTo(e,"removeCommentThread",((e,{threadId:o,isFromAdapter:i})=>{!i&&t.ui.focusTracker.isFocused&&n.hasMarkerForId(o)&&t.editing.view.focus()}),{priority:"highest"}),this.listenTo(e,"addComment",((o,{threadId:i,isFromAdapter:r})=>{!r&&n.hasMarkerForId(i)&&e.hasCommentThread(i)&&1===e.getCommentThread(i).length&&(t.editing.view.focus(),o.stop())}),{priority:"low"})}_createUIButton(){const t=this.editor,e=new go.ButtonView(t.locale),n=t.commands.get("addCommentThread"),{t:o}=this.editor.locale;return e.label=o("Comment"),e.tooltip=o("Comment"),e.icon=Gr(),e.bind("isEnabled").to(n),this.listenTo(e,"execute",(()=>n.execute())),e}}const Yr=["commentsOnlyMode","delete","addCommentThread","listenTo","view","pluginName","highest","get","clipboardInput","requires","editor","afterInit","editing","config","stop","set","clearForceDisabled","commentsOnly","affectsData","change:isEnabled","commands","isEnabled","forceDisabled","CommentsOnly","plugins","document","DragDrop","cut"];var Qr,Xr;Qr=Yr,Xr=222,function(t){for(;--t;)Qr.push(Qr.shift())}(++Xr);const ts=function(t,e){return Yr[t-=0]};class es extends t.Plugin{static get[ts("0x7")](){return ts("0x19")}static get[ts("0xb")](){return[zr]}constructor(t){super(t),this[ts("0x11")]("isEnabled",null),this.on(ts("0x15"),((t,e,n)=>{n?this._enableCommentsOnlyMode():this._disableCommentsOnlyMode()}))}[ts("0xd")](){null===this[ts("0x17")]&&(this[ts("0x17")]=!!this[ts("0xc")][ts("0xf")][ts("0x9")](ts("0x13")))}_enableCommentsOnlyMode(){for(const[t,e]of this[ts("0xc")].commands)e[ts("0x14")]&&ts("0x4")!==t&&e[ts("0x18")](ts("0x2"));this[ts("0xc")].plugins.has("DragDrop")&&this.editor[ts("0x1a")][ts("0x9")](ts("0x0"))[ts("0x18")]("commentsOnlyMode");const t=this[ts("0xc")][ts("0xe")][ts("0x6")].document;this[ts("0x5")](t,ts("0x1"),(t=>t[ts("0x10")]()),{priority:"highest"}),this[ts("0x5")](t,ts("0xa"),(t=>t[ts("0x10")]()),{priority:ts("0x8")}),this.listenTo(t,ts("0x3"),(t=>t[ts("0x10")]()),{priority:ts("0x8")})}_disableCommentsOnlyMode(){for(const[t,e]of this[ts("0xc")][ts("0x16")])e[ts("0x14")]&&ts("0x4")!==t&&e[ts("0x12")](ts("0x2"));this.stopListening(this.editor[ts("0xe")].view[ts("0x1b")])}}const ns=["activeAnnotations","listenTo","register","_removeActiveAnnotation","has","plugins","collection","attach","_uis","pluginName","annotationsuis-register-invalid-interface","push","destroy","_uisData","setActiveAnnotation","deactivate","find","add","function","isActive","size","switchTo","hasActive","_deactivateAllAnnotations","from","requires","get","AnnotationsUIs","set","init","deactivateAll","_setSelectedAnnotations","annotationsuis-activate-missing-ui","change:activeAnnotation","_activateAnnotation","context","delete","activate","_addActiveAnnotation","_visibleAnnotations","type","remove","refilterAnnotations","detach","_assertAnnotationDoesNotBelongToMultipleUIs","activeUIs","filter"];var os,is;os=ns,is=389,function(t){for(;--t;)os.push(os.shift())}(++is);const rs=function(t,e){return ns[t-=0]};class ss extends t.ContextPlugin{static get[rs("0xc")](){return[ur]}static get[rs("0x2b")](){return rs("0xe")}constructor(t){super(t),this[rs("0x20")]=new Set,this[rs("0x2a")]=new Map,this[rs("0x0")]=new Map}[rs("0x10")](){const t=this[rs("0x16")][rs("0x27")][rs("0xd")](ur);this[rs("0x23")](t,rs("0x15"),((t,e)=>{for(const t of this[rs("0x20")]){const n=this[rs("0x2a")][rs("0xd")](t);(0,this[rs("0x0")][rs("0xd")](t)[rs("0x21")])(e)&&n[rs("0x1")](e)}})),this[rs("0x23")](t,rs("0xa"),(()=>{for(const t of this[rs("0x20")])this[rs("0x2a")][rs("0xd")](t)[rs("0x1")](null)})),this[rs("0x23")](t[rs("0x1a")],rs("0x4"),((t,e)=>{this[rs("0x1f")](e)}))}[rs("0x9")](){return this[rs("0x20")][rs("0x7")]>0}[rs("0x6")](t){return this.activeUIs[rs("0x26")](t)}[rs("0x18")](t,n=(()=>!0)){const o=this[rs("0x16")][rs("0x27")].get(ur);if(!this[rs("0x2a")][rs("0x26")](t))throw new e.CKEditorError(rs("0x13"),this,{uiName:t});this[rs("0x6")](t)&&this[rs("0x2")](t),this[rs("0x20")][rs("0x4")](t);const i=new ar;(function({source:t,target:e,filter:n}){for(const o of t)n(o)&&e[sr("0x5")](o);e[sr("0x10")](t,"add",((t,o)=>{n(o)&&e[sr("0x5")](o)})),e.listenTo(t,sr("0x18"),((t,n)=>{e[sr("0x9")](n)&&e[sr("0x18")](n)}))})({source:o._visibleAnnotations,target:i,filter:n}),this[rs("0x0")][rs("0xf")](t,{collection:i,filter:n});const r=this._uis[rs("0xd")](t);r[rs("0x29")](i),this[rs("0x23")](r,rs("0x14"),((t,e,n,i)=>{i&&o[rs("0x25")](i),n&&o[rs("0x19")](n)}))}[rs("0x2")](t){this[rs("0x20")][rs("0x17")](t);const e=this[rs("0x2a")].get(t);e[rs("0x1e")](),this.stopListening(e),this[rs("0x0")].get(t)[rs("0x28")][rs("0x2e")](),this._uisData[rs("0x17")](t)}[rs("0x8")](t){const e=this.context[rs("0x27")][rs("0xd")](ur),n=Array[rs("0xb")](e[rs("0x22")])[0]||null;this[rs("0x11")](),this[rs("0x18")](t);const o=this[rs("0x2a")][rs("0xd")](t);o[rs("0x1")](n),o[rs("0x12")]&&n&&o._setSelectedAnnotations([n])}[rs("0x11")](){for(const t of this[rs("0x20")])this[rs("0x2")](t)}[rs("0x24")](t,n){if(this[rs("0x2a")][rs("0x26")](t))throw new e.CKEditorError("annotationsuis-register-already-registered");if(rs("0x5")!=typeof n[rs("0x29")]||rs("0x5")!=typeof n[rs("0x1e")]||"function"!=typeof n[rs("0x1")])throw new e.CKEditorError(rs("0x2c"),null);this[rs("0x2a")].set(t,n)}[rs("0x1d")](){const t=this[rs("0x16")][rs("0x27")][rs("0xd")](ur)[rs("0x28")],e=new Map,n=Array[rs("0xb")](this[rs("0x20")]);for(const t of this[rs("0x20")]){const n=this[rs("0x0")][rs("0xd")](t).collection;for(const o of n)e[rs("0xf")](o,t)}for(const o of t){const t=e[rs("0xd")](o);this[rs("0x1f")](o);const i=n[rs("0x3")]((t=>this._uisData[rs("0xd")](t)[rs("0x21")](o)));t!==i&&(t&&this[rs("0x0")][rs("0xd")](t)[rs("0x28")][rs("0x1c")](o),i&&this[rs("0x0")][rs("0xd")](i)[rs("0x28")][rs("0x4")](o))}}[rs("0x2e")](){this[rs("0x11")](),super[rs("0x2e")]()}[rs("0x1f")](t){const n=[];for(const e of this[rs("0x20")])(0,this._uisData[rs("0xd")](e).filter)(t)&&n[rs("0x2d")](e);if(n.length>1)throw new e.CKEditorError("annotationsuis-annotation-mismatch",null,{matchedUIs:n,annotationType:t[rs("0x1b")]})}}var as=n(100),cs={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};li()(as.Z,cs);as.Z.locals;const xs=["list","setTemplate","minHeight","createCollection","div","ck-sidebar","ck-reset","set","class"];var hs,ds;hs=xs,ds=276,function(t){for(;--t;)hs.push(hs.shift())}(++ds);const ls=function(t,e){return xs[t-=0]},us=(0,e.toUnit)("px");class ms extends go.View{constructor(t){super(t);const e=this.bindTemplate;this[ls("0x1")](ls("0x5"),0),this[ls("0x1")](ls("0x2"),""),this[ls("0x3")]=this[ls("0x6")](),this[ls("0x4")]({tag:ls("0x7"),attributes:{class:["ck",ls("0x8"),ls("0x0"),e.to(ls("0x2"))],style:{minHeight:e.to(ls("0x5"),(t=>t?us(t+10):null))}},children:this.list})}}const fs=["updateHeight","render","_mutationObserver","ck-sidebar-item","div","clear","bind","element","bindTemplate","ck-sidebar-item--no-animation","createCollection","detach","content","destroy","_targetTop","height","isAnimationDisabled","setTemplate","top","set","bottom"];var ps,gs;ps=fs,gs=131,function(t){for(;--t;)ps.push(ps.shift())}(++gs);const bs=function(t,e){return fs[t-=0]},vs=(0,e.toUnit)("px");class _s extends go.View{constructor(t){super(t),this.set(bs("0xd")),this[bs("0xe")](bs("0xa"),0),this[bs("0x1")](bs("0xf")).to(this,bs("0xd"),this,bs("0xa"),((t,e)=>(t||0)+e)),this.set("isAnimationDisabled",!1),this[bs("0x12")]=Bi((()=>this[bs("0x10")]())),this[bs("0x9")]=null,this.content=this[bs("0x5")]();const e=this[bs("0x3")];this[bs("0xc")]({tag:bs("0x14"),attributes:{class:[bs("0x13"),e.to(bs("0xb"),(t=>t?bs("0x4"):""))],style:{top:e.to(bs("0xd"),vs)}},children:this[bs("0x7")]})}[bs("0x11")](){super[bs("0x11")](),this[bs("0x12")].attach(this[bs("0x2")])}[bs("0x10")](){const t=this[bs("0x2")].clientHeight;t&&(this[bs("0xa")]=t)}[bs("0x8")](){this[bs("0x7")][bs("0x0")](),this[bs("0x12")][bs("0x6")](),super[bs("0x8")]()}}const ws=["view","_updateLastItem","bind","_sidebarItemViewToAnnotation","refresh","_annotations","container","sidebar.container","isAnimationDisabled","content","_alignAfterItem","getSidebarItemView","context","_getItemAfter","updateHeight","Sidebar","_getTargetTop","top","locale","isActive","_spaceBetweenItems","sidebar.preventScrollOutOfView","get","set","target","unbind","_setItemTop","listenTo","_detachFromContainer","minHeight","appendChild","element","change:top","getIndex","sidebar-setcontainer-invalid-element","stopListening","config","clear","remove","sidebar-attachtocontainer-missing-container","setContainer","bottom","_targetTop","_activeAnnotation","_alignBeforeItem","_alignToTargetRect","max","_destroySidebarItemView","_attachToContainer","init","targetRect","delete","add","_annotationToSidebarItemView","length","destroy","_lastItem","define","change:bottom","_getItemBefore","list","_createSidebarView","_getMaxAvailableTop"];var ks,ys;ks=ws,ys=328,function(t){for(;--t;)ks.push(ks.shift())}(++ys);const Cs=function(t,e){return ws[t-=0]};class As extends t.ContextPlugin{static get pluginName(){return Cs("0x2")}constructor(t){super(t),this[Cs("0xa")]("_lastItem"),this[Cs("0x32")]=this._createSidebarView(),this[Cs("0xa")]("container",null),this[Cs("0x7")]=25,this[Cs("0x35")]=new Map,this[Cs("0x28")]=new Map,this[Cs("0x3e")].config[Cs("0x2c")](Cs("0x8"),!1),this._annotations=null,this[Cs("0x1e")]=null}[Cs("0x24")](){const t=this[Cs("0x3e")][Cs("0x17")][Cs("0x9")](Cs("0x39"));t&&this[Cs("0x1b")](t)}setContainer(t){if(!Yi(t))throw new e.CKEditorError(Cs("0x15"));this.container=t}[Cs("0x23")]({viewClass:t="",spaceBetweenItems:n=25}={}){if(!Yi(this[Cs("0x38")]))throw new e.CKEditorError(Cs("0x1a"),this);this[Cs("0x38")][Cs("0x11")](this.view.element),this[Cs("0x32")].class=t,this[Cs("0x7")]=n}rearrange({removedAnnotation:t,previousAnnotation:e,nextAnnotation:n}){const o=this.getSidebarItemView(t);this[Cs("0x32")][Cs("0x2f")][Cs("0x19")](o),this._destroySidebarItemView(t),e&&this[Cs("0x20")](this[Cs("0x3d")](e)),n&&this[Cs("0x20")](this[Cs("0x3d")](n)),this[Cs("0x33")]()}[Cs("0x36")]({blurredAnnotation:t,activatedAnnotation:e,disableAnimationOnActivatedAnnotation:n}){if(this._activeAnnotation=e,t){t[Cs("0x6")]=!1;const e=this[Cs("0x3d")](t);e&&n&&(e.isAnimationDisabled=!1)}if(e){const t=this[Cs("0x3d")](e);t&&(e[Cs("0x6")]=!0,n&&(t[Cs("0x3a")]=!0,t[Cs("0x4")]+=1),this[Cs("0x20")](t))}}[Cs("0xf")](t){this[Cs("0x16")](),this[Cs("0x32")][Cs("0x12")][Cs("0x19")]();for(const e of t)this._destroySidebarItemView(e);this[Cs("0x32")][Cs("0x2f")][Cs("0x18")](),this[Cs("0x32")].class="",this[Cs("0x2b")]=null}addAnnotation(t,e){e||(e=t[Cs("0x32")]);const n=new _s(this[Cs("0x3e")][Cs("0x5")]);this._sidebarItemViewToAnnotation[Cs("0xa")](n,t),this[Cs("0x28")][Cs("0xa")](t,n),n[Cs("0x3b")][Cs("0x27")](e),this[Cs("0x20")](n),this[Cs("0xe")](t[Cs("0x32")],"change:targetRect",(()=>{const t=this[Cs("0x3")](n);n[Cs("0x1d")]!=t&&(n[Cs("0x1d")]=t,this[Cs("0xd")](n,t))})),this[Cs("0xe")](n,Cs("0x13"),Si((()=>{if(!n[Cs("0x3b")][Cs("0x29")])return;const t=this[Cs("0x2e")](n);if(!t)return;const e=this[Cs("0x35")][Cs("0x9")](t),o=this[Cs("0x1e")];o&&o===e?this[Cs("0x3c")](t,n):this[Cs("0x1f")](n,t)}),10,{leading:!1})),this[Cs("0xe")](n,Cs("0x2d"),Si((()=>{if(!n.content[Cs("0x29")])return;const t=this[Cs("0x0")](n);if(!t)return;const e=this._sidebarItemViewToAnnotation[Cs("0x9")](t),o=this[Cs("0x3e")].config[Cs("0x9")](Cs("0x8")),i=this._activeAnnotation;i&&i===e&&o?(this[Cs("0x1f")](t,n),this[Cs("0x3c")](n,t)):i&&i===e?this[Cs("0x1f")](t,n):this[Cs("0x3c")](n,t)}),10,{leading:!1}));const o=this[Cs("0x2e")](n);return o&&this[Cs("0x3c")](o,n)||this._alignToTargetRect(n),this[Cs("0x33")](),this.view.list[Cs("0x27")](n),n}[Cs("0x3d")](t){return this[Cs("0x28")][Cs("0x9")](t)}[Cs("0x2a")](){this[Cs("0x32")][Cs("0x2a")]()}[Cs("0x22")](t){const e=this[Cs("0x3d")](t);this[Cs("0x16")](e),this[Cs("0x16")](t[Cs("0x32")]),e[Cs("0x2a")](),this[Cs("0x28")].delete(t),this._sidebarItemViewToAnnotation[Cs("0x26")](e)}[Cs("0x30")](){const t=new ms(this[Cs("0x3e")][Cs("0x5")]);return t.render(),this.on("change:_lastItem",((e,n,o,i)=>{i&&t[Cs("0xc")](Cs("0x10")),o?t[Cs("0x34")](Cs("0x10")).to(o,Cs("0x1c")):t.minHeight=null})),t}[Cs("0x33")](){this[Cs("0x2b")]=this.getSidebarItemView(this[Cs("0x37")].last)}[Cs("0x2e")](t){const e=this._sidebarItemViewToAnnotation.get(t),n=this._annotations[Cs("0x9")](this._annotations[Cs("0x14")](e)-1);return n&&this[Cs("0x3d")](n)}_getItemAfter(t){const e=this[Cs("0x35")].get(t),n=this[Cs("0x37")].get(this[Cs("0x37")][Cs("0x14")](e)+1);return n&&this[Cs("0x3d")](n)}[Cs("0x1f")](t,e){t.updateHeight();const n=Ts(e[Cs("0x1c")]+this[Cs("0x7")],t[Cs("0x4")]);return!!n&&(this[Cs("0xd")](e,e[Cs("0x4")]-n),!0)}[Cs("0x3c")](t,e){t[Cs("0x1")]();const n=Ts(t[Cs("0x1c")]+this._spaceBetweenItems,e[Cs("0x4")]);return!!n&&(this._setItemTop(e,e[Cs("0x4")]+n,!1),!0)}[Cs("0x20")](t){const e=this[Cs("0x35")][Cs("0x9")](t);if(!e||!e[Cs("0xb")])return;const n=this._getTargetTop(t);this[Cs("0xd")](t,n)}_getTargetTop(t){const n=this[Cs("0x35")][Cs("0x9")](t);if(null===n[Cs("0x25")])return 0;if(n[Cs("0xb")]instanceof e.Rect)return n[Cs("0x25")][Cs("0x4")];{const t=new e.Rect(this.view[Cs("0x12")])[Cs("0x4")];return n[Cs("0x25")][Cs("0x4")]-t}}[Cs("0xd")](t,e,n=this[Cs("0x3e")][Cs("0x17")][Cs("0x9")](Cs("0x8"))){n&&(e=Math[Cs("0x21")](e,this[Cs("0x31")](t))),t.top=e}[Cs("0x31")](t){let e=this[Cs("0x2e")](t),n=0;for(;e;)e.updateHeight(),n+=this[Cs("0x7")]+e.height,e=this[Cs("0x2e")](e);return n}}function Ts(t,e){return Math[Cs("0x21")](t-e,0)}const Es=["get","focus","pluginName","refresh","editors","requires","register","context","blur","uiUpdate","from","attach","set:container","WideSidebar","getOrderedSelectedAnnotations","_annotations","resize","switchTo","hasDomSelection","EditorAnnotations","addAnnotation","addEventListener","_throttledPositioningRefresh","_destroyEditorAnnotationsIntegration","_integrateWithEditorAnnotations","container","high","activeAnnotation","detach","stopListening","init","widesidebar-detach-not-attached","plugins","remove","setActiveAnnotation","isAttached","removeEventListener","set","Sidebar","listenTo","destroy","_detachFromContainer","updateTargetRect","refreshPositioning","_editorAnnotations","add","off","wideSidebar"];var Is,js;Is=Es,js=440,function(t){for(;--t;)Is.push(Is.shift())}(++js);const Vs=function(t,e){return Es[t-=0]};class Os extends t.ContextPlugin{static get[Vs("0x2d")](){return[As,ss]}static get[Vs("0x2a")](){return Vs("0x5")}constructor(t){super(t),this[Vs("0x1b")]=!1,this[Vs("0x1d")](Vs("0x13"),null),this[Vs("0x7")]=null,this[Vs("0x24")]=new e.Collection,this[Vs("0xe")]=Si((()=>{this[Vs("0x7")][Vs("0x23")]()}),400,{leading:!1})}[Vs("0x16")](){const t=this[Vs("0x2f")].plugins.get(ss),e=this[Vs("0x2f")][Vs("0x18")][Vs("0x28")](As);t[Vs("0x2e")](Vs("0x27"),this),e[Vs("0x11")]&&t[Vs("0x9")](Vs("0x27"))}[Vs("0x1a")](t){if(t===this[Vs("0x13")])return;const e=this[Vs("0x2f")][Vs("0x18")][Vs("0x28")](As);e._activeAnnotation=t;const n=this.activeAnnotation;this[Vs("0x13")]=t,e[Vs("0x2b")]({blurredAnnotation:n,activatedAnnotation:this.activeAnnotation})}[Vs("0x3")](t){this[Vs("0x7")]=t;const n=this.context[Vs("0x18")][Vs("0x28")](Vs("0x1e"));if(n[Vs("0x7")]=t,this[Vs("0x1b")])throw new e.CKEditorError("widesidebar-attach-already-attached",this);this[Vs("0x1b")]=!0,this[Vs("0x1f")](n,Vs("0x4"),(()=>{this.detach(),this[Vs("0x1f")](n,"change:container",(e=>{e[Vs("0x26")](),this[Vs("0x3")](t)}))})),n._attachToContainer({viewClass:"ck-sidebar--wide"});const o=t=>{t[Vs("0x22")](),n[Vs("0xc")](t)};for(const e of t)o(e);this[Vs("0x1f")](t,Vs("0x25"),((t,e)=>{o(e)})),this[Vs("0x1f")](t,Vs("0x19"),((e,o,i)=>{n.rearrange({removedAnnotation:o,previousAnnotation:t.get(i-1),nextAnnotation:t[Vs("0x28")](i+1)}),o===this[Vs("0x13")]&&this[Vs("0x1a")](null)}),{priority:Vs("0x12")}),this.listenTo(t,Vs("0x29"),((t,e)=>{this[Vs("0x1a")](e)})),this.listenTo(t,Vs("0x0"),(()=>{this[Vs("0x1a")](null)}));const i=this[Vs("0x2f")][Vs("0x2c")]?this[Vs("0x2f")][Vs("0x2c")]:new e.Collection([this[Vs("0x2f")]]);for(const t of i)this._integrateWithEditorAnnotations(t);this.listenTo(i,Vs("0x25"),((t,e)=>{this[Vs("0x1f")](e,"ready",(()=>{this[Vs("0x10")](e)}))})),this[Vs("0x1f")](i,"remove",((t,e)=>{e.plugins.has(Vs("0xb"))&&this[Vs("0xf")](e[Vs("0x18")].get("EditorAnnotations"))})),window[Vs("0xd")](Vs("0x8"),this._throttledPositioningRefresh),this[Vs("0x7")][Vs("0x23")]()}detach(){if(!this[Vs("0x1b")])throw new e.CKEditorError(Vs("0x17"),this);this.setActiveAnnotation(null);const t=this[Vs("0x2f")][Vs("0x18")][Vs("0x28")](As);t[Vs("0x21")](this[Vs("0x7")]),this[Vs("0x15")](t),this[Vs("0x15")](this[Vs("0x7")]),this[Vs("0x15")](this[Vs("0x2f")].editors);for(const t of Array[Vs("0x2")](this[Vs("0x24")]))this._destroyEditorAnnotationsIntegration(t);window[Vs("0x1c")]("resize",this._throttledPositioningRefresh),this._throttledPositioningRefresh.cancel(),this[Vs("0x13")]=null,this[Vs("0x1b")]=!1}[Vs("0x20")](){this[Vs("0x1b")]&&this[Vs("0x14")]()}_integrateWithEditorAnnotations(t){const e=t[Vs("0x18")].get(Vs("0xb"));if(!e)return;const n=()=>{const t=e[Vs("0x6")]({annotations:this._annotations,activeAnnotation:this[Vs("0x13")]});this[Vs("0x1a")](t[0]||null)};this[Vs("0x1f")](e,"refresh",n),this[Vs("0x1f")](e,"blur",((t,{isAnnotationTracked:e})=>{this.activeAnnotation&&e(this[Vs("0x13")])&&this.setActiveAnnotation(null)})),this[Vs("0x1f")](e,Vs("0x1"),(()=>{this[Vs("0x7")][Vs("0x23")]()})),this.listenTo(this[Vs("0x7")],"blur",(t=>{e[Vs("0xa")]()&&(n(),t.stop())}),{priority:Vs("0x12")}),this._editorAnnotations[Vs("0x25")](e)}_destroyEditorAnnotationsIntegration(t){t&&(this.stopListening(t),this[Vs("0x24")][Vs("0x19")](t))}}const Ss=["bind","add","ck-annotation-counter","bindTemplate","isDirty","icon","setTemplate","children","ck-annotation-counter__badge--edit-mode","span","_badge","extendTemplate","number","counterView","annotationType","set"];var Ms,Rs;Ms=Ss,Rs=245,function(t){for(;--t;)Ms.push(Ms.shift())}(++Rs);const Ds=function(t,e){return Ss[t-=0]};class Ps extends go.ButtonView{constructor(t){super(t);const e=this[Ds("0xe")];this.set("isDirty",!1),this[Ds("0xa")]("number",0),this[Ds("0xb")](Ds("0x5")).to(this,"isDirty",this,Ds("0x7"),((t,e)=>t?"...":e)),this[Ds("0xa")]("annotationType",""),this[Ds("0x0")]=Gr(),this[Ds("0x6")]({attributes:{class:[Ds("0xd")]}}),this.counterView=new go.View,this[Ds("0x8")][Ds("0x1")]({tag:Ds("0x4"),attributes:{class:["ck-annotation-counter__badge",e.to(Ds("0x9"),(t=>"ck-annotation-counter__badge--"+t)),e.if(Ds("0xf"),Ds("0x3"))]},children:[{text:e.to(Ds("0x5"))}]}),this[Ds("0x2")][Ds("0xc")](this.counterView)}}var Bs=n(28),Ns={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};li()(Bs.Z,Ns);Bs.Z.locals;const zs=["resize","mousedown","_destroyEditorAnnotationsIntegration","change:container","activeAnnotation","destroy","low","delete","remove","_manuallyClosedAnnotationViews","EditorAnnotations","isVisible","listenTo","includes","hasDomSelection","addEventListener","view","editors","blur","init","northArrowSouthEast","high","setActiveAnnotation","narrowsidebar-attach-already-attached","stopPropagation","bodyCollection","northArrowSouthWest","length","has","_attachListeners","narrowsidebar-detach-not-attached","attach","pluginName","content","create","from","_showBalloon","change:height","stop","_throttledRefreshPositioning","Sidebar","get","refresh","element","number","preventClosingBalloon","rearrange","isAttached","annotationType","addAnnotation","_refreshPositioning","register","defaultPositions","unpin","_domEmitter","preventDefault","balloonPanelView","_editorAnnotations","detach","contains","southArrowNorthWest","attachToDom","pin","getSidebarItemView","_annotationToNarrowView","context","_updateBalloonPosition","plugins","isDirty","locale","refreshPositioning","ready","focus","_annotations","target","_hideBalloon","_detachFromContainer","narrowSidebar","esc","_selectedAnnotations","clear","execute","getByView","ck-sidebar--narrow","add","values","stopListening","_setSelectedAnnotations","bind","type","uiUpdate","keydown","keyCode","_detachListeners","removeEventListener","_integrateWithEditorAnnotations","first"];var Fs,Ls;Fs=zs,Ls=105,function(t){for(;--t;)Fs.push(Fs.shift())}(++Ls);const Ks=function(t,e){return zs[t-=0]};class Us extends t.ContextPlugin{static get requires(){return[As,ss]}static get[Ks("0x18")](){return"NarrowSidebar"}constructor(t){super(t),this[Ks("0x27")]=!1,this._manuallyClosedAnnotationViews=new Set,this[Ks("0x2e")]=Object[Ks("0x1a")](e.DomEmitterMixin),this[Ks("0x38")]=new Map,this.set(Ks("0x5d"),null),this[Ks("0x41")]=null,this[Ks("0x47")]=[],this[Ks("0x31")]=new e.Collection,this[Ks("0x1f")]=Si((()=>{this._refreshPositioning()}),400,{leading:!1})}[Ks("0xb")](){this[Ks("0x39")][Ks("0x3b")].get(ss)[Ks("0x2b")](Ks("0x45"),this),this[Ks("0x11")]=new go.BodyCollection(this[Ks("0x39")][Ks("0x3d")]),this.balloonPanelView=new go.BalloonPanelView(this.context[Ks("0x3d")]),this[Ks("0x11")][Ks("0x35")](),this[Ks("0x11")][Ks("0x4c")](this.balloonPanelView)}attach(t){this[Ks("0x41")]=t;const n=this[Ks("0x39")][Ks("0x3b")][Ks("0x21")](As),o=this[Ks("0x30")];if(n[Ks("0x41")]=t,this.isAttached)throw new e.CKEditorError(Ks("0xf"),this);this[Ks("0x27")]=!0,this.listenTo(n,"set:container",(()=>{this.detach(),this[Ks("0x4")](n,Ks("0x5c"),(e=>{e.off(),this[Ks("0x17")](t)}))})),n._attachToContainer({viewClass:Ks("0x4b"),spaceBetweenItems:5});const i=t=>{const e=new Ps(this[Ks("0x39")][Ks("0x3d")]);n[Ks("0x29")](t,e),this._annotationToNarrowView.set(t,e),e[Ks("0x50")](Ks("0x3c"),Ks("0x28"),Ks("0x24")).to(t.view,Ks("0x3c"),Ks("0x51"),Ks("0x13")),e.on(Ks("0x49"),(()=>{this[Ks("0x1")][Ks("0x48")](),o[Ks("0x19")][Ks("0x58")]!==t[Ks("0x8")]?(this[Ks("0x1c")](t),t[Ks("0x8")][Ks("0x23")][Ks("0x40")](),this[Ks("0xe")](t)):this[Ks("0xe")](null)}))};for(const e of t)i(e);this[Ks("0x4")](t,Ks("0x4c"),((t,e)=>{i(e)})),this.listenTo(t,Ks("0x0"),((e,o,i)=>{this[Ks("0x38")][Ks("0x21")](o).destroy(),this._annotationToNarrowView[Ks("0x60")](o),n[Ks("0x26")]({removedAnnotation:o,previousAnnotation:t[Ks("0x21")](i-1),nextAnnotation:t[Ks("0x21")](i+1)}),o===this[Ks("0x5d")]&&this[Ks("0xe")](null)}),{priority:Ks("0x5f")}),this[Ks("0x4")](t,Ks("0x40"),((t,e)=>{this[Ks("0xe")](e)})),this[Ks("0x4")](t,"blur",(()=>{this[Ks("0xe")](null)})),this._domEmitter[Ks("0x4")](document,Ks("0x53"),((t,n)=>{n[Ks("0x54")]===e.keyCodes[Ks("0x46")]&&o[Ks("0x3")]&&(this[Ks("0x1")][Ks("0x4c")](o.content[Ks("0x58")]),this[Ks("0x43")](),n[Ks("0x10")](),n[Ks("0x2f")]())})),this[Ks("0x2e")][Ks("0x4")](document,"mousedown",((t,e)=>{const i=e[Ks("0x42")];o.isVisible&&o.element.contains(i)||n[Ks("0x8")][Ks("0x23")][Ks("0x33")](i)||t[Ks("0x25")]||(this[Ks("0x1")][Ks("0x48")](),this._hideBalloon(),this[Ks("0xe")](null))}));const r=this[Ks("0x39")][Ks("0x9")]?this[Ks("0x39")][Ks("0x9")]:new e.Collection([this[Ks("0x39")]]);for(const t of r)this._integrateWithEditorAnnotations(t);this[Ks("0x4")](r,Ks("0x4c"),((t,e)=>{this[Ks("0x4")](e,Ks("0x3f"),(()=>{this[Ks("0x57")](e)}))})),this[Ks("0x4")](r,Ks("0x0"),((t,e)=>{e[Ks("0x3b")][Ks("0x14")](Ks("0x2"))&&this[Ks("0x5b")](e[Ks("0x3b")][Ks("0x21")](Ks("0x2")))})),window[Ks("0x7")](Ks("0x59"),this[Ks("0x1f")]),this[Ks("0x2a")]()}[Ks("0xe")](t){if(t===this[Ks("0x5d")])return;const e=this.context[Ks("0x3b")].get("Sidebar");e[Ks("0x22")]({blurredAnnotation:this[Ks("0x5d")],activatedAnnotation:t,disableAnimationOnActivatedAnnotation:!0}),t?e[Ks("0x37")](t)?this[Ks("0x1c")](t):this[Ks("0x43")]():this._hideBalloon(),this[Ks("0x5d")]=t}[Ks("0x32")](){if(!this[Ks("0x27")])throw new e.CKEditorError(Ks("0x16"),this);this[Ks("0xe")](null);const t=this.context[Ks("0x3b")][Ks("0x21")](Ks("0x20"));this[Ks("0x43")](),Array.from(this[Ks("0x38")][Ks("0x4d")](),(t=>t[Ks("0x5e")]())),this._annotationToNarrowView[Ks("0x48")](),t[Ks("0x44")](this[Ks("0x41")]),this[Ks("0x4e")](),this[Ks("0x2e")][Ks("0x4e")](),this[Ks("0x4e")](this[Ks("0x39")][Ks("0x9")]);for(const t of Array[Ks("0x1b")](this[Ks("0x31")]))this[Ks("0x5b")](t);window[Ks("0x56")](Ks("0x59"),this._throttledRefreshPositioning),this._throttledRefreshPositioning.cancel(),this[Ks("0x47")]=[],this.isAttached=!1,this[Ks("0x41")]=null}[Ks("0x5e")](){this.isAttached&&this[Ks("0x32")](),this.bodyCollection.detachFromDom()}[Ks("0x57")](t){const e=t[Ks("0x3b")][Ks("0x21")](Ks("0x2")),n=this[Ks("0x39")][Ks("0x3b")][Ks("0x21")](As),o=this._annotations,i=this[Ks("0x30")],r=()=>{const t=e.getOrderedSelectedAnnotations({activeAnnotation:this.activeAnnotation,annotations:this._annotations});this._setSelectedAnnotations(t),this[Ks("0xe")](t[0]||null)};this[Ks("0x4")](e,"refresh",r),this[Ks("0x4")](e,"blur",((t,{isAnnotationTracked:e})=>{this[Ks("0x5d")]&&e(this[Ks("0x5d")])&&(this[Ks("0x4f")]([]),this[Ks("0xe")](null))})),this[Ks("0x4")](e,Ks("0x52"),(()=>{this[Ks("0x1f")]()})),this[Ks("0x4")](o,Ks("0xa"),(t=>{e[Ks("0x6")]()&&t[Ks("0x1e")]()}),{priority:Ks("0xd")}),this[Ks("0x2e")][Ks("0x4")](document,Ks("0x5a"),((t,o)=>{const s=o[Ks("0x42")];i[Ks("0x3")]&&i[Ks("0x23")].contains(s)||n[Ks("0x8")][Ks("0x23")][Ks("0x33")](s)||this[Ks("0x5d")]&&e.hasDomSelection()&&(r(),t[Ks("0x25")]=!0)}),{priority:Ks("0xd")}),this[Ks("0x31")][Ks("0x4c")](e)}[Ks("0x5b")](t){t&&(this.stopListening(t),this[Ks("0x31")][Ks("0x0")](t))}_setSelectedAnnotations(t){for(const e of this[Ks("0x47")])t[Ks("0x5")](e)||this[Ks("0x1")][Ks("0x60")](e[Ks("0x8")]);this[Ks("0x47")]=t}[Ks("0x2a")](){const t=this[Ks("0x30")];this[Ks("0x41")][Ks("0x3e")](),t[Ks("0x3")]&&this[Ks("0x3a")]()}[Ks("0x1c")](t){if(this[Ks("0x1")].has(t[Ks("0x8")]))return;const e=this[Ks("0x30")][Ks("0x19")].first;e!==t[Ks("0x8")]?(e&&this[Ks("0x55")](e),this[Ks("0x15")](t[Ks("0x8")]),this[Ks("0x30")][Ks("0x19")][Ks("0x48")](),this[Ks("0x30")][Ks("0x19")][Ks("0x4c")](t[Ks("0x8")]),this[Ks("0x3a")]()):this[Ks("0x3a")]()}[Ks("0x3a")](){const t=this[Ks("0x30")].content[Ks("0x58")],e=this[Ks("0x41")][Ks("0x4a")](t);if(!this[Ks("0x38")][Ks("0x14")](e))return;const n=this[Ks("0x38")][Ks("0x21")](e)[Ks("0x23")],o=function(){const t=go.BalloonPanelView[Ks("0x2c")];return[t.southArrowNorthEast,t[Ks("0xc")],t.southArrowNorth,t.northArrowSouth,t[Ks("0x34")],t[Ks("0x12")]]}();this.balloonPanelView[Ks("0x36")]({target:n,positions:o})}_hideBalloon(){const t=this[Ks("0x30")],e=t[Ks("0x19")].first;e&&(this[Ks("0x55")](e),t[Ks("0x2d")](),t[Ks("0x19")].clear())}_attachListeners(t){this[Ks("0x4")](t,Ks("0x1d"),(()=>this._updateBalloonPosition())),this.listenTo(t,"Esc",((e,n)=>{this[Ks("0x1")][Ks("0x4c")](t),this[Ks("0x43")](),n()}))}[Ks("0x55")](t){this[Ks("0x4e")](t)}}var Ws=n(275),Hs={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};li()(Ws.Z,Hs);Ws.Z.locals;const Zs=["detach","view","isActive","_selectedAnnotations","change:isFocused","document","afterInit","inline","refresh","_annotations","_addAnnotationToBalloon","visibleView","change:visibleView","requires","InlineAnnotations","inlineannotations-detach-not-attached","clear","_setSelectedAnnotations","editor","get","remove","selection","_manuallyClosed","isAttached","has","getSelection","set","blur","focusTracker","includes","showStack","updatePosition","add","hasView","switchTo","context","editing","delete","isFocused","attach","inlineannotations-attach-already-attached","focus","stopListening","Esc","destroy","_removeAnnotationFromBalloon","getByView","register","activeAnnotation","listenTo","mousedown","_addedAnnotations","pluginName","_balloon","plugins","targetRect","setActiveAnnotation","getOrderedSelectedAnnotations","update","bind","hasActive"];var qs,$s;qs=Zs,$s=467,function(t){for(;--t;)qs.push(qs.shift())}(++$s);const Gs=function(t,e){return Zs[t-=0]};class Js extends t.Plugin{static get[Gs("0x22")](){return[qr,go.ContextualBalloon,ss]}static get[Gs("0xc")](){return Gs("0x23")}constructor(t){super(t),t[Gs("0x39")][Gs("0x16")].addObserver(Co.MouseObserver),this[Gs("0x2c")]=!1,this[Gs("0x2f")](Gs("0x8"),null),this[Gs("0x1e")]=null,this[Gs("0x2b")]=new Set,this[Gs("0xd")]=t[Gs("0xe")][Gs("0x28")](go.ContextualBalloon),this[Gs("0xb")]=new Set,this[Gs("0x18")]=[]}init(){const t=this[Gs("0x27")].plugins[Gs("0x28")](ss);t.context===this[Gs("0x27")]&&(t[Gs("0x7")](Gs("0x1c"),this),this[Gs("0x27")].keystrokes[Gs("0x2f")](Gs("0x3"),((t,e)=>{const n=this[Gs("0xd")];if(this.isAttached&&n[Gs("0x20")]){const t=this[Gs("0x1e")][Gs("0x6")](n[Gs("0x20")]);this._manuallyClosed[Gs("0x35")](t),this._removeAnnotationFromBalloon(t),e()}})))}[Gs("0x1b")](){const t=this[Gs("0x27")][Gs("0xe")][Gs("0x28")](ss);t.context===this.editor&&(t[Gs("0x14")]()||t[Gs("0x37")]("inline"))}setActiveAnnotation(t){t!==this[Gs("0x8")]&&(this[Gs("0x8")]&&(this.activeAnnotation[Gs("0x17")]=!1),t&&this[Gs("0x27")].ui[Gs("0x31")][Gs("0x3b")]&&(this[Gs("0x1f")](t,!0),t[Gs("0x17")]=!0),t||this[Gs("0x26")]([]),this[Gs("0x8")]=t)}[Gs("0x3c")](t){this[Gs("0x1e")]=t;const n=this[Gs("0x27")][Gs("0xe")][Gs("0x28")](ss),o=this[Gs("0xd")];if(this[Gs("0x2c")])throw new e.CKEditorError(Gs("0x0"),this);if(n[Gs("0x38")]!==this.editor)throw new e.CKEditorError("inlineannotations-not-allowed-with-context",this);const i=this[Gs("0x27")][Gs("0xe")].get("EditorAnnotations");this[Gs("0x9")](i,Gs("0x1d"),function(){const t=i[Gs("0x11")]({activeAnnotation:this[Gs("0x8")],annotations:this[Gs("0x1e")]});this[Gs("0x26")](t),this.setActiveAnnotation(t[0]||null)}[Gs("0x13")](this)),this[Gs("0x9")](i,Gs("0x30"),((t,{isAnnotationTracked:e})=>{this.activeAnnotation&&e(this[Gs("0x8")])&&(this[Gs("0x26")]([]),this.setActiveAnnotation(null))})),this[Gs("0x9")](this[Gs("0x27")].ui[Gs("0x31")],Gs("0x19"),((t,e,n)=>{n||this[Gs("0x10")](null)})),this[Gs("0x9")](t,Gs("0x29"),((t,e)=>{this[Gs("0x5")](e),e===this[Gs("0x8")]&&this[Gs("0x10")](null)})),this.listenTo(o,Gs("0x21"),((e,n,i,r)=>{if(r&&this[Gs("0x2")](r),!i||!t[Gs("0x6")](i))return;const s=t[Gs("0x6")](i);this[Gs("0x9")](i,"change:height",(()=>{o[Gs("0x34")]()})),this.listenTo(i,"Esc",(()=>{this[Gs("0x2b")][Gs("0x35")](s),this[Gs("0x5")](s),this[Gs("0x27")].editing[Gs("0x16")][Gs("0x1")]()})),this[Gs("0x8")]!==s&&this.setActiveAnnotation(s)})),this[Gs("0x9")](this[Gs("0x27")].ui,Gs("0x12"),(()=>{o[Gs("0x20")]&&t[Gs("0x6")](o[Gs("0x20")])&&o[Gs("0x34")]()})),this[Gs("0x9")](this.editor[Gs("0x39")][Gs("0x16")][Gs("0x1a")],Gs("0xa"),(()=>{this._manuallyClosed[Gs("0x25")]()})),this[Gs("0x27")][Gs("0x39")][Gs("0x16")][Gs("0x1a")][Gs("0x2a")].editableElement&&this[Gs("0x27")].editing[Gs("0x16")].focus(),this[Gs("0x2c")]=!0}detach(){if(!this[Gs("0x2c")])throw new e.CKEditorError(Gs("0x24"),this);this[Gs("0x10")](null);for(const t of this[Gs("0xb")])this._removeAnnotationFromBalloon(t);this[Gs("0x2")](),this[Gs("0x2c")]=!1}[Gs("0x4")](){this[Gs("0x2c")]&&this[Gs("0x15")]()}_setSelectedAnnotations(t){const e=this[Gs("0x18")];for(const n of e)t.includes(n)||this._manuallyClosed.delete(n);for(const e of this._annotations)t[Gs("0x32")](e)||this._removeAnnotationFromBalloon(e);if(this[Gs("0x27")].ui[Gs("0x31")][Gs("0x3b")])for(const e of t)this[Gs("0x1f")](e);this[Gs("0x18")]=t}_addAnnotationToBalloon(t,e){this._manuallyClosed[Gs("0x2d")](t)||(this._addedAnnotations.has(t)||this._balloon[Gs("0x36")](t[Gs("0x16")])||(this[Gs("0xb")][Gs("0x35")](t),this[Gs("0xd")].add({stackId:t[Gs("0x16")].id,view:t[Gs("0x16")],position:{target:()=>t.target||t[Gs("0xf")]||document[Gs("0x2e")]().getRangeAt(0)}})),e&&this._balloon[Gs("0x33")](t[Gs("0x16")].id))}_removeAnnotationFromBalloon(t){this[Gs("0xb")][Gs("0x2d")](t)&&this[Gs("0xd")][Gs("0x36")](t[Gs("0x16")])&&(this[Gs("0xb")][Gs("0x3a")](t),this._balloon[Gs("0x29")](t[Gs("0x16")]))}}var Ys,Qs,Xs=["Comments","pluginName"];Ys=Xs,Qs=161,function(t){for(;--t;)Ys.push(Ys.shift())}(++Qs);var ta=function(t,e){return Xs[t-=0]};class ea extends t.Plugin{static get requires(){return[vr,zr,Jr,es,Os,Us,Js]}static get[ta("0x0")](){return ta("0x1")}}})(),(window.CKEditor5=window.CKEditor5||{}).comments=o})();